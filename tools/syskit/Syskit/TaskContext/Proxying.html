<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Syskit::TaskContext::Proxying
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Syskit::TaskContext::Proxying";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span>
     &raquo; 
    <span class="title">Proxying</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Syskit::TaskContext::Proxying
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/syskit/task_context.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commit_transaction-instance_method" title="#commit_transaction (instance method)">#<strong>commit_transaction</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create dynamically instantiated ports on the real task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#transaction_modifies_static_ports%3F-instance_method" title="#transaction_modifies_static_ports? (instance method)">#<strong>transaction_modifies_static_ports?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="commit_transaction-instance_method">
  
    #<strong>commit_transaction</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create dynamically instantiated ports on the real task</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1120
1121
1122
1123
1124
1125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/task_context.rb', line 1120</span>

<span class='kw'>def</span> <span class='id identifier rubyid_commit_transaction'>commit_transaction</span>
    <span class='kw'>super</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='kw'>super</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_specialized_model?'>specialized_model?</span>
        <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_merge_orogen_task_context_models'><span class='object_link'><a href="../Models.html#merge_orogen_task_context_models-class_method" title="Syskit::Models.merge_orogen_task_context_models (method)">merge_orogen_task_context_models</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid___getobj__'>__getobj__</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_orogen_model'>orogen_model</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_orogen_model'>orogen_model</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="transaction_modifies_static_ports?-instance_method">
  
    #<strong>transaction_modifies_static_ports?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1127
1128
1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/task_context.rb', line 1127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_transaction_modifies_static_ports?'>transaction_modifies_static_ports?</span>
    <span class='id identifier rubyid_new_connections_to_static'>new_connections_to_static</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_each_concrete_input_connection'>each_concrete_input_connection</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source_task'>source_task</span><span class='comma'>,</span> <span class='id identifier rubyid_source_port'>source_port</span><span class='comma'>,</span> <span class='id identifier rubyid_sink_port'>sink_port</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_find_input_port'>find_input_port</span><span class='lparen'>(</span><span class='id identifier rubyid_sink_port'>sink_port</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_static?'>static?</span>
            <span class='id identifier rubyid_sources'>sources</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_new_connections_to_static'>new_connections_to_static</span><span class='lbracket'>[</span><span class='id identifier rubyid_sink_port'>sink_port</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_sources'>sources</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_source_task'>source_task</span><span class='period'>.</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='comma'>,</span> <span class='id identifier rubyid_source_port'>source_port</span><span class='rbracket'>]</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_each_concrete_output_connection'>each_concrete_output_connection</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source_port'>source_port</span><span class='comma'>,</span> <span class='id identifier rubyid_sink_port'>sink_port</span><span class='comma'>,</span> <span class='id identifier rubyid_sink_task'>sink_task</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_find_output_port'>find_output_port</span><span class='lparen'>(</span><span class='id identifier rubyid_source_port'>source_port</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_static?'>static?</span>
            <span class='id identifier rubyid_sinks'>sinks</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_new_connections_to_static'>new_connections_to_static</span><span class='lbracket'>[</span><span class='id identifier rubyid_source_port'>source_port</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_sinks'>sinks</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_sink_task'>sink_task</span><span class='period'>.</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='comma'>,</span> <span class='id identifier rubyid_sink_port'>sink_port</span><span class='rbracket'>]</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_current_connections_to_static'>current_connections_to_static</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='const'><span class='object_link'><a href="../../Syskit.html#ActualDataFlow-constant" title="Syskit::ActualDataFlow (constant)">ActualDataFlow</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each_in_neighbour'>each_in_neighbour</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_task'>orocos_task</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source_task'>source_task</span><span class='op'>|</span>
        <span class='comment'># Transactions neither touch ActualDataFlow nor the
</span>        <span class='comment'># task-to-orocos_task mapping. It&#39;s safe to check it
</span>        <span class='comment'># straight.
</span>        <span class='id identifier rubyid_connections'>connections</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Syskit.html#ActualDataFlow-constant" title="Syskit::ActualDataFlow (constant)">ActualDataFlow</a></span></span><span class='period'>.</span><span class='id identifier rubyid_edge_info'>edge_info</span><span class='lparen'>(</span><span class='id identifier rubyid_source_task'>source_task</span><span class='comma'>,</span> <span class='id identifier rubyid_orocos_task'>orocos_task</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_connections'>connections</span><span class='period'>.</span><span class='id identifier rubyid_each_key'>each_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source_port'>source_port</span><span class='comma'>,</span> <span class='id identifier rubyid_sink_port'>sink_port</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../../Syskit.html#ActualDataFlow-constant" title="Syskit::ActualDataFlow (constant)">ActualDataFlow</a></span></span><span class='period'>.</span><span class='id identifier rubyid_static?'>static?</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_task'>orocos_task</span><span class='comma'>,</span> <span class='id identifier rubyid_sink_port'>sink_port</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_sources'>sources</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_current_connections_to_static'>current_connections_to_static</span><span class='lbracket'>[</span><span class='id identifier rubyid_sink_port'>sink_port</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_sources'>sources</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_source_task'>source_task</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_source_port'>source_port</span><span class='rbracket'>]</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='const'><span class='object_link'><a href="../../Syskit.html#ActualDataFlow-constant" title="Syskit::ActualDataFlow (constant)">ActualDataFlow</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each_out_neighbour'>each_out_neighbour</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_task'>orocos_task</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sink_task'>sink_task</span><span class='op'>|</span>
        <span class='comment'># Transactions neither touch ActualDataFlow nor the
</span>        <span class='comment'># task-to-orocos_task mapping. It&#39;s safe to check it
</span>        <span class='comment'># straight.
</span>        <span class='id identifier rubyid_connections'>connections</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Syskit.html#ActualDataFlow-constant" title="Syskit::ActualDataFlow (constant)">ActualDataFlow</a></span></span><span class='period'>.</span><span class='id identifier rubyid_edge_info'>edge_info</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_task'>orocos_task</span><span class='comma'>,</span> <span class='id identifier rubyid_sink_task'>sink_task</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_connections'>connections</span><span class='period'>.</span><span class='id identifier rubyid_each_key'>each_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source_port'>source_port</span><span class='comma'>,</span> <span class='id identifier rubyid_sink_port'>sink_port</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../../Syskit.html#ActualDataFlow-constant" title="Syskit::ActualDataFlow (constant)">ActualDataFlow</a></span></span><span class='period'>.</span><span class='id identifier rubyid_static?'>static?</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_task'>orocos_task</span><span class='comma'>,</span> <span class='id identifier rubyid_source_port'>source_port</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_sinks'>sinks</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_current_connections_to_static'>current_connections_to_static</span><span class='lbracket'>[</span><span class='id identifier rubyid_source_port'>source_port</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_sinks'>sinks</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_sink_task'>sink_task</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_sink_port'>sink_port</span><span class='rbracket'>]</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_current_connections_to_static'>current_connections_to_static</span> <span class='op'>!=</span> <span class='id identifier rubyid_new_connections_to_static'>new_connections_to_static</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 21:50:10 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>