<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Syskit::InstanceRequirements
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Syskit::InstanceRequirements";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (I)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span>
     &raquo; 
    <span class="title">InstanceRequirements</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Syskit::InstanceRequirements
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Syskit::InstanceRequirements</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>Logger::Hierarchy</dd>
  </dl>
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>Logger::Hierarchy, MetaRuby::DSLs::FindThroughMethodMissing, Roby::DRoby::Unmarshallable</dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/syskit/instance_requirements.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Generic representation of a configured component instance</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Actions/Profile/ProfileInstanceRequirements.html" title="Syskit::Actions::Profile::ProfileInstanceRequirements (class)">Actions::Profile::ProfileInstanceRequirements</a></span>, <span class='object_link'><a href="Models/CompositionChild.html" title="Syskit::Models::CompositionChild (class)">Models::CompositionChild</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="InstanceRequirements/Auto.html" title="Syskit::InstanceRequirements::Auto (module)">Auto</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="InstanceRequirements/CoordinationTask.html" title="Syskit::InstanceRequirements::CoordinationTask (class)">CoordinationTask</a></span>, <span class='object_link'><a href="InstanceRequirements/Dynamics.html" title="Syskit::InstanceRequirements::Dynamics (class)">Dynamics</a></span>, <span class='object_link'><a href="InstanceRequirements/TemplatePlan.html" title="Syskit::InstanceRequirements::TemplatePlan (class)">TemplatePlan</a></span>
    
  
</p>




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#arguments-instance_method" title="#arguments (instance method)">#<strong>arguments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Required arguments on the final task.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#base_model-instance_method" title="#base_model (instance method)">#<strong>base_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The component model specified by #add.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#deployment_group-instance_method" title="#deployment_group (instance method)">#<strong>deployment_group</strong>  &#x21d2; Models::DeploymentGroup </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The deployments that should be used for self.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#deployment_hints-instance_method" title="#deployment_hints (instance method)">#<strong>deployment_hints</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A set of hints for deployment disambiguation.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#dynamics-instance_method" title="#dynamics (instance method)">#<strong>dynamics</strong>  &#x21d2; Dynamics </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Custom specification of task dynamics.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#model-instance_method" title="#model (instance method)">#<strong>model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The component model narrowed down from <span class='object_link'><a href="#base_model-instance_method" title="Syskit::InstanceRequirements#base_model (method)">#base_model</a></span> using using_spec.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This requirement&#39;s name, mostly for debugging / display reasons.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#required_host-instance_method" title="#required_host (instance method)">#<strong>required_host</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute required_host.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#specialization_hints-instance_method" title="#specialization_hints (instance method)">#<strong>specialization_hints</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A set of hints for specialization disambiguation.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#template-instance_method" title="#template (instance method)">#<strong>template</strong>  &#x21d2; nil, Roby::TemplatePlan </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The cached instanciated reqirement.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#from_object-class_method" title="from_object (class method)">.<strong>from_object</strong>(object, original_requirements = Syskit::InstanceRequirements.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(obj)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#abstract-instance_method" title="#abstract (instance method)">#<strong>abstract</strong>  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The instanciated task should be marked as abstract.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#abstract%3F-instance_method" title="#abstract? (instance method)">#<strong>abstract?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tests whether the instanciated task will be marked as abstract or not.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_models-instance_method" title="#add_models (instance method)">#<strong>add_models</strong>(new_models)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add new models to the set of required ones.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_port_period-instance_method" title="#add_port_period (instance method)">#<strong>add_port_period</strong>(port_name, period, sample_count = 1)  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Declare the period of a port.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#as-instance_method" title="#as (instance method)">#<strong>as</strong>(models)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#as_plan-instance_method" title="#as_plan (instance method)">#<strong>as_plan</strong>(**arguments)  &#x21d2; Syskit::Component </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a plan pattern (main task and planning task) that will deploy self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#as_real_model-instance_method" title="#as_real_model (instance method)">#<strong>as_real_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#as_real_model!-instance_method" title="#as_real_model! (instance method)">#<strong>as_real_model!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bind-instance_method" title="#bind (instance method)">#<strong>bind</strong>(task)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Maps the given task to the underlying model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_use_template=-instance_method" title="#can_use_template= (instance method)">#<strong>can_use_template=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether instanciating this object can use a template plan.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_use_template%3F-instance_method" title="#can_use_template? (instance method)">#<strong>can_use_template?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether instanciating this object can use a template plan.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#component_model-instance_method" title="#component_model (instance method)">#<strong>component_model</strong>  &#x21d2; Model&lt;Component&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The component model that is required through this object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#component_model%3F-instance_method" title="#component_model? (instance method)">#<strong>component_model?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tests if these requirements explicitly point to a component model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#composition_model%3F-instance_method" title="#composition_model? (instance method)">#<strong>composition_model?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tests if these requirements explicitly point to a composition model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compute_template-instance_method" title="#compute_template (instance method)">#<strong>compute_template</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_proxy_task-instance_method" title="#create_proxy_task (instance method)">#<strong>create_proxy_task</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a task that can be used in the plan as a placeholder for this
instance requirements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_copy-instance_method" title="#do_copy (instance method)">#<strong>do_copy</strong>(old)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>HACK: allows CompositionChild#to_instance_requirements to return a HACK:
problem InstanceRequirements object HACK: HACK: the proper fix would be to
make the IR an attribute of HACK: CompositionChild instead of a superclass.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_child-instance_method" title="#each_child (instance method)">#<strong>each_child</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_fullfilled_model-instance_method" title="#each_fullfilled_model (instance method)">#<strong>each_fullfilled_model</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_input_port-instance_method" title="#each_input_port (instance method)">#<strong>each_input_port</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_output_port-instance_method" title="#each_output_port (instance method)">#<strong>each_output_port</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_port-instance_method" title="#each_port (instance method)">#<strong>each_port</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Enumerates all of this component&#39;s ports.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_required_model-instance_method" title="#each_required_model (instance method)">#<strong>each_required_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_required_service_model-instance_method" title="#each_required_service_model (instance method)">#<strong>each_required_service_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(obj)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_all_data_services_from_type-instance_method" title="#find_all_data_services_from_type (instance method)">#<strong>find_all_data_services_from_type</strong>(service_type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finds all the data services that match the given service type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_child-instance_method" title="#find_child (instance method)">#<strong>find_child</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finds the composition&#39;s child by name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_data_service-instance_method" title="#find_data_service (instance method)">#<strong>find_data_service</strong>(service_name)  &#x21d2; InstanceRequirements<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finds a data service by name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_data_service_from_type-instance_method" title="#find_data_service_from_type (instance method)">#<strong>find_data_service_from_type</strong>(service_type)  &#x21d2; InstanceRequirements<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finds the only data service that matches the given service type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_input_port-instance_method" title="#find_input_port (instance method)">#<strong>find_input_port</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_output_port-instance_method" title="#find_output_port (instance method)">#<strong>find_output_port</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_port-instance_method" title="#find_port (instance method)">#<strong>find_port</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_port_dynamics-instance_method" title="#find_port_dynamics (instance method)">#<strong>find_port_dynamics</strong>(port_name)  &#x21d2; NetworkGeneration::PortDynamics<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the port dynamics defined for a given port, or nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_through_method_missing-instance_method" title="#find_through_method_missing (instance method)">#<strong>find_through_method_missing</strong>(m, args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fullfilled_model-instance_method" title="#fullfilled_model (instance method)">#<strong>fullfilled_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fullfills%3F-instance_method" title="#fullfills? (instance method)">#<strong>fullfills?</strong>(required_models)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return true if these requirements provide all of the required models.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_child%3F-instance_method" title="#has_child? (instance method)">#<strong>has_child?</strong>(name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_data_service%3F-instance_method" title="#has_data_service? (instance method)">#<strong>has_data_service?</strong>(service_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_port%3F-instance_method" title="#has_port? (instance method)">#<strong>has_port?</strong>(name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_template%3F-instance_method" title="#has_template? (instance method)">#<strong>has_template?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_through_method_missing%3F-instance_method" title="#has_through_method_missing? (instance method)">#<strong>has_through_method_missing?</strong>(m)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#if_already_present-instance_method" title="#if_already_present (instance method)">#<strong>if_already_present</strong>  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Optional dependency injection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(models = [])  &#x21d2; InstanceRequirements </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of InstanceRequirements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(old)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instanciate-instance_method" title="#instanciate (instance method)">#<strong>instanciate</strong>(plan, context = Syskit::DependencyInjectionContext.new, task_arguments: Hash.new, specialization_hints: Hash.new, use_template: true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a concrete task for this requirement.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instanciate_from_template-instance_method" title="#instanciate_from_template (instance method)">#<strong>instanciate_from_template</strong>(plan, extra_arguments)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#invalidate_dependency_injection-instance_method" title="#invalidate_dependency_injection (instance method)">#<strong>invalidate_dependency_injection</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#invalidate_template-instance_method" title="#invalidate_template (instance method)">#<strong>invalidate_template</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#map_use_selections!-instance_method" title="#map_use_selections! (instance method)">#<strong>map_use_selections!</strong> {|selection| ... } &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Map all selections registered in the use flags.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge-instance_method" title="#merge (instance method)">#<strong>merge</strong>(other_spec, keep_abstract: false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Merges <code>self</code> and <code>other_spec</code> into
<code>self</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#narrow_model-instance_method" title="#narrow_model (instance method)">#<strong>narrow_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Computes the value of <code>model</code> based on the current selection (in
#selections) and the base model specified in #add or #define.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#not_abstract-instance_method" title="#not_abstract (instance method)">#<strong>not_abstract</strong>  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The instanciated task should not be marked as abstract.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_server-instance_method" title="#on_server (instance method)">#<strong>on_server</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Requires that this spec runs on the given process server, i.e.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#period-instance_method" title="#period (instance method)">#<strong>period</strong>(period, sample_size = 1)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#placeholder_model-instance_method" title="#placeholder_model (instance method)">#<strong>placeholder_model</strong>  &#x21d2; Model&lt;Roby::Task&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the taks model that should be used to represent the result of the
deployment of this requirement in a plan.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#plain%3F-instance_method" title="#plain? (instance method)">#<strong>plain?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#port_by_name-instance_method" title="#port_by_name (instance method)">#<strong>port_by_name</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#post_instanciation_setup-instance_method" title="#post_instanciation_setup (instance method)">#<strong>post_instanciation_setup</strong>(task)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prefer_deployed_tasks-instance_method" title="#prefer_deployed_tasks (instance method)">#<strong>prefer_deployed_tasks</strong>(*patterns)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add some hints to disambiguate deployment.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prefer_specializations-instance_method" title="#prefer_specializations (instance method)">#<strong>prefer_specializations</strong>(specialization_selectors)  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Give information needed to disambiguate the specialization selection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pretty_print-instance_method" title="#pretty_print (instance method)">#<strong>pretty_print</strong>(pp)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#push_dependency_injection-instance_method" title="#push_dependency_injection (instance method)">#<strong>push_dependency_injection</strong>(di)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a DI object to the resolution stack.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#push_selections-instance_method" title="#push_selections (instance method)">#<strong>push_selections</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset_deployment_selection-instance_method" title="#reset_deployment_selection (instance method)">#<strong>reset_deployment_selection</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#resolve-instance_method" title="#resolve (instance method)">#<strong>resolve</strong>(object)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  <span class="deprecated note title">deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'>
<p>use <span class='object_link'><a href="#bind-instance_method" title="Syskit::InstanceRequirements#bind (method)">#bind</a></span> instead</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolved_dependency_injection-instance_method" title="#resolved_dependency_injection (instance method)">#<strong>resolved_dependency_injection</strong>  &#x21d2; DependencyInjection </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the DI object used by this instance requirements task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_service-instance_method" title="#select_service (instance method)">#<strong>select_service</strong>(service)  &#x21d2; Models::BoundDataService </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Explicitely selects a given service on the task models required by this
task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#selected_for-instance_method" title="#selected_for (instance method)">#<strong>selected_for</strong>(requirements)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#self_port_to_component_port-instance_method" title="#self_port_to_component_port (instance method)">#<strong>self_port_to_component_port</strong>(port)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Resolves the given port into a port that is attached to a component model
(NOT a service).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#service-instance_method" title="#service (instance method)">#<strong>service</strong>  &#x21d2; Models::BoundDataService<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If this object explicitly points to a bound service, return it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#simplest_model_representation-instance_method" title="#simplest_model_representation (instance method)">#<strong>simplest_model_representation</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the simplest model representation for self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#specialize-instance_method" title="#specialize (instance method)">#<strong>specialize</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_action-instance_method" title="#to_action (instance method)">#<strong>to_action</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_action_model-instance_method" title="#to_action_model (instance method)">#<strong>to_action_model</strong>(doc = self.doc)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_component_model-instance_method" title="#to_component_model (instance method)">#<strong>to_component_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a copy of these requirements with any service specification
strippped.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_coordination_task-instance_method" title="#to_coordination_task (instance method)">#<strong>to_coordination_task</strong>(task_model)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_instance_requirements-instance_method" title="#to_instance_requirements (instance method)">#<strong>to_instance_requirements</strong>  &#x21d2; Syskit::InstanceRequirements </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates the InstanceRequirements object that represents <code>self</code>
best.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#try_bind-instance_method" title="#try_bind (instance method)">#<strong>try_bind</strong>(task)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Maps the given task to the underlying model.</p>
</div></span>
  
</li>

      
        <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#try_resolve-instance_method" title="#try_resolve (instance method)">#<strong>try_resolve</strong>(task)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  <span class="deprecated note title">deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'>
<p>use <span class='object_link'><a href="#try_bind-instance_method" title="Syskit::InstanceRequirements#try_bind (method)">#try_bind</a></span> instead</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unselect_service-instance_method" title="#unselect_service (instance method)">#<strong>unselect_service</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Removes any service selection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use-instance_method" title="#use (instance method)">#<strong>use</strong>(*mappings)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:call-seq:   use &#39;child_name&#39; =&gt;
&#39;component_model_or_device&#39;   use &#39;child_name&#39; =&gt;
ComponentModel   use ChildModel =&gt; &#39;component_model_or_device&#39;  
use ChildModel =&gt; ComponentModel   use Model1, Model2, Model3.</p>
</div></span>
  
</li>

      
        <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#use_conf-instance_method" title="#use_conf (instance method)">#<strong>use_conf</strong>(*conf)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  <span class="deprecated note title">deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'>
<p>use <span class='object_link'><a href="#with_conf-instance_method" title="Syskit::InstanceRequirements#with_conf (method)">#with_conf</a></span> instead</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_configured_deployment-instance_method" title="#use_configured_deployment (instance method)">#<strong>use_configured_deployment</strong>(configured_deployment)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_deployment-instance_method" title="#use_deployment (instance method)">#<strong>use_deployment</strong>(*spec, **options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Declare the deployment that should be used for self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_deployment_group-instance_method" title="#use_deployment_group (instance method)">#<strong>use_deployment_group</strong>(deployment_group)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add deployments into the deployments this subnet should be using.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_arguments-instance_method" title="#with_arguments (instance method)">#<strong>with_arguments</strong>(hash_argument = nil, **arguments)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies new arguments that must be set to the instanciated task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_conf-instance_method" title="#with_conf (instance method)">#<strong>with_conf</strong>(*conf)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies that the task that is represented by this requirement should use
the given configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_no_arguments-instance_method" title="#with_no_arguments (instance method)">#<strong>with_no_arguments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Clear all arguments.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(models = [])  &#x21d2; <tt><span class='object_link'><a href="" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of InstanceRequirements</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106
107
108
109
110
111
112
113
114
115</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 103</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='ivar'>@base_model</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models/Placeholder.html" title="Syskit::Models::Placeholder (module)">Placeholder</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for'><span class='object_link'><a href="Models/Placeholder/Creation.html#for-instance_method" title="Syskit::Models::Placeholder::Creation#for (method)">for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='rparen'>)</span>
    <span class='ivar'>@model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span>
    <span class='ivar'>@arguments</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@selections</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjection.html#initialize-instance_method" title="Syskit::DependencyInjection#initialize (method)">new</a></span></span>
    <span class='ivar'>@pushed_selections</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjection.html#initialize-instance_method" title="Syskit::DependencyInjection#initialize (method)">new</a></span></span>
    <span class='ivar'>@context_selections</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjection.html#initialize-instance_method" title="Syskit::DependencyInjection#initialize (method)">new</a></span></span>
    <span class='ivar'>@deployment_hints</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@specialization_hints</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@dynamics</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="InstanceRequirements/Dynamics.html" title="Syskit::InstanceRequirements::Dynamics (class)">Dynamics</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="NetworkGeneration.html" title="Syskit::NetworkGeneration (module)">NetworkGeneration</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NetworkGeneration/PortDynamics.html" title="Syskit::NetworkGeneration::PortDynamics (class)">PortDynamics</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="NetworkGeneration/PortDynamics.html#initialize-instance_method" title="Syskit::NetworkGeneration::PortDynamics#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Requirements</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='ivar'>@can_use_template</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='ivar'>@deployment_group</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models/DeploymentGroup.html" title="Syskit::Models::DeploymentGroup (class)">DeploymentGroup</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Models/DeploymentGroup.html#initialize-instance_method" title="Syskit::Models::DeploymentGroup#initialize (method)">new</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="arguments-instance_method">
  
    #<strong>arguments</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Required arguments on the final task</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 19</span>

<span class='kw'>def</span> <span class='id identifier rubyid_arguments'>arguments</span>
  <span class='ivar'>@arguments</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="base_model-instance_method">
  
    #<strong>base_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The component model specified by #add</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_base_model'>base_model</span>
  <span class='ivar'>@base_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="deployment_group-instance_method">
  
    #<strong>deployment_group</strong>  &#x21d2; <tt><span class='object_link'><a href="Models/DeploymentGroup.html" title="Syskit::Models::DeploymentGroup (class)">Models::DeploymentGroup</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The deployments that should be used for self</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Models/DeploymentGroup.html" title="Syskit::Models::DeploymentGroup (class)">Models::DeploymentGroup</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deployment_group'>deployment_group</span>
  <span class='ivar'>@deployment_group</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="deployment_hints-instance_method">
  
    #<strong>deployment_hints</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A set of hints for deployment disambiguation</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#prefer_deployed_tasks-instance_method" title="Syskit::InstanceRequirements#prefer_deployed_tasks (method)">#prefer_deployed_tasks</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deployment_hints'>deployment_hints</span>
  <span class='ivar'>@deployment_hints</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="dynamics-instance_method">
  
    #<strong>dynamics</strong>  &#x21d2; <tt><span class='object_link'><a href="InstanceRequirements/Dynamics.html" title="Syskit::InstanceRequirements::Dynamics (class)">Dynamics</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Custom specification of task dynamics. This is not used as requirements,
but more exactly as hints to the dataflow dynamics computations</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InstanceRequirements/Dynamics.html" title="Syskit::InstanceRequirements::Dynamics (class)">Dynamics</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dynamics'>dynamics</span>
  <span class='ivar'>@dynamics</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="model-instance_method">
  
    #<strong>model</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The component model narrowed down from <span class='object_link'><a href="#base_model-instance_method" title="Syskit::InstanceRequirements#base_model (method)">#base_model</a></span> using using_spec</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 15</span>

<span class='kw'>def</span> <span class='id identifier rubyid_model'>model</span>
  <span class='ivar'>@model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="name=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>  &#x21d2; <tt>String</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This requirement&#39;s name, mostly for debugging / display reasons</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="required_host-instance_method">
  
    #<strong>required_host</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute required_host</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


821
822
823</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 821</span>

<span class='kw'>def</span> <span class='id identifier rubyid_required_host'>required_host</span>
  <span class='ivar'>@required_host</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="specialization_hints-instance_method">
  
    #<strong>specialization_hints</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A set of hints for specialization disambiguation</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#prefer_specializations-instance_method" title="Syskit::InstanceRequirements#prefer_specializations (method)">#prefer_specializations</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 46</span>

<span class='kw'>def</span> <span class='id identifier rubyid_specialization_hints'>specialization_hints</span>
  <span class='ivar'>@specialization_hints</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="template-instance_method">
  
    #<strong>template</strong>  &#x21d2; <tt>nil</tt>, <tt>Roby::TemplatePlan</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The cached instanciated reqirement</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>, <tt>Roby::TemplatePlan</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_template'>template</span>
  <span class='ivar'>@template</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="from_object-class_method">
  
    .<strong>from_object</strong>(object, original_requirements = Syskit::InstanceRequirements.new)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145
146
147
148
149
150
151</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 143</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_from_object'>from_object</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_original_requirements'>original_requirements</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Syskit::InstanceRequirements#initialize (method)">new</a></span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_plain?'>plain?</span>
        <span class='id identifier rubyid_object'>object</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
        <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_original_requirements'>original_requirements</span><span class='comma'>,</span> <span class='label'>keep_abstract:</span> <span class='kw'>true</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_object'>object</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_object'>object</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="==-instance_method">
  
    #<strong>==</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


506
507
508</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 506</span>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_eql?'>eql?</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="abstract-instance_method">
  
    #<strong>abstract</strong>  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The instanciated task should be marked as abstract</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


640
641
642
643
644</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 640</span>

<span class='kw'>def</span> <span class='id identifier rubyid_abstract'>abstract</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='ivar'>@abstract</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="abstract?-instance_method">
  
    #<strong>abstract?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tests whether the instanciated task will be marked as abstract or not</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


660
661
662</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 660</span>

<span class='kw'>def</span> <span class='id identifier rubyid_abstract?'>abstract?</span>
    <span class='op'>!</span><span class='op'>!</span><span class='ivar'>@abstract</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_models-instance_method">
  
    #<strong>add_models</strong>(new_models)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add new models to the set of required ones</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156
157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 154</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_models'>add_models</span><span class='lparen'>(</span><span class='id identifier rubyid_new_models'>new_models</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='ivar'>@base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models/Placeholder.html" title="Syskit::Models::Placeholder (module)">Placeholder</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for'><span class='object_link'><a href="Models/Placeholder/Creation.html#for-instance_method" title="Syskit::Models::Placeholder::Creation#for (method)">for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_new_models'>new_models</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_narrow_model'>narrow_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_port_period-instance_method">
  
    #<strong>add_port_period</strong>(port_name, period, sample_count = 1)  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Declare the period of a port</p>

<p>When computing dataflow, this overrides propagated values</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>port_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>period</span>
      
      
        <span class='type'>(<tt>Float</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the period in seconds</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sample_count</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>how many samples are written each time</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1122
1123
1124
1125
1126
1127
1128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1122</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_port_period'>add_port_period</span><span class='lparen'>(</span><span class='id identifier rubyid_port_name'>port_name</span><span class='comma'>,</span> <span class='id identifier rubyid_period'>period</span><span class='comma'>,</span> <span class='id identifier rubyid_sample_count'>sample_count</span> <span class='op'>=</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_has_port?'>has_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_port_name'>port_name</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='embexpr_end'>}</span><span class='tstring_content'> has not port called </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port_name'>port_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_dynamics'>dynamics</span><span class='period'>.</span><span class='id identifier rubyid_add_port_period'>add_port_period</span><span class='lparen'>(</span><span class='id identifier rubyid_port_name'>port_name</span><span class='comma'>,</span> <span class='id identifier rubyid_period'>period</span><span class='comma'>,</span> <span class='id identifier rubyid_sample_count'>sample_count</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="as-instance_method">
  
    #<strong>as</strong>(models)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


365
366
367
368
369
370
371
372
373
374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 365</span>

<span class='kw'>def</span> <span class='id identifier rubyid_as'>as</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_service'>service</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_to_component_model'>to_component_model</span>
        <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_select_service'>select_service</span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_as'>as</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_models'>models</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_models'>models</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:each</span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models/FacetedAccess.html" title="Syskit::Models::FacetedAccess (class)">FacetedAccess</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Models/FacetedAccess.html#initialize-instance_method" title="Syskit::Models::FacetedAccess#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models/Placeholder.html" title="Syskit::Models::Placeholder (module)">Placeholder</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for'><span class='object_link'><a href="Models/Placeholder/Creation.html#for-instance_method" title="Syskit::Models::Placeholder::Creation#for (method)">for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="as_plan-instance_method">
  
    #<strong>as_plan</strong>(**arguments)  &#x21d2; <tt><span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Syskit::Component</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a plan pattern (main task and planning task) that will deploy self</p>

<p>The main task is an instance of <span class='object_link'><a href="#model-instance_method" title="Syskit::InstanceRequirements#model (method)">#model</a></span> and the planning task an instance
of <span class='object_link'><a href="InstanceRequirementsTask.html" title="Syskit::InstanceRequirementsTask (class)">Syskit::InstanceRequirementsTask</a></span>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Syskit::Component</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


982
983
984
985
986
987
988
989
990</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 982</span>

<span class='kw'>def</span> <span class='id identifier rubyid_as_plan'>as_plan</span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='kw'>self</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='id identifier rubyid_dup'>dup</span>
        <span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_with_arguments'>with_arguments</span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="InstanceRequirementsTask.html" title="Syskit::InstanceRequirementsTask (class)">InstanceRequirementsTask</a></span></span><span class='period'>.</span><span class='id identifier rubyid_subplan'><span class='object_link'><a href="InstanceRequirementsTask.html#subplan-class_method" title="Syskit::InstanceRequirementsTask.subplan (method)">subplan</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="as_real_model-instance_method">
  
    #<strong>as_real_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


376
377
378
379
380</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 376</span>

<span class='kw'>def</span> <span class='id identifier rubyid_as_real_model'>as_real_model</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_as_real_model!'>as_real_model!</span>
    <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="as_real_model!-instance_method">
  
    #<strong>as_real_model!</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


382
383
384
385
386</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 382</span>

<span class='kw'>def</span> <span class='id identifier rubyid_as_real_model!'>as_real_model!</span>
    <span class='ivar'>@base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_as_real_model'>as_real_model</span>
    <span class='ivar'>@model</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_as_real_model'>as_real_model</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bind-instance_method">
  
    #<strong>bind</strong>(task)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Maps the given task to the underlying model</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 221</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bind'><span class='object_link'><a href="Coordination/Models/PortHandling.html#bind-instance_method" title="Syskit::Coordination::Models::PortHandling#bind (method)">bind</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="can_use_template=-instance_method">
  
    #<strong>can_use_template=</strong>(value)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether instanciating this object can use a template plan</p>

<p>Template plans cannot be used if the dependency injection explicitely
refers to a task</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 63</span>

<span class='id identifier rubyid_attr_predicate'>attr_predicate</span> <span class='symbol'>:can_use_template?</span><span class='comma'>,</span> <span class='kw'>true</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="can_use_template?-instance_method">
  
    #<strong>can_use_template?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether instanciating this object can use a template plan</p>

<p>Template plans cannot be used if the dependency injection explicitely
refers to a task</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 63</span>

<span class='id identifier rubyid_attr_predicate'>attr_predicate</span> <span class='symbol'>:can_use_template?</span><span class='comma'>,</span> <span class='kw'>true</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="component_model-instance_method">
  
    #<strong>component_model</strong>  &#x21d2; <tt>Model&lt;<span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The component model that is required through this object</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Model&lt;<span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


235
236
237
238
239
240
241</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 235</span>

<span class='kw'>def</span> <span class='id identifier rubyid_component_model'>component_model</span>
    <span class='id identifier rubyid_model'>model</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_placeholder?'>placeholder?</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_proxied_component_model'>proxied_component_model</span>
    <span class='kw'>else</span> <span class='kw'>return</span> <span class='id identifier rubyid_model'>model</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="component_model?-instance_method">
  
    #<strong>component_model?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tests if these requirements explicitly point to a component model</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1087
1088
1089
1090
1091
1092</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1087</span>

<span class='kw'>def</span> <span class='id identifier rubyid_component_model?'>component_model?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_placeholder?'>placeholder?</span>
        <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_proxied_component_model'>proxied_component_model</span> <span class='op'>!=</span> <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span></span>
    <span class='kw'>else</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="composition_model?-instance_method">
  
    #<strong>composition_model?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tests if these requirements explicitly point to a composition model</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1095
1096
1097</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1095</span>

<span class='kw'>def</span> <span class='id identifier rubyid_composition_model?'>composition_model?</span>
    <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Composition.html" title="Syskit::Composition (class)">Composition</a></span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="compute_template-instance_method">
  
    #<strong>compute_template</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


883
884
885
886
887
888
889
890
891
892
893</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 883</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compute_template'>compute_template</span>
    <span class='id identifier rubyid_base_requirements'>base_requirements</span> <span class='op'>=</span> <span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_with_no_arguments'>with_no_arguments</span>
    <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="InstanceRequirements/TemplatePlan.html" title="Syskit::InstanceRequirements::TemplatePlan (class)">TemplatePlan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Syskit::InstanceRequirements#initialize (method)">new</a></span></span>
    <span class='id identifier rubyid_template'>template</span><span class='period'>.</span><span class='id identifier rubyid_root_task'>root_task</span> <span class='op'>=</span> <span class='id identifier rubyid_base_requirements'>base_requirements</span><span class='period'>.</span>
        <span class='id identifier rubyid_instanciate'>instanciate</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='label'>use_template:</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span>
        <span class='id identifier rubyid_to_task'>to_task</span>
    <span class='id identifier rubyid_merge_solver'>merge_solver</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="NetworkGeneration.html" title="Syskit::NetworkGeneration (module)">NetworkGeneration</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NetworkGeneration/MergeSolver.html" title="Syskit::NetworkGeneration::MergeSolver (class)">MergeSolver</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="NetworkGeneration/MergeSolver.html#initialize-instance_method" title="Syskit::NetworkGeneration::MergeSolver#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_merge_solver'>merge_solver</span><span class='period'>.</span><span class='id identifier rubyid_merge_identical_tasks'>merge_identical_tasks</span>
    <span class='id identifier rubyid_template'>template</span><span class='period'>.</span><span class='id identifier rubyid_root_task'>root_task</span> <span class='op'>=</span> <span class='id identifier rubyid_merge_solver'>merge_solver</span><span class='period'>.</span><span class='id identifier rubyid_replacement_for'>replacement_for</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='period'>.</span><span class='id identifier rubyid_root_task'>root_task</span><span class='rparen'>)</span>
    <span class='ivar'>@template</span> <span class='op'>=</span> <span class='id identifier rubyid_template'>template</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_proxy_task-instance_method">
  
    #<strong>create_proxy_task</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a task that can be used in the plan as a placeholder for this
instance requirements</p>

<p>The returned task is always marked as abstract</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


835
836
837
838
839
840</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 835</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_proxy_task'>create_proxy_task</span>
    <span class='id identifier rubyid_task'>task</span> <span class='op'>=</span> <span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>**</span><span class='ivar'>@arguments</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_required_host'>required_host</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_required_host'>required_host</span>
    <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_abstract'>abstract</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_task'>task</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_copy-instance_method">
  
    #<strong>do_copy</strong>(old)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>HACK: allows CompositionChild#to_instance_requirements to return a HACK:
problem InstanceRequirements object HACK: HACK: the proper fix would be to
make the IR an attribute of HACK: CompositionChild instead of a superclass</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


122
123
124
125
126
127
128
129
130
131
132
133
134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 122</span>

<span class='kw'>def</span> <span class='id identifier rubyid_do_copy'>do_copy</span><span class='lparen'>(</span><span class='id identifier rubyid_old'>old</span><span class='rparen'>)</span>
    <span class='ivar'>@di</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@template</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_template'>template</span>
    <span class='ivar'>@abstract</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_abstract?'>abstract?</span>
    <span class='ivar'>@model</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span>
    <span class='ivar'>@base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_base_model'>base_model</span>
    <span class='ivar'>@arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@selections</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@pushed_selections</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_pushed_selections'>pushed_selections</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@deployment_hints</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_deployment_hints'>deployment_hints</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@specialization_hints</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_specialization_hints'>specialization_hints</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@context_selections</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_context_selections'>context_selections</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@deployment_group</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_deployment_group'>deployment_group</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@can_use_template</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_can_use_template?'>can_use_template?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_child-instance_method">
  
    #<strong>each_child</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1033</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_child'>each_child</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='id identifier rubyid___method__'>__method__</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_composition_model?'>composition_model?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cannot call #each_child on </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> as it does not represent a composition model</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_resolved_di'>resolved_di</span> <span class='op'>=</span> <span class='id identifier rubyid_resolved_dependency_injection'>resolved_dependency_injection</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_child'>each_child</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='op'>|</span>
        <span class='id identifier rubyid_selected_child'>selected_child</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_child_model_and_task'>find_child_model_and_task</span><span class='lparen'>(</span>
            <span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_di'>resolved_di</span><span class='rparen'>)</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_child'>selected_child</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_fullfilled_model-instance_method">
  
    #<strong>each_fullfilled_model</strong>(&amp;block)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


964
965
966</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 964</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_fullfilled_model'>each_fullfilled_model</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_fullfilled_model'>each_fullfilled_model</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_input_port-instance_method">
  
    #<strong>each_input_port</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


439
440
441
442
443
444</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 439</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_input_port'>each_input_port</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_input_port</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_input_port'>each_input_port</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_output_port-instance_method">
  
    #<strong>each_output_port</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


446
447
448
449
450
451</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 446</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_output_port'>each_output_port</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_output_port</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_output_port'>each_output_port</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_port-instance_method">
  
    #<strong>each_port</strong>(&amp;block)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Enumerates all of this component&#39;s ports</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


433
434
435
436
437</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 433</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_port'>each_port</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_port</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_each_output_port'>each_output_port</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_each_input_port'>each_input_port</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_required_model-instance_method">
  
    #<strong>each_required_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1079
1080
1081
1082
1083
1084</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1079</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_required_model'>each_required_model</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_required_model</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_required_model'>each_required_model</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_required_service_model-instance_method">
  
    #<strong>each_required_service_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1072
1073
1074
1075
1076
1077</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1072</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_required_service_model'>each_required_service_model</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_required_service_model</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_required_model'>each_required_model</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models/DataServiceModel.html" title="Syskit::Models::DataServiceModel (class)">DataServiceModel</a></span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eql?-instance_method">
  
    #<strong>eql?</strong>(obj)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


499
500
501
502
503
504
505</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 499</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eql?'>eql?</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
        <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_base_model'>base_model</span> <span class='op'>==</span> <span class='id identifier rubyid_base_model'>base_model</span> <span class='op'>&amp;&amp;</span>
        <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span> <span class='op'>==</span> <span class='id identifier rubyid_selections'>selections</span> <span class='op'>&amp;&amp;</span>
        <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_pushed_selections'>pushed_selections</span> <span class='op'>==</span> <span class='id identifier rubyid_pushed_selections'>pushed_selections</span> <span class='op'>&amp;&amp;</span>
        <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span> <span class='op'>==</span> <span class='id identifier rubyid_arguments'>arguments</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_all_data_services_from_type-instance_method">
  
    #<strong>find_all_data_services_from_type</strong>(service_type)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finds all the data services that match the given service type</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


351
352
353
354
355
356
357
358
359
360
361
362
363</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 351</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_all_data_services_from_type'>find_all_data_services_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_service_type'>service_type</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:find_all_data_services_from_type</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_all_data_services_from_type'>find_all_data_services_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_service_type'>service_type</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_service'>service</span><span class='op'>|</span>
            <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_dup'>dup</span>
            <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_select_service'>select_service</span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_result'>result</span>
        <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_service_type'>service_type</span><span class='rparen'>)</span>
        <span class='lbracket'>[</span><span class='kw'>self</span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
        <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_child-instance_method">
  
    #<strong>find_child</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finds the composition&#39;s child by name</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if this InstanceRequirements object does not refer to a composition</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


396
397
398
399
400
401
402
403</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 396</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_child'>find_child</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:find_child</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a composition</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_child'>child</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_child'>find_child</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_data_service-instance_method">
  
    #<strong>find_data_service</strong>(service_name)  &#x21d2; <tt><span class='object_link'><a href="" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finds a data service by name</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>service_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the service name</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the requirements with the requested data service selected or nil if there
are no service with the requested name</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325
326
327
328
329</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 323</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_data_service'>find_data_service</span><span class='lparen'>(</span><span class='id identifier rubyid_service_name'>service_name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_service'>service</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service'>find_data_service</span><span class='lparen'>(</span><span class='id identifier rubyid_service_name'>service_name</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_dup'>dup</span>
        <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_select_service'>select_service</span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_data_service_from_type-instance_method">
  
    #<strong>find_data_service_from_type</strong>(service_type)  &#x21d2; <tt><span class='object_link'><a href="" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finds the only data service that matches the given service type</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'>(<tt>Model&lt;<span class='object_link'><a href="DataService.html" title="Syskit::DataService (module)">DataService</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>data service type</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>this instance requirement object with the relevant service selected; nil if
there are no matches</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="AmbiguousServiceSelection.html" title="Syskit::AmbiguousServiceSelection (class)">AmbiguousServiceSelection</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if more than one service matches</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


338
339
340
341
342
343
344
345
346
347
348</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 338</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_data_service_from_type'>find_data_service_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_service_type'>service_type</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:find_data_service_from_type</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_service'>service</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service_from_type'>find_data_service_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_service_type'>service_type</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_dup'>dup</span>
            <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_select_service'>select_service</span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_result'>result</span>
        <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_service_type'>service_type</span><span class='rparen'>)</span>
        <span class='kw'>self</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_input_port-instance_method">
  
    #<strong>find_input_port</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


405
406
407
408
409</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 405</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_input_port'>find_input_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_input_port'>find_input_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_output_port-instance_method">
  
    #<strong>find_output_port</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


411
412
413
414
415</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 411</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_output_port'>find_output_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_output_port'>find_output_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_port-instance_method">
  
    #<strong>find_port</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


421
422
423</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 421</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_port'><span class='object_link'><a href="Coordination/Models/PortHandling.html#find_port-instance_method" title="Syskit::Coordination::Models::PortHandling#find_port (method)">find_port</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_find_input_port'>find_input_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_find_output_port'>find_output_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_port_dynamics-instance_method">
  
    #<strong>find_port_dynamics</strong>(port_name)  &#x21d2; <tt><span class='object_link'><a href="NetworkGeneration/PortDynamics.html" title="Syskit::NetworkGeneration::PortDynamics (class)">NetworkGeneration::PortDynamics</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the port dynamics defined for a given port, or nil</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>port_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="NetworkGeneration/PortDynamics.html" title="Syskit::NetworkGeneration::PortDynamics (class)">NetworkGeneration::PortDynamics</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#add_port_period-instance_method" title="Syskit::InstanceRequirements#add_port_period (method)">#add_port_period</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1109
1110
1111</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1109</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_port_dynamics'>find_port_dynamics</span><span class='lparen'>(</span><span class='id identifier rubyid_port_name'>port_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dynamics'>dynamics</span><span class='period'>.</span><span class='id identifier rubyid_find_port_dynamics'>find_port_dynamics</span><span class='lparen'>(</span><span class='id identifier rubyid_port_name'>port_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_through_method_missing-instance_method">
  
    #<strong>find_through_method_missing</strong>(m, args)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1054
1055
1056
1057
1058
1059
1060</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1054</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_through_method_missing'><span class='object_link'><a href="Coordination/Models/FaultResponseTableExtension.html#find_through_method_missing-instance_method" title="Syskit::Coordination::Models::FaultResponseTableExtension#find_through_method_missing (method)">find_through_method_missing</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
    <span class='const'>MetaRuby</span><span class='op'>::</span><span class='const'>DSLs</span><span class='period'>.</span><span class='id identifier rubyid_find_through_method_missing'>find_through_method_missing</span><span class='lparen'>(</span>
        <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_srv</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>=&gt;</span> <span class='symbol'>:find_data_service</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_child</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>=&gt;</span> <span class='symbol'>:find_child</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_port</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>=&gt;</span> <span class='symbol'>:find_port</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fullfilled_model-instance_method">
  
    #<strong>fullfilled_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


968
969
970
971
972
973</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 968</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fullfilled_model'>fullfilled_model</span>
    <span class='id identifier rubyid_fullfilled'>fullfilled</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_fullfilled_model'>fullfilled_model</span>
    <span class='id identifier rubyid_task_model'>task_model</span> <span class='op'>=</span> <span class='id identifier rubyid_fullfilled'>fullfilled</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>&lt;=</span> <span class='const'>Roby</span><span class='op'>::</span><span class='const'>Task</span> <span class='rbrace'>}</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span></span>
    <span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_fullfilled'>fullfilled</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models/DataServiceModel.html" title="Syskit::Models::DataServiceModel (class)">DataServiceModel</a></span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Roby</span><span class='op'>::</span><span class='const'>Models</span><span class='op'>::</span><span class='const'>TaskServiceModel</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_concrete_model'>concrete_model</span><span class='comma'>,</span> <span class='id identifier rubyid_tags'>tags</span><span class='comma'>,</span> <span class='ivar'>@arguments</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fullfills?-instance_method">
  
    #<strong>fullfills?</strong>(required_models)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return true if these requirements provide all of the required models</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


454
455
456</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 454</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_required_models'>required_models</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_required_models'>required_models</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_child?-instance_method">
  
    #<strong>has_child?</strong>(name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


388
389
390</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 388</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_child?'>has_child?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_has_child?'>has_child?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_data_service?-instance_method">
  
    #<strong>has_data_service?</strong>(service_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 313</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_data_service?'>has_data_service?</span><span class='lparen'>(</span><span class='id identifier rubyid_service_name'>service_name</span><span class='rparen'>)</span>
    <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service'>find_data_service</span><span class='lparen'>(</span><span class='id identifier rubyid_service_name'>service_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_port?-instance_method">
  
    #<strong>has_port?</strong>(name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


417
418
419</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 417</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_port?'><span class='object_link'><a href="Coordination/Models/PortHandling.html#has_port%3F-instance_method" title="Syskit::Coordination::Models::PortHandling#has_port? (method)">has_port?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_has_port?'>has_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_template?-instance_method">
  
    #<strong>has_template?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


904
905
906</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 904</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_template?'>has_template?</span>
    <span class='op'>!</span><span class='op'>!</span><span class='ivar'>@template</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_through_method_missing?-instance_method">
  
    #<strong>has_through_method_missing?</strong>(m)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1046
1047
1048
1049
1050
1051
1052</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1046</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_through_method_missing?'><span class='object_link'><a href="Coordination/Models/FaultResponseTableExtension.html#has_through_method_missing%3F-instance_method" title="Syskit::Coordination::Models::FaultResponseTableExtension#has_through_method_missing? (method)">has_through_method_missing?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
    <span class='const'>MetaRuby</span><span class='op'>::</span><span class='const'>DSLs</span><span class='period'>.</span><span class='id identifier rubyid_has_through_method_missing?'>has_through_method_missing?</span><span class='lparen'>(</span>
        <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_srv</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>=&gt;</span> <span class='symbol'>:has_data_service?</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_child</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>=&gt;</span> <span class='symbol'>:has_child?</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_port</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>=&gt;</span> <span class='symbol'>:has_port?</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hash-instance_method">
  
    #<strong>hash</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


498</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 498</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hash'>hash</span><span class='semicolon'>;</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_hash'>hash</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="if_already_present-instance_method">
  
    #<strong>if_already_present</strong>  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Optional dependency injection</p>

<p>Once this is called, this <span class='object_link'><a href="" title="Syskit::InstanceRequirements (class)">Syskit::InstanceRequirements</a></span> object can be used to
inject into an optional dependency. This dependency that will be fullfilled
only if there is already a matching task deployed in the plan</p>

<p>This can only be meaningfully used when injected for a composition&#39;s
optional child (see CompositionChild#optional)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


675
676
677
678</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 675</span>

<span class='kw'>def</span> <span class='id identifier rubyid_if_already_present'>if_already_present</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='id identifier rubyid_abstract'>abstract</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="initialize_copy-instance_method">
  
    #<strong>initialize_copy</strong>(old)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 138</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize_copy'>initialize_copy</span><span class='lparen'>(</span><span class='id identifier rubyid_old'>old</span><span class='rparen'>)</span>
    <span class='kw'>super</span>
    <span class='id identifier rubyid_do_copy'>do_copy</span><span class='lparen'>(</span><span class='id identifier rubyid_old'>old</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="instanciate-instance_method">
  
    #<strong>instanciate</strong>(plan, context = Syskit::DependencyInjectionContext.new, task_arguments: Hash.new, specialization_hints: Hash.new, use_template: true)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a concrete task for this requirement</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


909
910
911
912
913
914
915
916
917
918
919
920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 909</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instanciate'>instanciate</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span>
    <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DependencyInjectionContext.html" title="Syskit::DependencyInjectionContext (class)">DependencyInjectionContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjectionContext.html#initialize-instance_method" title="Syskit::DependencyInjectionContext#initialize (method)">new</a></span></span><span class='comma'>,</span>
    <span class='label'>task_arguments:</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span>
    <span class='label'>specialization_hints:</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span>
    <span class='label'>use_template:</span> <span class='kw'>true</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_from_cache'>from_cache</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_specialization_hints'>specialization_hints</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span>
        <span class='id identifier rubyid_use_template'>use_template</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_can_use_template?'>can_use_template?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_from_cache'>from_cache</span>
        <span class='id identifier rubyid_task'>task</span> <span class='op'>=</span> <span class='id identifier rubyid_instanciate_from_template'>instanciate_from_template</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_task_arguments'>task_arguments</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_task_model'>task_model</span> <span class='op'>=</span> <span class='id identifier rubyid_placeholder_model'>placeholder_model</span>

            <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
            <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_dependency_injection'>resolved_dependency_injection</span><span class='rparen'>)</span>

            <span class='id identifier rubyid_task_arguments'>task_arguments</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_task_arguments'>task_arguments</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_specialization_hints'>specialization_hints</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_specialization_hints'>specialization_hints</span> <span class='op'>|</span> <span class='id identifier rubyid_specialization_hints'>specialization_hints</span>
            <span class='id identifier rubyid_task'>task</span> <span class='op'>=</span> <span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_instanciate'>instanciate</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span>
                <span class='label'>task_arguments:</span> <span class='id identifier rubyid_task_arguments'>task_arguments</span><span class='comma'>,</span>
                <span class='label'>specialization_hints:</span> <span class='id identifier rubyid_specialization_hints'>specialization_hints</span><span class='rparen'>)</span>
        <span class='kw'>ensure</span>
            <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_restore'>restore</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_from_cache'>from_cache</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_post_instanciation_setup'>post_instanciation_setup</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_to_task'>to_task</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>

<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="InstanciationError.html" title="Syskit::InstanciationError (class)">InstanciationError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_instanciation_chain'>instanciation_chain</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>ensure</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="instanciate_from_template-instance_method">
  
    #<strong>instanciate_from_template</strong>(plan, extra_arguments)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


895
896
897
898
899
900
901
902</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 895</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instanciate_from_template'>instanciate_from_template</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_extra_arguments'>extra_arguments</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_compute_template'>compute_template</span> <span class='kw'>unless</span> <span class='ivar'>@template</span>

    <span class='id identifier rubyid_mappings'>mappings</span> <span class='op'>=</span> <span class='ivar'>@template</span><span class='period'>.</span><span class='id identifier rubyid_deep_copy_to'>deep_copy_to</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_root_task'>root_task</span> <span class='op'>=</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='lbracket'>[</span><span class='ivar'>@template</span><span class='period'>.</span><span class='id identifier rubyid_root_task'>root_task</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_root_task'>root_task</span><span class='period'>.</span><span class='id identifier rubyid_assign_arguments'>assign_arguments</span><span class='lparen'>(</span><span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_extra_arguments'>extra_arguments</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span><span class='lparen'>(</span><span class='id identifier rubyid_root_task'>root_task</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="invalidate_dependency_injection-instance_method">
  
    #<strong>invalidate_dependency_injection</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167
168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 167</span>

<span class='kw'>def</span> <span class='id identifier rubyid_invalidate_dependency_injection'>invalidate_dependency_injection</span>
    <span class='ivar'>@di</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="invalidate_template-instance_method">
  
    #<strong>invalidate_template</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 172</span>

<span class='kw'>def</span> <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='ivar'>@template</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="map_use_selections!-instance_method">
  
    #<strong>map_use_selections!</strong> {|selection| ... } &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Map all selections registered in the use flags</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>selection</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the selected model/task in the use flag</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>the value that should replaces selection</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188
189
190
191
192
193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 185</span>

<span class='kw'>def</span> <span class='id identifier rubyid_map_use_selections!'>map_use_selections!</span>
    <span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_pushed_selections'>pushed_selections</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_invalidate_dependency_injection'>invalidate_dependency_injection</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="merge-instance_method">
  
    #<strong>merge</strong>(other_spec, keep_abstract: false)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Merges <code>self</code> and <code>other_spec</code> into <code>self</code></p>

<p>Throws ArgumentError if the two specifications are not compatible (i.e.
can&#39;t be merged)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 462</span>

<span class='kw'>def</span> <span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_spec'>other_spec</span><span class='comma'>,</span> <span class='label'>keep_abstract:</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_keep_abstract'>keep_abstract</span>
        <span class='ivar'>@abstract</span> <span class='op'>||=</span> <span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_abstract?'>abstract?</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_abstract?'>abstract?</span>
        <span class='ivar'>@abstract</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='ivar'>@base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_base_model'>base_model</span><span class='rparen'>)</span>
    <span class='ivar'>@arguments</span> <span class='op'>=</span> <span class='ivar'>@arguments</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_v1'>v1</span><span class='comma'>,</span> <span class='id identifier rubyid_v2'>v2</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_v1'>v1</span> <span class='op'>!=</span> <span class='id identifier rubyid_v2'>v2</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cannot merge </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> and </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_other_spec'>other_spec</span><span class='embexpr_end'>}</span><span class='tstring_content'>: argument value mismatch for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, resp. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v1'>v1</span><span class='embexpr_end'>}</span><span class='tstring_content'> and </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v2'>v2</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_v1'>v1</span>
    <span class='kw'>end</span>
    <span class='ivar'>@selections</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='rparen'>)</span>
    <span class='ivar'>@pushed_selections</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_pushed_selections'>pushed_selections</span><span class='rparen'>)</span>
    <span class='ivar'>@context_selections</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_context_selections'>context_selections</span><span class='rparen'>)</span>
    <span class='ivar'>@deployment_group</span><span class='period'>.</span><span class='id identifier rubyid_use_group'>use_group</span><span class='lparen'>(</span><span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_deployment_group'>deployment_group</span><span class='rparen'>)</span>

    <span class='ivar'>@deployment_hints</span> <span class='op'>|=</span> <span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_deployment_hints'>deployment_hints</span>
    <span class='ivar'>@specialization_hints</span> <span class='op'>|=</span> <span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_specialization_hints'>specialization_hints</span>

    <span class='ivar'>@dynamics</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_spec'>other_spec</span><span class='period'>.</span><span class='id identifier rubyid_dynamics'>dynamics</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_invalidate_dependency_injection'>invalidate_dependency_injection</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>

    <span class='comment'># Call modules that could have been included in the class to
</span>    <span class='comment'># extend it
</span>    <span class='kw'>super</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='kw'>super</span>

    <span class='id identifier rubyid_narrow_model'>narrow_model</span>

    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="narrow_model-instance_method">
  
    #<strong>narrow_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Computes the value of <code>model</code> based on the current selection (in
#selections) and the base model specified in #add or #define</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 784</span>

<span class='kw'>def</span> <span class='id identifier rubyid_narrow_model'>narrow_model</span>
    <span class='id identifier rubyid_model'>model</span> <span class='op'>=</span> <span class='ivar'>@base_model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_composition_model?'>composition_model?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_debug'>debug</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>narrowing model</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>break</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='id identifier rubyid_log_nest'>log_nest</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_selection'>selection</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_resolved_dependency_injection'>resolved_dependency_injection</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
            <span class='id identifier rubyid_selection'>selection</span><span class='period'>.</span><span class='id identifier rubyid_remove_unresolved'>remove_unresolved</span>
            <span class='const'><span class='object_link'><a href="DependencyInjectionContext.html" title="Syskit::DependencyInjectionContext (class)">DependencyInjectionContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjectionContext.html#initialize-instance_method" title="Syskit::DependencyInjectionContext#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_selection'>selection</span><span class='rparen'>)</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_model'>model</span> <span class='op'>=</span> <span class='id identifier rubyid_log_nest'>log_nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_narrow'>narrow</span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='symbol'>:specialization_hints</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_specialization_hints'>specialization_hints</span><span class='rparen'>)</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_debug'>debug</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  using </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>break</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:component_model</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_model'>model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='ivar'>@model</span> <span class='op'>!=</span> <span class='id identifier rubyid_model'>model</span>
        <span class='id identifier rubyid_invalidate_dependency_injection'>invalidate_dependency_injection</span>
        <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>

        <span class='ivar'>@model</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_model'>model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="not_abstract-instance_method">
  
    #<strong>not_abstract</strong>  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The instanciated task should not be marked as abstract</p>

<p>This is the default. This method is here only to be able to un-set
<span class='object_link'><a href="#abstract-instance_method" title="Syskit::InstanceRequirements#abstract (method)">#abstract</a></span></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


652
653
654
655
656</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 652</span>

<span class='kw'>def</span> <span class='id identifier rubyid_not_abstract'>not_abstract</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='ivar'>@abstract</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_server-instance_method">
  
    #<strong>on_server</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Requires that this spec runs on the given process server, i.e. that all the
corresponding tasks are running on that process server</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


826
827
828
829</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 826</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_server'>on_server</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='ivar'>@required_host</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="period-instance_method">
  
    #<strong>period</strong>(period, sample_size = 1)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1099
1100
1101
1102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1099</span>

<span class='kw'>def</span> <span class='id identifier rubyid_period'>period</span><span class='lparen'>(</span><span class='id identifier rubyid_period'>period</span><span class='comma'>,</span> <span class='id identifier rubyid_sample_size'>sample_size</span> <span class='op'>=</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dynamics'>dynamics</span><span class='period'>.</span><span class='id identifier rubyid_add_period_info'>add_period_info</span><span class='lparen'>(</span><span class='id identifier rubyid_period'>period</span><span class='comma'>,</span> <span class='id identifier rubyid_sample_size'>sample_size</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="placeholder_model-instance_method">
  
    #<strong>placeholder_model</strong>  &#x21d2; <tt>Model&lt;Roby::Task&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the taks model that should be used to represent the result of the
deployment of this requirement in a plan</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Model&lt;Roby::Task&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


845
846
847</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 845</span>

<span class='kw'>def</span> <span class='id identifier rubyid_placeholder_model'>placeholder_model</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="plain?-instance_method">
  
    #<strong>plain?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 99</span>

<span class='kw'>def</span> <span class='id identifier rubyid_plain?'>plain?</span>
    <span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_pushed_selections'>pushed_selections</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="port_by_name-instance_method">
  
    #<strong>port_by_name</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


425
426
427
428
429
430</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 425</span>

<span class='kw'>def</span> <span class='id identifier rubyid_port_by_name'>port_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_find_port'><span class='object_link'><a href="Coordination/Models/PortHandling.html#find_port-instance_method" title="Syskit::Coordination::Models::PortHandling#find_port (method)">find_port</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_p'>p</span>
    <span class='kw'>else</span> <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> has no port called </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, known ports are: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_each_port'>each_port</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="post_instanciation_setup-instance_method">
  
    #<strong>post_instanciation_setup</strong>(task)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 945</span>

<span class='kw'>def</span> <span class='id identifier rubyid_post_instanciation_setup'>post_instanciation_setup</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_task_requirements'>task_requirements</span> <span class='op'>=</span> <span class='id identifier rubyid_to_component_model'>to_component_model</span>
    <span class='id identifier rubyid_task_requirements'>task_requirements</span><span class='period'>.</span><span class='id identifier rubyid_map_use_selections!'>map_use_selections!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sel'>sel</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_sel'>sel</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='const'><span class='object_link'><a href="Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_is_model?'><span class='object_link'><a href="Models.html#is_model%3F-class_method" title="Syskit::Models.is_model? (method)">is_model?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_sel'>sel</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
            <span class='op'>!</span><span class='id identifier rubyid_sel'>sel</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DependencyInjection/SpecialDIValue.html" title="Syskit::DependencyInjection::SpecialDIValue (class)">SpecialDIValue</a></span></span><span class='rparen'>)</span>

            <span class='id identifier rubyid_sel'>sel</span><span class='period'>.</span><span class='id identifier rubyid_to_instance_requirements'>to_instance_requirements</span>
        <span class='kw'>else</span> <span class='id identifier rubyid_sel'>sel</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_update_requirements'>update_requirements</span><span class='lparen'>(</span><span class='id identifier rubyid_task_requirements'>task_requirements</span><span class='comma'>,</span>
        <span class='label'>name:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>keep_abstract:</span> <span class='kw'>true</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_required_host'>required_host</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:required_host=</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_required_host'>required_host</span> <span class='op'>=</span> <span class='id identifier rubyid_required_host'>required_host</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_abstract'>abstract</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_abstract?'>abstract?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prefer_deployed_tasks-instance_method">
  
    #<strong>prefer_deployed_tasks</strong>(*patterns)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add some hints to disambiguate deployment.</p>

<p>Whenever there is an ambiguity during deployed task assignation, the
deployed task names that match the given pattern will be preferred for
tasks that are part of the subnet generated by this instance requirements</p>

<p>Note that if no ambiguities exist, these patterns are not used at all</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>patterns</span>
      
      
        <span class='type'>(<tt>#===</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>objects that can match strings (usually regular expressions)</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


756
757
758
759
760</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 756</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prefer_deployed_tasks'>prefer_deployed_tasks</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_patterns'>patterns</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='ivar'>@deployment_hints</span> <span class='op'>|=</span> <span class='id identifier rubyid_patterns'>patterns</span><span class='period'>.</span><span class='id identifier rubyid_to_set'>to_set</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prefer_specializations-instance_method">
  
    #<strong>prefer_specializations</strong>(specialization_selectors)  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Give information needed to disambiguate the specialization selection</p>

<p>Whenever a specialization ambiguity exists, the possible matches will be
evaluated against each selector given through this method. Only the ones
that match at least one will be selected in the end</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'></span>
      
      
        <span class='type'>(<tt>{String=&gt;Model&lt;<span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span>&gt;}</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


771
772
773
774
775
776
777
778
779</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 771</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prefer_specializations'>prefer_specializations</span><span class='lparen'>(</span><span class='id identifier rubyid_specialization_selectors'>specialization_selectors</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_composition_model?'>composition_model?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not represent a composition, cannot use #prefer_specializations</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='ivar'>@specialization_hints</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_specialization_selectors'>specialization_selectors</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pretty_print-instance_method">
  
    #<strong>pretty_print</strong>(pp)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1010</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pretty_print'>pretty_print</span><span class='lparen'>(</span><span class='id identifier rubyid_pp'>pp</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span> <span class='op'>!=</span> <span class='id identifier rubyid_base_model'>base_model</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='embexpr_end'>}</span><span class='tstring_content'>(from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_base_model'>base_model</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_pushed_selections'>pushed_selections</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.use&lt;0&gt;(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pushed_selections'>pushed_selections</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_use_suffix'>use_suffix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;1&gt;</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.use</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_use_suffix'>use_suffix</span><span class='embexpr_end'>}</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_selections'>selections</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.with_arguments(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='embexpr_end'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="push_dependency_injection-instance_method">
  
    #<strong>push_dependency_injection</strong>(di)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Adds a DI object to the resolution stack</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>di</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the new DI information</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


853
854
855
856
857
858
859
860
861</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 853</span>

<span class='kw'>def</span> <span class='id identifier rubyid_push_dependency_injection'>push_dependency_injection</span><span class='lparen'>(</span><span class='id identifier rubyid_di'>di</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_invalidate_dependency_injection'>invalidate_dependency_injection</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>

    <span class='id identifier rubyid_merger'>merger</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DependencyInjectionContext.html" title="Syskit::DependencyInjectionContext (class)">DependencyInjectionContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjectionContext.html#initialize-instance_method" title="Syskit::DependencyInjectionContext#initialize (method)">new</a></span></span>
    <span class='id identifier rubyid_merger'>merger</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_context_selections'>context_selections</span>
    <span class='id identifier rubyid_merger'>merger</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_di'>di</span>
    <span class='ivar'>@context_selections</span> <span class='op'>=</span> <span class='id identifier rubyid_merger'>merger</span><span class='period'>.</span><span class='id identifier rubyid_current_state'>current_state</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="push_selections-instance_method">
  
    #<strong>push_selections</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


625
626
627
628
629
630
631
632
633
634
635</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 625</span>

<span class='kw'>def</span> <span class='id identifier rubyid_push_selections'>push_selections</span>
    <span class='id identifier rubyid_invalidate_dependency_injection'>invalidate_dependency_injection</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>

    <span class='id identifier rubyid_merger'>merger</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DependencyInjectionContext.html" title="Syskit::DependencyInjectionContext (class)">DependencyInjectionContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjectionContext.html#initialize-instance_method" title="Syskit::DependencyInjectionContext#initialize (method)">new</a></span></span>
    <span class='id identifier rubyid_merger'>merger</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_pushed_selections'>pushed_selections</span>
    <span class='id identifier rubyid_merger'>merger</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_selections'>selections</span>
    <span class='ivar'>@pushed_selections</span> <span class='op'>=</span> <span class='id identifier rubyid_merger'>merger</span><span class='period'>.</span><span class='id identifier rubyid_current_state'>current_state</span>
    <span class='ivar'>@selections</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjection.html#initialize-instance_method" title="Syskit::DependencyInjection#initialize (method)">new</a></span></span>
    <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reset_deployment_selection-instance_method">
  
    #<strong>reset_deployment_selection</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


717
718
719
720</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 717</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reset_deployment_selection'>reset_deployment_selection</span>
    <span class='id identifier rubyid_deployment_hints'>deployment_hints</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='ivar'>@deployment_group</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models/DeploymentGroup.html" title="Syskit::Models::DeploymentGroup (class)">DeploymentGroup</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Models/DeploymentGroup.html#initialize-instance_method" title="Syskit::Models::DeploymentGroup#initialize (method)">new</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve-instance_method">
  
    #<strong>resolve</strong>(object)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'>
<p>use <span class='object_link'><a href="#bind-instance_method" title="Syskit::InstanceRequirements#bind (method)">#bind</a></span> instead</p>
</div></div>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


206
207
208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 206</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
    <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecated'>warn_deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid___method__'>__method__</span><span class='embexpr_end'>}</span><span class='tstring_content'> is deprecated, use </span><span class='tstring_end'>&quot;</span></span>\
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>InstanceRequirements#bind instead</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_bind'><span class='object_link'><a href="Coordination/Models/PortHandling.html#bind-instance_method" title="Syskit::Coordination::Models::PortHandling#bind (method)">bind</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolved_dependency_injection-instance_method">
  
    #<strong>resolved_dependency_injection</strong>  &#x21d2; <tt><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the DI object used by this instance requirements task</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 866</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolved_dependency_injection'>resolved_dependency_injection</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@di</span>
        <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DependencyInjectionContext.html" title="Syskit::DependencyInjectionContext (class)">DependencyInjectionContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjectionContext.html#initialize-instance_method" title="Syskit::DependencyInjectionContext#initialize (method)">new</a></span></span>
        <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_context_selections'>context_selections</span><span class='rparen'>)</span>
        <span class='comment'># Add a barrier for the names that our models expect. This is
</span>        <span class='comment'># required to avoid recursively reusing names (which was once
</span>        <span class='comment'># upon a time, and is a very confusing feature)
</span>        <span class='id identifier rubyid_barrier'>barrier</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjection.html#initialize-instance_method" title="Syskit::DependencyInjection#initialize (method)">new</a></span></span>
        <span class='id identifier rubyid_barrier'>barrier</span><span class='period'>.</span><span class='id identifier rubyid_add_mask'>add_mask</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_placeholder_model'>placeholder_model</span><span class='period'>.</span><span class='id identifier rubyid_dependency_injection_names'>dependency_injection_names</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_barrier'>barrier</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_pushed_selections'>pushed_selections</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_selections'>selections</span><span class='rparen'>)</span>
        <span class='ivar'>@di</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_current_state'>current_state</span>
    <span class='kw'>end</span>
    <span class='ivar'>@di</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select_service-instance_method">
  
    #<strong>select_service</strong>(service)  &#x21d2; <tt><span class='object_link'><a href="Models/BoundDataService.html" title="Syskit::Models::BoundDataService (class)">Models::BoundDataService</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Explicitely selects a given service on the task models required by this
task</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Models/BoundDataService.html" title="Syskit::Models::BoundDataService (class)">Models::BoundDataService</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>data service that should be selected</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Models/BoundDataService.html" title="Syskit::Models::BoundDataService (class)">Models::BoundDataService</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the selected service. If &#39;service&#39; is a service of a supermodel of
a model in <span class='object_link'><a href="#model-instance_method" title="Syskit::InstanceRequirements#model (method)">#model</a></span>, the resulting BoundDataService is attached to the
actual model in <span class='object_link'><a href="#model-instance_method" title="Syskit::InstanceRequirements#model (method)">#model</a></span> and this return value is different from
&#39;service&#39;</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the provided service is not a service on a model in self (i.e. not a
service of a component model in <span class='object_link'><a href="#base_model-instance_method" title="Syskit::InstanceRequirements#base_model (method)">#base_model</a></span></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 275</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select_service'>select_service</span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> already points to a service which is different from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_service'>service</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_service'>service</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a service of </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_placeholder?'>placeholder?</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_srv'>srv</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service_from_type'>find_data_service_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
            <span class='ivar'>@base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_srv'>srv</span>
            <span class='ivar'>@model</span> <span class='op'>=</span> <span class='id identifier rubyid_srv'>srv</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
            <span class='ivar'>@base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service_from_type'>find_data_service_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
            <span class='ivar'>@model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span>
        <span class='kw'>end</span>
    <span class='kw'>else</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_srv'>srv</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service'>find_data_service</span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
            <span class='ivar'>@base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_srv'>srv</span>
            <span class='ivar'>@model</span> <span class='op'>=</span> <span class='id identifier rubyid_srv'>srv</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
            <span class='ivar'>@base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
            <span class='ivar'>@model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="selected_for-instance_method">
  
    #<strong>selected_for</strong>(requirements)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1168
1169
1170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_selected_for'>selected_for</span><span class='lparen'>(</span><span class='id identifier rubyid_requirements'>requirements</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="InstanceSelection.html" title="Syskit::InstanceSelection (class)">InstanceSelection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InstanceSelection.html#initialize-instance_method" title="Syskit::InstanceSelection#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_to_instance_requirements'>to_instance_requirements</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="self_port_to_component_port-instance_method">
  
    #<strong>self_port_to_component_port</strong>(port)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Resolves the given port into a port that is attached to a component model
(NOT a service)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


245
246
247</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 245</span>

<span class='kw'>def</span> <span class='id identifier rubyid_self_port_to_component_port'><span class='object_link'><a href="Coordination/Models/PortHandling.html#self_port_to_component_port-instance_method" title="Syskit::Coordination::Models::PortHandling#self_port_to_component_port (method)">self_port_to_component_port</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_self_port_to_component_port'>self_port_to_component_port</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='id identifier rubyid_to_component_model'>to_component_model</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="service-instance_method">
  
    #<strong>service</strong>  &#x21d2; <tt><span class='object_link'><a href="Models/BoundDataService.html" title="Syskit::Models::BoundDataService (class)">Models::BoundDataService</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If this object explicitly points to a bound service, return it</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Models/BoundDataService.html" title="Syskit::Models::BoundDataService (class)">Models::BoundDataService</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


252
253
254
255
256
257
258
259
260
261</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 252</span>

<span class='kw'>def</span> <span class='id identifier rubyid_service'>service</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Models/BoundDataService.html" title="Syskit::Models::BoundDataService (class)">BoundDataService</a></span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_model'>model</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_placeholder?'>placeholder?</span>
        <span class='id identifier rubyid_ds'>ds</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_proxied_data_service_models'>proxied_data_service_models</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_ds'>ds</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
            <span class='kw'>return</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service_from_type'>find_data_service_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_ds'>ds</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="simplest_model_representation-instance_method">
  
    #<strong>simplest_model_representation</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the simplest model representation for self</p>

<p>It basically checks if <span class='object_link'><a href="#plain%3F-instance_method" title="Syskit::InstanceRequirements#plain? (method)">#plain?</a></span> returns true or false. If self is indeed
plain, it returns the actual model class</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


618
619
620
621
622
623</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 618</span>

<span class='kw'>def</span> <span class='id identifier rubyid_simplest_model_representation'>simplest_model_representation</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_plain?'>plain?</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_model'>model</span>
    <span class='kw'>else</span> <span class='kw'>return</span> <span class='kw'>self</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="specialize-instance_method">
  
    #<strong>specialize</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160
161
162
163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 160</span>

<span class='kw'>def</span> <span class='id identifier rubyid_specialize'>specialize</span>
    <span class='id identifier rubyid_new_ir'>new_ir</span> <span class='op'>=</span> <span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_new_model'>new_model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_specialize'>specialize</span>
    <span class='id identifier rubyid_new_ir'>new_ir</span><span class='period'>.</span><span class='id identifier rubyid_add_models'>add_models</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_new_model'>new_model</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_new_ir'>new_ir</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_action-instance_method">
  
    #<strong>to_action</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1202
1203
1204</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1202</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_action'>to_action</span>
    <span class='id identifier rubyid_to_action_model'>to_action_model</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_action_model-instance_method">
  
    #<strong>to_action_model</strong>(doc = self.doc)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1172
1173
1174
1175
1176
1177
1178
1179
1180
1181
1182
1183
1184
1185
1186
1187
1188
1189
1190
1191
1192
1193
1194
1195
1196
1197
1198
1199
1200</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1172</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_action_model'>to_action_model</span><span class='lparen'>(</span><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_doc'>doc</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_action_model'>action_model</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Actions.html" title="Syskit::Actions (module)">Actions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Actions/Models.html" title="Syskit::Actions::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Actions/Models/Action.html" title="Syskit::Actions::Models::Action (class)">Action</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Actions/Models/Action.html#new-instance_method" title="Syskit::Actions::Models::Action#new (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_doc'>doc</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_action_model'>action_model</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_action_model'>action_model</span><span class='period'>.</span><span class='id identifier rubyid_returns'>returns</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_task_model'>task_model</span> <span class='op'>=</span> <span class='id identifier rubyid_component_model'>component_model</span>
    <span class='id identifier rubyid_root_model'>root_model</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="Composition.html" title="Syskit::Composition (class)">Composition</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_task_model'>task_model</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_m'>m</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_task_arguments'>task_arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='op'>-</span> <span class='id identifier rubyid_root_model'>root_model</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='id identifier rubyid_task_arguments'>task_arguments</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg_name'>arg_name</span><span class='op'>|</span>
        <span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_find_argument'>find_argument</span><span class='lparen'>(</span><span class='id identifier rubyid_arg_name'>arg_name</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_arg_name'>arg_name</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_optional'>optional</span><span class='comma'>,</span> <span class='id identifier rubyid_default_argument'>default_argument</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='lbracket'>[</span><span class='id identifier rubyid_arg_name'>arg_name</span><span class='rbracket'>]</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_has_default?'>has_default?</span>
            <span class='id identifier rubyid_optional'>optional</span><span class='comma'>,</span> <span class='id identifier rubyid_default_argument'>default_argument</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_default'>default</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_default_argument'>default_argument</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Roby</span><span class='op'>::</span><span class='const'>DefaultArgument</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_default_argument'>default_argument</span> <span class='op'>=</span> <span class='id identifier rubyid_default_argument'>default_argument</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
            <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_has_delayed_default?'>has_delayed_default?</span>
                <span class='id identifier rubyid_default_argument'>default_argument</span> <span class='op'>=</span> <span class='kw'>nil</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_optional'>optional</span>
            <span class='id identifier rubyid_action_model'>action_model</span><span class='period'>.</span><span class='id identifier rubyid_optional_arg'>optional_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_arg_name'>arg_name</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_doc'>doc</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg_name'>arg_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> argument of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_default_argument'>default_argument</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_action_model'>action_model</span><span class='period'>.</span><span class='id identifier rubyid_required_arg'>required_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_arg_name'>arg_name</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_doc'>doc</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg_name'>arg_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> argument of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_action_model'>action_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_component_model-instance_method">
  
    #<strong>to_component_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a copy of these requirements with any service specification
strippped</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


199
200
201
202
203</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 199</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_component_model'>to_component_model</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_unselect_service'>unselect_service</span>
    <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_coordination_task-instance_method">
  
    #<strong>to_coordination_task</strong>(task_model)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1164
1165
1166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1164</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_coordination_task'>to_coordination_task</span><span class='lparen'>(</span><span class='id identifier rubyid_task_model'>task_model</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="InstanceRequirements/CoordinationTask.html" title="Syskit::InstanceRequirements::CoordinationTask (class)">CoordinationTask</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InstanceRequirements/CoordinationTask.html#initialize-instance_method" title="Syskit::InstanceRequirements::CoordinationTask#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_instance_requirements-instance_method">
  
    #<strong>to_instance_requirements</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="Syskit::InstanceRequirements (class)">Syskit::InstanceRequirements</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generates the InstanceRequirements object that represents <code>self</code>
best</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Syskit::InstanceRequirements (class)">Syskit::InstanceRequirements</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1068
1069
1070</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 1068</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_instance_requirements'>to_instance_requirements</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005
1006
1007
1008</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 992</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span> <span class='op'>!=</span> <span class='id identifier rubyid_base_model'>base_model</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[narrowed to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_pushed_selections'>pushed_selections</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.use&lt;0&gt;(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pushed_selections'>pushed_selections</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_use_suffix'>use_suffix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;1&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.use</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_use_suffix'>use_suffix</span><span class='embexpr_end'>}</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_selections'>selections</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.with_arguments(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="try_bind-instance_method">
  
    #<strong>try_bind</strong>(task)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Maps the given task to the underlying model</p>

<p>Unlike <span class='object_link'><a href="#bind-instance_method" title="Syskit::InstanceRequirements#bind (method)">#bind</a></span>, it returns nil if the task cannot be mapped</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


228
229
230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 228</span>

<span class='kw'>def</span> <span class='id identifier rubyid_try_bind'>try_bind</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_try_bind'>try_bind</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="try_resolve-instance_method">
  
    #<strong>try_resolve</strong>(task)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'>
<p>use <span class='object_link'><a href="#try_bind-instance_method" title="Syskit::InstanceRequirements#try_bind (method)">#try_bind</a></span> instead</p>
</div></div>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


213
214
215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 213</span>

<span class='kw'>def</span> <span class='id identifier rubyid_try_resolve'>try_resolve</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
    <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecated'>warn_deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid___method__'>__method__</span><span class='embexpr_end'>}</span><span class='tstring_content'> is deprecated, use </span><span class='tstring_end'>&quot;</span></span>\
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>InstanceRequirements#try_bind instead</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_try_bind'>try_bind</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unselect_service-instance_method">
  
    #<strong>unselect_service</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Removes any service selection</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


304
305
306
307
308
309
310
311</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 304</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unselect_service'>unselect_service</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:component_model</span><span class='rparen'>)</span>
        <span class='ivar'>@base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:component_model</span><span class='rparen'>)</span>
        <span class='ivar'>@model</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use-instance_method">
  
    #<strong>use</strong>(*mappings)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:call-seq:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_use'>use</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>child_name</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>component_model_or_device</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_use'>use</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>child_name</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='const'>ComponentModel</span>
<span class='id identifier rubyid_use'>use</span> <span class='const'>ChildModel</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>component_model_or_device</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_use'>use</span> <span class='const'>ChildModel</span> <span class='op'>=&gt;</span> <span class='const'>ComponentModel</span>
<span class='id identifier rubyid_use'>use</span> <span class='const'>Model1</span><span class='comma'>,</span> <span class='const'>Model2</span><span class='comma'>,</span> <span class='const'>Model3</span>
</code></pre>

<p>Provides explicit selections for the children of compositions</p>

<p>In the first two forms, provides an explicit selection for a given child.
The selection can be given either by name (name of the model and/or of the
selected device), or by directly giving the model object.</p>

<p>In the second two forms, provides an explicit selection for any children
that provide the given model. For instance,</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_use'>use</span> <span class='const'>IMU</span> <span class='op'>=&gt;</span> <span class='const'>XsensImu</span><span class='op'>::</span><span class='const'>Task</span>
</code></pre>

<p>will select XsensImu::Task for any child that provides IMU</p>

<p>Finally, the third form allows to specify preferences without being
specific about where to put them. If ambiguities are found, and if only one
of the possibility is listed there, then that possibility will be selected.
It has a lower priority than the explicit selection.</p>

<p>See also Composition#instanciate</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 539</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use'>use</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_mappings'>mappings</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span> <span class='op'>&lt;=</span> <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Composition.html" title="Syskit::Composition (class)">Composition</a></span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#use is available only for compositions, got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_invalidate_dependency_injection'>invalidate_dependency_injection</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>

    <span class='id identifier rubyid_mappings'>mappings</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sel'>sel</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_sel'>sel</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></span><span class='rparen'>)</span>
            <span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_sel'>sel</span><span class='rparen'>)</span>
            <span class='kw'>true</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_explicit'>explicit</span><span class='comma'>,</span> <span class='id identifier rubyid_defaults'>defaults</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_partition_use_arguments'><span class='object_link'><a href="DependencyInjection.html#partition_use_arguments-class_method" title="Syskit::DependencyInjection.partition_use_arguments (method)">partition_use_arguments</a></span></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_mappings'>mappings</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_explicit'>explicit</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Roby</span><span class='op'>::</span><span class='const'>Task</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="BoundDataService.html" title="Syskit::BoundDataService (class)">BoundDataService</a></span></span><span class='rparen'>)</span>
            <span class='ivar'>@can_use_template</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_debug'>debug</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>adding use mappings to </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_explicit'>explicit</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
            <span class='id identifier rubyid_explicit'>explicit</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='op'>|</span>
                <span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_defaults'>defaults</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
            <span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_defaults'>defaults</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:short_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='kw'>break</span>
    <span class='kw'>end</span>

    <span class='comment'># Validate the new mappings first
</span>    <span class='id identifier rubyid_new_mappings'>new_mappings</span> <span class='op'>=</span> <span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='comment'># !!! #add_explicit does not do any normalization. User-provided
</span>    <span class='comment'># !!! selections should always be added with #add
</span>    <span class='id identifier rubyid_new_mappings'>new_mappings</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_explicit'>explicit</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_explicit'>explicit</span><span class='period'>.</span><span class='id identifier rubyid_each_key'>each_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child_name'>child_name</span><span class='op'>|</span>
        <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='id identifier rubyid_new_mappings'>new_mappings</span><span class='period'>.</span><span class='id identifier rubyid_explicit'>explicit</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:fullfills?</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_child'>child</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_child'>find_child</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rparen'>)</span>
            <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_m'>selected_m</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='id identifier rubyid_new_mappings'>new_mappings</span><span class='period'>.</span><span class='id identifier rubyid_selection_for'>selection_for</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_selected_m'>selected_m</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_child'>child</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="InvalidSelection.html" title="Syskit::InvalidSelection (class)">InvalidSelection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InvalidSelection.html#initialize-instance_method" title="Syskit::InvalidSelection#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_req'>req</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a valid selection for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child_name'>child_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>. Was expecting something that provides </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child'>child</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='comment'># See comment about #add_explicit vs. #add above
</span>    <span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_explicit'>explicit</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_defaults'>defaults</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_composition_model'>composition_model</span> <span class='op'>=</span> <span class='id identifier rubyid_narrow_model'>narrow_model</span> <span class='op'>||</span> <span class='id identifier rubyid_composition_model'>composition_model</span>

    <span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_each_selection_key'>each_selection_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_obj'>obj</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_str</span><span class='rparen'>)</span>
            <span class='comment'># Two choices: either a child of the composition model,
</span>            <span class='comment'># or a child of a child that is a composition itself
</span>            <span class='id identifier rubyid_parts'>parts</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
            <span class='id identifier rubyid_first_part'>first_part</span> <span class='op'>=</span> <span class='id identifier rubyid_parts'>parts</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_composition_model'>composition_model</span><span class='period'>.</span><span class='id identifier rubyid_has_child?'>has_child?</span><span class='lparen'>(</span><span class='id identifier rubyid_first_part'>first_part</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_children'>children</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
                <span class='id identifier rubyid_composition_model'>composition_model</span><span class='period'>.</span><span class='id identifier rubyid_each_child'>each_child</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span><span class='op'>|</span>
                    <span class='id identifier rubyid_children'>children</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_child'>child</span>
                <span class='kw'>end</span>
                <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Roby</span><span class='op'>::</span><span class='const'>NoSuchChild</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_composition_model'>composition_model</span><span class='comma'>,</span> <span class='id identifier rubyid_first_part'>first_part</span><span class='comma'>,</span> <span class='id identifier rubyid_children'>children</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_first_part'>first_part</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a known child of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_composition_model'>composition_model</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_conf-instance_method">
  
    #<strong>use_conf</strong>(*conf)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'>
<p>use <span class='object_link'><a href="#with_conf-instance_method" title="Syskit::InstanceRequirements#with_conf (method)">#with_conf</a></span> instead</p>
</div></div>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


705
706
707
708</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 705</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_conf'>use_conf</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_conf'>conf</span><span class='rparen'>)</span>
    <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecated'>warn_deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>InstanceRequirements#use_conf is deprecated. Use #with_conf instead</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_with_conf'>with_conf</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_conf'>conf</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_configured_deployment-instance_method">
  
    #<strong>use_configured_deployment</strong>(configured_deployment)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


722
723
724
725
726</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 722</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_configured_deployment'>use_configured_deployment</span><span class='lparen'>(</span><span class='id identifier rubyid_configured_deployment'>configured_deployment</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='id identifier rubyid_deployment_group'>deployment_group</span><span class='period'>.</span><span class='id identifier rubyid_register_configured_deployment'>register_configured_deployment</span><span class='lparen'>(</span><span class='id identifier rubyid_configured_deployment'>configured_deployment</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_deployment-instance_method">
  
    #<strong>use_deployment</strong>(*spec, **options)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Declare the deployment that should be used for self</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


729
730
731
732
733</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 729</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_deployment'><span class='object_link'><a href="Test/NetworkManipulation.html#use_deployment-instance_method" title="Syskit::Test::NetworkManipulation#use_deployment (method)">use_deployment</a></span></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='id identifier rubyid_deployment_group'>deployment_group</span><span class='period'>.</span><span class='id identifier rubyid_use_deployment'>use_deployment</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_deployment_group-instance_method">
  
    #<strong>use_deployment_group</strong>(deployment_group)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add deployments into the deployments this subnet should be using</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>deployment_group</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Models/DeploymentGroup.html" title="Syskit::Models::DeploymentGroup (class)">Models::DeploymentGroup</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


738
739
740
741
742</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 738</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_deployment_group'>use_deployment_group</span><span class='lparen'>(</span><span class='id identifier rubyid_deployment_group'>deployment_group</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_invalidate_template'>invalidate_template</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_deployment_group'>deployment_group</span><span class='period'>.</span><span class='id identifier rubyid_use_group'>use_group</span><span class='lparen'>(</span><span class='id identifier rubyid_deployment_group'>deployment_group</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_arguments-instance_method">
  
    #<strong>with_arguments</strong>(hash_argument = nil, **arguments)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies new arguments that must be set to the instanciated task</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 681</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_arguments'>with_arguments</span><span class='lparen'>(</span><span class='id identifier rubyid_hash_argument'>hash_argument</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_hash_argument'>hash_argument</span>
        <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecated'>warn_deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>InstanceRequirements#with_arguments: providing arguments using a string is not supported anymore use key: value instead of &#39;key&#39; =&gt; value</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_hash_argument'>hash_argument</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
            <span class='id identifier rubyid_arguments'>arguments</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_droby_marshallable?'>droby_marshallable?</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Roby</span><span class='op'>::</span><span class='const'>NotMarshallable</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>values used as task arguments must be marshallable, attempting to set </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_content'> of class </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>, which is not</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='ivar'>@arguments</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_conf-instance_method">
  
    #<strong>with_conf</strong>(*conf)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies that the task that is represented by this requirement should use
the given configuration</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


712
713
714
715</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 712</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_conf'>with_conf</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_conf'>conf</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_with_arguments'>with_arguments</span><span class='lparen'>(</span><span class='label'>conf:</span> <span class='id identifier rubyid_conf'>conf</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_no_arguments-instance_method">
  
    #<strong>with_no_arguments</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Clear all arguments</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


699
700
701
702</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_requirements.rb', line 699</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_no_arguments'>with_no_arguments</span>
    <span class='ivar'>@arguments</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 21:56:14 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>