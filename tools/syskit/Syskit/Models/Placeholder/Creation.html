<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Syskit::Models::Placeholder::Creation
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Syskit::Models::Placeholder::Creation";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Syskit.html" title="Syskit (module)">Syskit</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Models.html" title="Syskit::Models (module)">Models</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Placeholder.html" title="Syskit::Models::Placeholder (module)">Placeholder</a></span></span>
     &raquo; 
    <span class="title">Creation</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Syskit::Models::Placeholder::Creation
  
  
  <span class="private note title">Private</span>
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="../Placeholder.html" title="Syskit::Models::Placeholder (module)">Syskit::Models::Placeholder</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/syskit/models/placeholder.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This module is part of a private API.</strong>
  You should avoid using this module if possible, as it may be removed or be changed in the future.
</p>

<p>Encapsulation of the methods that allow to create placeholder models</p>

<p>This is separated to ease the creation of specialized placeholder types
such as <span class='object_link'><a href="../../Actions/Profile/Tag.html" title="Syskit::Actions::Profile::Tag (module)">Actions::Profile::Tag</a></span></p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_for-instance_method" title="#create_for (instance method)">#<strong>create_for</strong>(models, component_model: nil, as: nil)  &#x21d2; Component </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Create a task model that is an aggregate of all the provided models
(components and services).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#for-instance_method" title="#for (instance method)">#<strong>for</strong>(models, component_model: nil, as: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a component model that can be used to represent an instance of an
arbitrary set of models in a plan.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_specialized_placeholder-instance_method" title="#new_specialized_placeholder (instance method)">#<strong>new_specialized_placeholder</strong>(task_extension: Syskit::Placeholder, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new specialized placeholder type that provides the same API than
Placeholder.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_models_argument-instance_method" title="#resolve_models_argument (instance method)">#<strong>resolve_models_argument</strong>(models, component_model: nil)  &#x21d2; Component, ... </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Resolves the base task model and set of service models that should be used
to create a proxy task model for the given component and/or service models.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#task_extension-instance_method" title="#task_extension (instance method)">#<strong>task_extension</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Return the module that should be included in the newly created models.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="create_for-instance_method">
  
    #<strong>create_for</strong>(models, component_model: nil, as: nil)  &#x21d2; <tt><span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Create a task model that is an aggregate of all the provided models
(components and services)</p>

<p>You usually should use proxy_component_model_for instead of this</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>as</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the newly created model</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'>(<tt>Set&lt;<span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span>,<span class='object_link'><a href="../../DataService.html" title="Syskit::DataService (module)">DataService</a></span>,<span class='object_link'><a href="../BoundDataService.html" title="Syskit::Models::BoundDataService (class)">BoundDataService</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>set of component and data service models.  There can be only one component
model (as per Ruby&#39;s single-inheritance system). If a bound data
service is provided, its underlying component model is used as base model
and the service is returned instead of the plain task</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>component_model</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>historically, methods were called with a mix of component models and data
service models. If the component model (<span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span> or <span class='object_link'><a href="../BoundDataService.html" title="Syskit::Models::BoundDataService (class)">BoundDataService</a></span>)
is known, it should be given to create_proxy_component_model_for and
proxy_component_model_for through this parameter to avoid re-resolving
it.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/placeholder.rb', line 207</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_for'>create_for</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='label'>component_model:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_task_model'>task_model</span><span class='comma'>,</span> <span class='id identifier rubyid_service_models'>service_models</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span>
        <span class='id identifier rubyid_resolve_models_argument'>resolve_models_argument</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='label'>component_model:</span> <span class='id identifier rubyid_component_model'>component_model</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_name_models'>name_models</span> <span class='op'>=</span> <span class='id identifier rubyid_service_models'>service_models</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_task_model'>task_model</span> <span class='op'>!=</span> <span class='const'><span class='object_link'><a href="../../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Component.html" title="Syskit::Component (class)">Component</a></span></span>
        <span class='id identifier rubyid_name_models'>name_models</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task_model'>task_model</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_models'>name_models</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_model'>model</span> <span class='op'>=</span> <span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_specialize'>specialize</span><span class='lparen'>(</span><span class='id identifier rubyid_as'>as</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;%s&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='id identifier rubyid_name_models'>name_models</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_abstract'>abstract</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_concrete_model'>concrete_model</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_include'>include</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_task_extension'>task_extension</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span>  <span class='kw'>self</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_proxied_component_model'>proxied_component_model</span> <span class='op'>=</span> <span class='id identifier rubyid_task_model'>task_model</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_proxied_data_service_models'>proxied_data_service_models</span> <span class='op'>=</span> <span class='id identifier rubyid_service_models'>service_models</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_update_proxy_mappings'>update_proxy_mappings</span>

    <span class='id identifier rubyid_service_models'>service_models</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_provides'>provides</span> <span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>m</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_model'>model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="for-instance_method">
  
    #<strong>for</strong>(models, component_model: nil, as: nil)  &#x21d2; <tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Returns a component model that can be used to represent an instance of an
arbitrary set of models in a plan</p>

<p>Unlike <span class='object_link'><a href="#create_for-instance_method" title="Syskit::Models::Placeholder::Creation#create_for (method)">#create_for</a></span>, it will create a new model only if needed, that is if
both data services are actually requested, and if <span class='object_link'><a href="#for-instance_method" title="Syskit::Models::Placeholder::Creation#for (method)">#for</a></span> has not yet been
called with the same parameter (in which case the model created then will
be returned)</p>

<p>This is the main entry point. It will cache created models so that proxying
the same set of services on the same component model returns the same
result.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>as</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the newly created model</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'>(<tt>Set&lt;<span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span>,<span class='object_link'><a href="../../DataService.html" title="Syskit::DataService (module)">DataService</a></span>,<span class='object_link'><a href="../BoundDataService.html" title="Syskit::Models::BoundDataService (class)">BoundDataService</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>set of component and data service models.  There can be only one component
model (as per Ruby&#39;s single-inheritance system). If a bound data
service is provided, its underlying component model is used as base model
and the service is returned instead of the plain task</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>component_model</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>historically, methods were called with a mix of component models and data
service models. If the component model (<span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span> or <span class='object_link'><a href="../BoundDataService.html" title="Syskit::Models::BoundDataService (class)">BoundDataService</a></span>)
is known, it should be given to create_proxy_component_model_for and
proxy_component_model_for through this parameter to avoid re-resolving
it.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/placeholder.rb', line 243</span>

<span class='kw'>def</span> <span class='kw'>for</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='label'>component_model:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_task_model'>task_model</span><span class='comma'>,</span> <span class='id identifier rubyid_service_models'>service_models</span><span class='comma'>,</span> <span class='id identifier rubyid_service'>service</span> <span class='op'>=</span>
        <span class='id identifier rubyid_resolve_models_argument'>resolve_models_argument</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='label'>component_model:</span> <span class='id identifier rubyid_component_model'>component_model</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_service_models'>service_models</span> <span class='op'>=</span> <span class='id identifier rubyid_service_models'>service_models</span><span class='period'>.</span><span class='id identifier rubyid_to_set'>to_set</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_service_models'>service_models</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_proxy_component_model'>proxy_component_model</span> <span class='op'>=</span> <span class='id identifier rubyid_task_model'>task_model</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cached_model'>cached_model</span> <span class='op'>=</span> <span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_find_placeholder_model'>find_placeholder_model</span><span class='lparen'>(</span><span class='id identifier rubyid_service_models'>service_models</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_proxy_component_model'>proxy_component_model</span> <span class='op'>=</span> <span class='id identifier rubyid_cached_model'>cached_model</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_service_models'>service_models</span> <span class='op'>=</span> <span class='id identifier rubyid_service_models'>service_models</span><span class='period'>.</span><span class='id identifier rubyid_to_set'>to_set</span>
        <span class='id identifier rubyid_proxy_component_model'>proxy_component_model</span> <span class='op'>=</span>
            <span class='id identifier rubyid_create_for'>create_for</span><span class='lparen'>(</span><span class='id identifier rubyid_service_models'>service_models</span><span class='comma'>,</span> <span class='label'>component_model:</span> <span class='id identifier rubyid_task_model'>task_model</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='id identifier rubyid_as'>as</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_register_placeholder_model'>register_placeholder_model</span><span class='lparen'>(</span><span class='id identifier rubyid_proxy_component_model'>proxy_component_model</span><span class='comma'>,</span> <span class='id identifier rubyid_service_models'>service_models</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_service'>service</span>
        <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='id identifier rubyid_proxy_component_model'>proxy_component_model</span><span class='rparen'>)</span>
    <span class='kw'>else</span> <span class='id identifier rubyid_proxy_component_model'>proxy_component_model</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_specialized_placeholder-instance_method">
  
    #<strong>new_specialized_placeholder</strong>(task_extension: Syskit::Placeholder, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Create a new specialized placeholder type that provides the same API than
Placeholder</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/placeholder.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new_specialized_placeholder'>new_specialized_placeholder</span><span class='lparen'>(</span><span class='label'>task_extension:</span> <span class='const'><span class='object_link'><a href="../../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Placeholder.html" title="Syskit::Placeholder (module)">Placeholder</a></span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_self_'>self_</span> <span class='op'>=</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_creation'>creation</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Module.html" title="Module (class)">Module</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_include'>include</span> <span class='id identifier rubyid_self_'>self_</span><span class='op'>::</span><span class='const'>Creation</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_model'>model</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Module.html" title="Module (class)">Module</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_include'>include</span> <span class='id identifier rubyid_self_'>self_</span>
        <span class='id identifier rubyid_const_set'>const_set</span><span class='lparen'>(</span><span class='symbol'>:Creation</span><span class='comma'>,</span> <span class='id identifier rubyid_creation'>creation</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_extend'>extend</span> <span class='id identifier rubyid_creation'>creation</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_task_extension'>task_extension</span> <span class='op'>!=</span> <span class='const'><span class='object_link'><a href="../../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Placeholder.html" title="Syskit::Placeholder (module)">Placeholder</a></span></span>
        <span class='id identifier rubyid_creation'>creation</span><span class='period'>.</span><span class='id identifier rubyid_class_eval'>class_eval</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span><span class='symbol'>:task_extension</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_task_extension'>task_extension</span> <span class='rbrace'>}</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
        <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_class_eval'>class_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_model'>model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve_models_argument-instance_method">
  
    #<strong>resolve_models_argument</strong>(models, component_model: nil)  &#x21d2; <tt><span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span></tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Resolves the base task model and set of service models that should be used
to create a proxy task model for the given component and/or service models</p>

<p>This is a helper method for create_proxy_component_model_for and
proxy_component_model_for</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'>(<tt>Set&lt;<span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span>,<span class='object_link'><a href="../../DataService.html" title="Syskit::DataService (module)">DataService</a></span>,<span class='object_link'><a href="../BoundDataService.html" title="Syskit::Models::BoundDataService (class)">BoundDataService</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>set of component and data service models.  There can be only one component
model (as per Ruby&#39;s single-inheritance system). If a bound data
service is provided, its underlying component model is used as base model
and the service is returned instead of the plain task</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>component_model</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>historically, methods were called with a mix of component models and data
service models. If the component model (<span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span> or <span class='object_link'><a href="../BoundDataService.html" title="Syskit::Models::BoundDataService (class)">BoundDataService</a></span>)
is known, it should be given to create_proxy_component_model_for and
proxy_component_model_for through this parameter to avoid re-resolving
it.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Component.html" title="Syskit::Models::Component (module)">Component</a></span></tt>, <tt>Array&lt;<span class='object_link'><a href="../../DataService.html" title="Syskit::DataService (module)">DataService</a></span>&gt;</tt>, <tt>(<span class='object_link'><a href="../BoundDataService.html" title="Syskit::Models::BoundDataService (class)">BoundDataService</a></span>,nil)</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Component,Array&lt;DataService&gt;,(BoundDataService,nil)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/placeholder.rb', line 286</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_models_argument'>resolve_models_argument</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='label'>component_model:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_component_model'>component_model</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:component_model</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_bound_service'>bound_service</span> <span class='op'>=</span> <span class='id identifier rubyid_component_model'>component_model</span>
            <span class='id identifier rubyid_component_model'>component_model</span> <span class='op'>=</span> <span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_models'>models</span> <span class='op'>=</span> <span class='id identifier rubyid_models'>models</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_srv'>srv</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_srv'>srv</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_component_model'>component_model</span><span class='comma'>,</span> <span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='id identifier rubyid_bound_service'>bound_service</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_service'>service</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_models'>models</span> <span class='op'>=</span> <span class='id identifier rubyid_models'>models</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:component_model</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_service'>service</span>
                <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>more than one bound data service given: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_service'>service</span><span class='embexpr_end'>}</span><span class='tstring_content'> and </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_m'>m</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_service'>service</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span>
            <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span>
        <span class='kw'>else</span> <span class='id identifier rubyid_m'>m</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_task_models'>task_models</span><span class='comma'>,</span> <span class='id identifier rubyid_service_models'>service_models</span> <span class='op'>=</span> <span class='id identifier rubyid_models'>models</span><span class='period'>.</span><span class='id identifier rubyid_partition'>partition</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>&lt;=</span> <span class='const'><span class='object_link'><a href="../../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Component.html" title="Syskit::Component (class)">Component</a></span></span> <span class='rbrace'>}</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_task_models'>task_models</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='kw'>return</span> <span class='const'><span class='object_link'><a href="../../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Component.html" title="Syskit::Component (class)">Component</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_service_models'>service_models</span><span class='comma'>,</span> <span class='id identifier rubyid_service'>service</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_task_models'>task_models</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
        <span class='id identifier rubyid_task_model'>task_model</span> <span class='op'>=</span> <span class='id identifier rubyid_task_models'>task_models</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
        <span class='id identifier rubyid_service_models'>service_models</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_srv'>srv</span><span class='op'>|</span> <span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_srv'>srv</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_task_model'>task_model</span><span class='comma'>,</span> <span class='id identifier rubyid_service_models'>service_models</span><span class='comma'>,</span> <span class='id identifier rubyid_service'>service</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cannot create a proxy for multiple component models at the same time</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="task_extension-instance_method">
  
    #<strong>task_extension</strong>  &#x21d2; <tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Return the module that should be included in the newly created models</p>

<p>It defaults to <span class='object_link'><a href="../../Placeholder.html" title="Syskit::Placeholder (module)">Placeholder</a></span></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/placeholder.rb', line 195</span>

<span class='kw'>def</span> <span class='id identifier rubyid_task_extension'>task_extension</span>
    <span class='const'><span class='object_link'><a href="../../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Placeholder.html" title="Syskit::Placeholder (module)">Placeholder</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 21:51:15 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>