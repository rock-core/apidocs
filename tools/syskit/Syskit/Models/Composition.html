<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Syskit::Models::Composition
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Syskit::Models::Composition";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span>
     &raquo; 
    <span class="title">Composition</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Syskit::Models::Composition
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Base.html" title="Syskit::Models::Base (module)">Base</a></span>, <span class='object_link'><a href="Component.html" title="Syskit::Models::Component (module)">Component</a></span>, <span class='object_link'><a href="PortAccess.html" title="Syskit::Models::PortAccess (module)">PortAccess</a></span></dd>
  </dl>
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="../Composition.html" title="Syskit::Composition (class)">Composition</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/syskit/models/composition.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Model-level instances and attributes for compositions</p>

<p>See the documentation of Model for an explanation of the *Model modules.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Composition/DynamicServiceInstantiationContext.html" title="Syskit::Models::Composition::DynamicServiceInstantiationContext (class)">DynamicServiceInstantiationContext</a></span>
    
  
</p>



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Component.html" title="Syskit::Models::Component (module)">Component</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Component.html#PROVIDES_ARGUMENTS-constant" title="Syskit::Models::Component::PROVIDES_ARGUMENTS (constant)">Syskit::Models::Component::PROVIDES_ARGUMENTS</a></span></p>




  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Component.html" title="Syskit::Models::Component (module)">Component</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Component.html#concrete_model-instance_method" title="Syskit::Models::Component#concrete_model (method)">#concrete_model</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add-instance_method" title="#add (instance method)">#<strong>add</strong>(models, options = Hash.new)  &#x21d2; CompositionChild </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add an element in this composition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_child-instance_method" title="#add_child (instance method)">#<strong>add_child</strong>(name, child_models, dependency_options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Internal helper to add a child to the composition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_main-instance_method" title="#add_main (instance method)">#<strong>add_main</strong>(models, options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds the given child, and marks it as the task that provides the main
composition&#39;s functionality.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_main_task-instance_method" title="#add_main_task (instance method)">#<strong>add_main_task</strong>(models, options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>DEPRECATED.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_optional-instance_method" title="#add_optional (instance method)">#<strong>add_optional</strong>(models, options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a child that may not be provided.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_specialization_constraint-instance_method" title="#add_specialization_constraint (instance method)">#<strong>add_specialization_constraint</strong>(explicit = nil) {|spec0, spec1| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Registers a block that will be able to tell the system that two
specializations are not compatible (i.e. should never be applied at the
same time).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_child-instance_method" title="#all_child (instance method)">#<strong>all_child</strong>  &#x21d2; Array&lt;CompositionChild&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The union, along the class hierarchy, of all the values stored in child.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_child_constraint-instance_method" title="#all_child_constraint (instance method)">#<strong>all_child_constraint</strong>  &#x21d2; Array&lt;Object&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The union, along the class hierarchy, of all the values stored in
child_constraint.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_configuration-instance_method" title="#all_configuration (instance method)">#<strong>all_configuration</strong>  &#x21d2; Array&lt;Hash&lt;String&gt;] </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The union, along the class hierarchy, of all the values stored in
configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_explicit_connection-instance_method" title="#all_explicit_connection (instance method)">#<strong>all_explicit_connection</strong>  &#x21d2; Array&lt;Object&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The union, along the class hierarchy, of all the values stored in
explicit_connection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_exported_input-instance_method" title="#all_exported_input (instance method)">#<strong>all_exported_input</strong>  &#x21d2; Array&lt;Port&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The union, along the class hierarchy, of all the values stored in
exported_input.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_exported_output-instance_method" title="#all_exported_output (instance method)">#<strong>all_exported_output</strong>  &#x21d2; Array&lt;Port&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The union, along the class hierarchy, of all the values stored in
exported_output.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#applied_specializations-instance_method" title="#applied_specializations (instance method)">#<strong>applied_specializations</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:attr: specialized_children.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#child-instance_method" title="#child (instance method)">#<strong>child</strong>  &#x21d2; Hash&lt;String,CompositionChild&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The composition children.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#child_constraints-instance_method" title="#child_constraints (instance method)">#<strong>child_constraints</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#child_port%3F-instance_method" title="#child_port? (instance method)">#<strong>child_port?</strong>(port)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tests whether the given port is a port of one of this composition&#39;s
children.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#children-instance_method" title="#children (instance method)">#<strong>children</strong>  &#x21d2; Hash&lt;String,CompositionChild&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The composition children.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#children_names-instance_method" title="#children_names (instance method)">#<strong>children_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear_model-instance_method" title="#clear_model (instance method)">#<strong>clear_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compute_child_dependency_options-instance_method" title="#compute_child_dependency_options (instance method)">#<strong>compute_child_dependency_options</strong>(child_name, child_task)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Computes the options for depends_on needed to add child_task as the
child_name&#39;s composition child.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#conf-instance_method" title="#conf (instance method)">#<strong>conf</strong>(name, mappings = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Declares a composition configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#configuration-instance_method" title="#configuration (instance method)">#<strong>configuration</strong>  &#x21d2; Hash&lt;String,Hash&lt;String,String&gt;&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Configurations defined on this composition model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#configurations-instance_method" title="#configurations (instance method)">#<strong>configurations</strong>  &#x21d2; Hash&lt;String,Hash&lt;String,String&gt;&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Configurations defined on this composition model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#connect-instance_method" title="#connect (instance method)">#<strong>connect</strong>(mappings)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Explicitly create the given connections between children of this
composition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#connections-instance_method" title="#connections (instance method)">#<strong>connections</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the set of connections that should be created during the
instanciation of this composition model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#constraints_for-instance_method" title="#constraints_for (instance method)">#<strong>constraints_for</strong>(child_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the set of constraints that exist for the given child.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_dynamic_instantiation_context-instance_method" title="#create_dynamic_instantiation_context (instance method)">#<strong>create_dynamic_instantiation_context</strong>(name, dynamic_service, **options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>(see Component#create_dynamic_instantiation_context).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_private_specialization-instance_method" title="#create_private_specialization (instance method)">#<strong>create_private_specialization</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called by <span class='object_link'><a href="Component.html#specialize-instance_method" title="Syskit::Models::Component#specialize (method)">Syskit::Models::Component#specialize</a></span> to create the composition model that will
be used for a private specialization.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dependency_injection_names-instance_method" title="#dependency_injection_names (instance method)">#<strong>dependency_injection_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The list of names that will be used by this model as keys in a
DependencyInjection object,.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_child-instance_method" title="#each_child (instance method)">#<strong>each_child</strong>(child_name = nil, uniq = true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_child_constraint-instance_method" title="#each_child_constraint (instance method)">#<strong>each_child_constraint</strong>(key = nil, uniq = true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_configuration-instance_method" title="#each_configuration (instance method)">#<strong>each_configuration</strong>(conf_name = nil, uniq = true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_explicit_connection-instance_method" title="#each_explicit_connection (instance method)">#<strong>each_explicit_connection</strong> {|element| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Enumerates all objects registered in explicit_connection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_exported_input-instance_method" title="#each_exported_input (instance method)">#<strong>each_exported_input</strong>(exported_port_name = nil, uniq = true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_exported_output-instance_method" title="#each_exported_output (instance method)">#<strong>each_exported_output</strong>(exported_port_name = nil, uniq = true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_input_port-instance_method" title="#each_input_port (instance method)">#<strong>each_input_port</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Enumerates this component&#39;s input ports.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_output_port-instance_method" title="#each_output_port (instance method)">#<strong>each_output_port</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Enumerates this component&#39;s output ports.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#explicit_connection-instance_method" title="#explicit_connection (instance method)">#<strong>explicit_connection</strong>  &#x21d2; Hash{(String,String)=&gt;{(String,String)=&gt;Hash}} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The set of connections specified by the user for this composition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#export-instance_method" title="#export (instance method)">#<strong>export</strong>(port, as: port.name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Export the given port to the boundary of the composition (it becomes a
composition port).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exported_input-instance_method" title="#exported_input (instance method)">#<strong>exported_input</strong>  &#x21d2; Hash&lt;String,Port&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Inputs exported from components in this composition to this
composition&#39;s interface.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exported_inputs-instance_method" title="#exported_inputs (instance method)">#<strong>exported_inputs</strong>  &#x21d2; Hash&lt;String,Port&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Inputs exported from components in this composition to this
composition&#39;s interface.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exported_output-instance_method" title="#exported_output (instance method)">#<strong>exported_output</strong>  &#x21d2; Hash&lt;String,Port&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Outputs exported from components in this composition to this
composition&#39;s interface.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exported_outputs-instance_method" title="#exported_outputs (instance method)">#<strong>exported_outputs</strong>  &#x21d2; Hash&lt;String,Port&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Outputs exported from components in this composition to this
composition&#39;s interface.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exported_port%3F-instance_method" title="#exported_port? (instance method)">#<strong>exported_port?</strong>(port)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if <code>port_model</code>, which has to be a child&#39;s
port, is exported in this composition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_grandchild_selections_by_child_name-instance_method" title="#extract_grandchild_selections_by_child_name (instance method)">#<strong>extract_grandchild_selections_by_child_name</strong>(child_name, selections)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Extracts the selections for grandchildren out of a selection for this .</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_applicable_specialization_from_selection-instance_method" title="#find_applicable_specialization_from_selection (instance method)">#<strong>find_applicable_specialization_from_selection</strong>(explicit_selections, selections, options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_child-instance_method" title="#find_child (instance method)">#<strong>find_child</strong>(child_name)  &#x21d2; CompositionChild<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Looks for objects registered in child under the given key, and returns the
first one in the ancestor chain (i.e. the one tha thas been registered in
the most specialized class).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_child_constraint-instance_method" title="#find_child_constraint (instance method)">#<strong>find_child_constraint</strong>(key)  &#x21d2; Object<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Looks for objects registered in child_constraint under the given key, and
returns the first one in the ancestor chain (i.e. the one tha thas been
registered in the most specialized class).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_child_model_and_task-instance_method" title="#find_child_model_and_task (instance method)">#<strong>find_child_model_and_task</strong>(child_name, context)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_children_models_and_tasks-instance_method" title="#find_children_models_and_tasks (instance method)">#<strong>find_children_models_and_tasks</strong>(context)  &#x21d2; (Hash&lt;String,InstanceSelection&gt;,Hash&lt;String,InstanceSelection&gt;,Hash&lt;String,Set&gt;) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a dependency injection context, it computes the models and task
instances for each of the composition&#39;s children.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_configuration-instance_method" title="#find_configuration (instance method)">#<strong>find_configuration</strong>(conf_name)  &#x21d2; Hash&lt;String,nil] the found object, or nil if none is registered under that key </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Looks for objects registered in configuration under the given key, and
returns the first one in the ancestor chain (i.e. the one tha thas been
registered in the most specialized class).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_exported_input-instance_method" title="#find_exported_input (instance method)">#<strong>find_exported_input</strong>(exported_port_name)  &#x21d2; Port<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Looks for objects registered in exported_input under the given key, and
returns the first one in the ancestor chain (i.e. the one tha thas been
registered in the most specialized class).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_exported_output-instance_method" title="#find_exported_output (instance method)">#<strong>find_exported_output</strong>(exported_port_name)  &#x21d2; Port<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Looks for objects registered in exported_output under the given key, and
returns the first one in the ancestor chain (i.e. the one tha thas been
registered in the most specialized class).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_input_port-instance_method" title="#find_input_port (instance method)">#<strong>find_input_port</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the composition&#39;s input port named &#39;name&#39;.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_output_port-instance_method" title="#find_output_port (instance method)">#<strong>find_output_port</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the composition&#39;s output port named &#39;name&#39;.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_through_method_missing-instance_method" title="#find_through_method_missing (instance method)">#<strong>find_through_method_missing</strong>(m, args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fullfills%3F-instance_method" title="#fullfills? (instance method)">#<strong>fullfills?</strong>(models)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Reimplemented from Roby::Task to take into account the multiple inheritance
mechanisms that is the composition specializations.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_child%3F-instance_method" title="#has_child? (instance method)">#<strong>has_child?</strong>(child_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if an object is registered in child anywhere in the class
hierarchy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_child_constraint%3F-instance_method" title="#has_child_constraint? (instance method)">#<strong>has_child_constraint?</strong>(key)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if an object is registered in child_constraint anywhere in the
class hierarchy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_configuration%3F-instance_method" title="#has_configuration? (instance method)">#<strong>has_configuration?</strong>(conf_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if an object is registered in configuration anywhere in the
class hierarchy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_dynamic_input_port%3F-instance_method" title="#has_dynamic_input_port? (instance method)">#<strong>has_dynamic_input_port?</strong>(name, type = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if <code>name</code> is a valid dynamic input port.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_dynamic_output_port%3F-instance_method" title="#has_dynamic_output_port? (instance method)">#<strong>has_dynamic_output_port?</strong>(name, type = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if <code>name</code> is a valid dynamic output port.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_exported_input%3F-instance_method" title="#has_exported_input? (instance method)">#<strong>has_exported_input?</strong>(exported_port_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if an object is registered in exported_input anywhere in the
class hierarchy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_exported_output%3F-instance_method" title="#has_exported_output? (instance method)">#<strong>has_exported_output?</strong>(exported_port_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if an object is registered in exported_output anywhere in the
class hierarchy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_through_method_missing%3F-instance_method" title="#has_through_method_missing? (instance method)">#<strong>has_through_method_missing?</strong>(m)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inherited-instance_method" title="#inherited (instance method)">#<strong>inherited</strong>(submodel)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Overloaded to set the model documentation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instanciate-instance_method" title="#instanciate (instance method)">#<strong>instanciate</strong>(plan, context = DependencyInjectionContext.new, task_arguments: Hash.new, specialize: true, specialization_hints: Array.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates the required task and children for this composition model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instanciate_child-instance_method" title="#instanciate_child (instance method)">#<strong>instanciate_child</strong>(plan, context, self_task, child_name, selected_child)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Instanciates a task for the required child.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instanciate_connections-instance_method" title="#instanciate_connections (instance method)">#<strong>instanciate_connections</strong>(self_task, selected_children, children_tasks)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_specialization%3F-instance_method" title="#is_specialization? (instance method)">#<strong>is_specialization?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if this composition model is a specialized version of its
superclass, and false otherwise.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#main_task-instance_method" title="#main_task (instance method)">#<strong>main_task</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns this composition&#39;s main task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge-instance_method" title="#merge (instance method)">#<strong>merge</strong>(other_model)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Merge two models, making sure that specializations are properly applied on
the result.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#narrow-instance_method" title="#narrow (instance method)">#<strong>narrow</strong>(context, options = Hash.new)  &#x21d2; Model&lt;Composition&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the set of specializations that match the given dependency
injection context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_specialized_submodel-instance_method" title="#new_specialized_submodel (instance method)">#<strong>new_specialized_submodel</strong>(options = Hash.new, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new submodel of this composition model that will be used to
represent a specialization.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#overload-instance_method" title="#overload (instance method)">#<strong>overload</strong>(child, model, options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Overloads an existing child with a new model and/or options.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parent_model_of%3F-instance_method" title="#parent_model_of? (instance method)">#<strong>parent_model_of?</strong>(child_model)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if <code>self</code> is a parent model of
<code>child_model</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prefer_specializations-instance_method" title="#prefer_specializations (instance method)">#<strong>prefer_specializations</strong>(*spec)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns this composition associated with specialization disambiguation
information.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pretty_print-instance_method" title="#pretty_print (instance method)">#<strong>pretty_print</strong>(pp)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#promote_child-instance_method" title="#promote_child (instance method)">#<strong>promote_child</strong>(child_name, child)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#promote_explicit_connection-instance_method" title="#promote_explicit_connection (instance method)">#<strong>promote_explicit_connection</strong>(connections)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Method that maps connections from this composition&#39;s parent models to
this composition&#39;s own interface.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#promote_exported_input-instance_method" title="#promote_exported_input (instance method)">#<strong>promote_exported_input</strong>(export_name, port)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Method that maps exports from this composition&#39;s parent models to this
composition&#39;s own interface.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#promote_exported_output-instance_method" title="#promote_exported_output (instance method)">#<strong>promote_exported_output</strong>(export_name, port)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Method that maps exports from this composition&#39;s parent models to this
composition&#39;s own interface.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#promote_exported_port-instance_method" title="#promote_exported_port (instance method)">#<strong>promote_exported_port</strong>(export_name, port)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Helper method for <span class='object_link'><a href="#promote_exported_output-instance_method" title="Syskit::Models::Composition#promote_exported_output (method)">#promote_exported_output</a></span> and <span class='object_link'><a href="#promote_exported_input-instance_method" title="Syskit::Models::Composition#promote_exported_input (method)">#promote_exported_input</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#root_model-instance_method" title="#root_model (instance method)">#<strong>root_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The root composition model in the specialization hierarchy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup_submodel-instance_method" title="#setup_submodel (instance method)">#<strong>setup_submodel</strong>(submodel, register_specializations: true, **submodel_options, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new submodel of this composition model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#specializations-instance_method" title="#specializations (instance method)">#<strong>specializations</strong>  &#x21d2; SpecializationManager </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The object that manages all specializations defined on this composition
model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#specialize-instance_method" title="#specialize (instance method)">#<strong>specialize</strong>(options = Hash.new, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a modification that should be applied on #composition_model
when select children fullfill some specific models.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#specialized_children-instance_method" title="#specialized_children (instance method)">#<strong>specialized_children</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:attr: specialized_children.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#specialized_on%3F-instance_method" title="#specialized_on? (instance method)">#<strong>specialized_on?</strong>(child_name, child_model)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>See CompositionSpecialization#specialized_on?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_dot-instance_method" title="#to_dot (instance method)">#<strong>to_dot</strong>(io)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#try_resolve_child_references_in_use_flags-instance_method" title="#try_resolve_child_references_in_use_flags (instance method)">#<strong>try_resolve_child_references_in_use_flags</strong>(self_task, selected_child)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Resolves references to other children in a child&#39;s use flags.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use-instance_method" title="#use (instance method)">#<strong>use</strong>(*spec)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns this composition associated with dependency injection information.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Component.html" title="Syskit::Models::Component (module)">Component</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Component.html#all_data_service-instance_method" title="Syskit::Models::Component#all_data_service (method)">#all_data_service</a></span>, <span class='object_link'><a href="Component.html#all_dynamic_service-instance_method" title="Syskit::Models::Component#all_dynamic_service (method)">#all_dynamic_service</a></span>, <span class='object_link'><a href="Component.html#all_stub_module-instance_method" title="Syskit::Models::Component#all_stub_module (method)">#all_stub_module</a></span>, <span class='object_link'><a href="Component.html#apply_missing_dynamic_services_from-instance_method" title="Syskit::Models::Component#apply_missing_dynamic_services_from (method)">#apply_missing_dynamic_services_from</a></span>, <span class='object_link'><a href="Component.html#as-instance_method" title="Syskit::Models::Component#as (method)">#as</a></span>, <span class='object_link'><a href="Component.html#as_plan-instance_method" title="Syskit::Models::Component#as_plan (method)">#as_plan</a></span>, <span class='object_link'><a href="Component.html#bind-instance_method" title="Syskit::Models::Component#bind (method)">#bind</a></span>, <span class='object_link'><a href="Component.html#can_merge%3F-instance_method" title="Syskit::Models::Component#can_merge? (method)">#can_merge?</a></span>, <span class='object_link'><a href="Component.html#component_model%3F-instance_method" title="Syskit::Models::Component#component_model? (method)">#component_model?</a></span>, <span class='object_link'><a href="Component.html#compute_port_mappings-instance_method" title="Syskit::Models::Component#compute_port_mappings (method)">#compute_port_mappings</a></span>, <span class='object_link'><a href="Component.html#concrete_model%3F-instance_method" title="Syskit::Models::Component#concrete_model? (method)">#concrete_model?</a></span>, <span class='object_link'><a href="Component.html#connected%3F-instance_method" title="Syskit::Models::Component#connected? (method)">#connected?</a></span>, <span class='object_link'><a href="Component.html#create_proxy_task-instance_method" title="Syskit::Models::Component#create_proxy_task (method)">#create_proxy_task</a></span>, <span class='object_link'><a href="Component.html#create_proxy_task_model-instance_method" title="Syskit::Models::Component#create_proxy_task_model (method)">#create_proxy_task_model</a></span>, <span class='object_link'><a href="Component.html#data_service-instance_method" title="Syskit::Models::Component#data_service (method)">#data_service</a></span>, <span class='object_link'><a href="Component.html#data_services-instance_method" title="Syskit::Models::Component#data_services (method)">#data_services</a></span>, <span class='object_link'><a href="Component.html#deregister_placeholder_model-instance_method" title="Syskit::Models::Component#deregister_placeholder_model (method)">#deregister_placeholder_model</a></span>, <span class='object_link'><a href="Component.html#deregister_submodels-instance_method" title="Syskit::Models::Component#deregister_submodels (method)">#deregister_submodels</a></span>, <span class='object_link'><a href="Component.html#driver_for-instance_method" title="Syskit::Models::Component#driver_for (method)">#driver_for</a></span>, <span class='object_link'><a href="Component.html#dynamic_service-instance_method" title="Syskit::Models::Component#dynamic_service (method)">#dynamic_service</a></span>, <span class='object_link'><a href="Component.html#dynamic_services-instance_method" title="Syskit::Models::Component#dynamic_services (method)">#dynamic_services</a></span>, <span class='object_link'><a href="Component.html#each_com_bus_driver_service-instance_method" title="Syskit::Models::Component#each_com_bus_driver_service (method)">#each_com_bus_driver_service</a></span>, <span class='object_link'><a href="Component.html#each_data_service-instance_method" title="Syskit::Models::Component#each_data_service (method)">#each_data_service</a></span>, <span class='object_link'><a href="Component.html#each_dynamic_service-instance_method" title="Syskit::Models::Component#each_dynamic_service (method)">#each_dynamic_service</a></span>, <span class='object_link'><a href="Component.html#each_master_driver_service-instance_method" title="Syskit::Models::Component#each_master_driver_service (method)">#each_master_driver_service</a></span>, <span class='object_link'><a href="Component.html#each_port-instance_method" title="Syskit::Models::Component#each_port (method)">#each_port</a></span>, <span class='object_link'><a href="Component.html#each_required_dynamic_service-instance_method" title="Syskit::Models::Component#each_required_dynamic_service (method)">#each_required_dynamic_service</a></span>, <span class='object_link'><a href="Component.html#each_required_model-instance_method" title="Syskit::Models::Component#each_required_model (method)">#each_required_model</a></span>, <span class='object_link'><a href="Component.html#each_root_data_service-instance_method" title="Syskit::Models::Component#each_root_data_service (method)">#each_root_data_service</a></span>, <span class='object_link'><a href="Component.html#each_slave_data_service-instance_method" title="Syskit::Models::Component#each_slave_data_service (method)">#each_slave_data_service</a></span>, <span class='object_link'><a href="Component.html#each_stub_module-instance_method" title="Syskit::Models::Component#each_stub_module (method)">#each_stub_module</a></span>, <span class='object_link'><a href="Component.html#ensure_model_is_specialized-instance_method" title="Syskit::Models::Component#ensure_model_is_specialized (method)">#ensure_model_is_specialized</a></span>, <span class='object_link'><a href="Component.html#find_all_data_services_from_type-instance_method" title="Syskit::Models::Component#find_all_data_services_from_type (method)">#find_all_data_services_from_type</a></span>, <span class='object_link'><a href="Component.html#find_data_service_from_type-instance_method" title="Syskit::Models::Component#find_data_service_from_type (method)">#find_data_service_from_type</a></span>, <span class='object_link'><a href="Component.html#find_directional_port_mapping-instance_method" title="Syskit::Models::Component#find_directional_port_mapping (method)">#find_directional_port_mapping</a></span>, <span class='object_link'><a href="Component.html#find_matching_service-instance_method" title="Syskit::Models::Component#find_matching_service (method)">#find_matching_service</a></span>, <span class='object_link'><a href="Component.html#find_placeholder_model-instance_method" title="Syskit::Models::Component#find_placeholder_model (method)">#find_placeholder_model</a></span>, <span class='object_link'><a href="Component.html#find_port-instance_method" title="Syskit::Models::Component#find_port (method)">#find_port</a></span>, <span class='object_link'><a href="Component.html#if_already_present-instance_method" title="Syskit::Models::Component#if_already_present (method)">#if_already_present</a></span>, <span class='object_link'><a href="Component.html#implicit_fullfilled_model-instance_method" title="Syskit::Models::Component#implicit_fullfilled_model (method)">#implicit_fullfilled_model</a></span>, <span class='object_link'><a href="Component.html#instanciate_dynamic_input_port-instance_method" title="Syskit::Models::Component#instanciate_dynamic_input_port (method)">#instanciate_dynamic_input_port</a></span>, <span class='object_link'><a href="Component.html#instanciate_dynamic_output_port-instance_method" title="Syskit::Models::Component#instanciate_dynamic_output_port (method)">#instanciate_dynamic_output_port</a></span>, <span class='object_link'><a href="Component.html#merge_service_model-instance_method" title="Syskit::Models::Component#merge_service_model (method)">#merge_service_model</a></span>, <span class='object_link'><a href="Component.html#method_missing-instance_method" title="Syskit::Models::Component#method_missing (method)">#method_missing</a></span>, <span class='object_link'><a href="Component.html#needs_stub%3F-instance_method" title="Syskit::Models::Component#needs_stub? (method)">#needs_stub?</a></span>, <span class='object_link'><a href="Component.html#placeholder%3F-instance_method" title="Syskit::Models::Component#placeholder? (method)">#placeholder?</a></span>, <span class='object_link'><a href="Component.html#port_mappings_for-instance_method" title="Syskit::Models::Component#port_mappings_for (method)">#port_mappings_for</a></span>, <span class='object_link'><a href="Component.html#port_mappings_for_task-instance_method" title="Syskit::Models::Component#port_mappings_for_task (method)">#port_mappings_for_task</a></span>, <span class='object_link'><a href="Component.html#prefer_deployed_tasks-instance_method" title="Syskit::Models::Component#prefer_deployed_tasks (method)">#prefer_deployed_tasks</a></span>, <span class='object_link'><a href="Component.html#prepare_stub-instance_method" title="Syskit::Models::Component#prepare_stub (method)">#prepare_stub</a></span>, <span class='object_link'><a href="Component.html#private_specialization=-instance_method" title="Syskit::Models::Component#private_specialization= (method)">#private_specialization=</a></span>, <span class='object_link'><a href="Component.html#private_specialization%3F-instance_method" title="Syskit::Models::Component#private_specialization? (method)">#private_specialization?</a></span>, <span class='object_link'><a href="Component.html#promote_data_service-instance_method" title="Syskit::Models::Component#promote_data_service (method)">#promote_data_service</a></span>, <span class='object_link'><a href="Component.html#promote_dynamic_service-instance_method" title="Syskit::Models::Component#promote_dynamic_service (method)">#promote_dynamic_service</a></span>, <span class='object_link'><a href="Component.html#provides-instance_method" title="Syskit::Models::Component#provides (method)">#provides</a></span>, <span class='object_link'><a href="Component.html#provides_dynamic-instance_method" title="Syskit::Models::Component#provides_dynamic (method)">#provides_dynamic</a></span>, <span class='object_link'><a href="Component.html#proxy_task_model-instance_method" title="Syskit::Models::Component#proxy_task_model (method)">#proxy_task_model</a></span>, <span class='object_link'><a href="Component.html#register_placeholder_model-instance_method" title="Syskit::Models::Component#register_placeholder_model (method)">#register_placeholder_model</a></span>, <span class='object_link'><a href="Component.html#require_dynamic_service-instance_method" title="Syskit::Models::Component#require_dynamic_service (method)">#require_dynamic_service</a></span>, <span class='object_link'><a href="Component.html#resolve-instance_method" title="Syskit::Models::Component#resolve (method)">#resolve</a></span>, <span class='object_link'><a href="Component.html#selected_for-instance_method" title="Syskit::Models::Component#selected_for (method)">#selected_for</a></span>, <span class='object_link'><a href="Component.html#self_port%3F-instance_method" title="Syskit::Models::Component#self_port? (method)">#self_port?</a></span>, <span class='object_link'><a href="Component.html#self_port_to_component_port-instance_method" title="Syskit::Models::Component#self_port_to_component_port (method)">#self_port_to_component_port</a></span>, <span class='object_link'><a href="Component.html#specialization_counter-instance_method" title="Syskit::Models::Component#specialization_counter (method)">#specialization_counter</a></span>, <span class='object_link'><a href="Component.html#stub-instance_method" title="Syskit::Models::Component#stub (method)">#stub</a></span>, <span class='object_link'><a href="Component.html#stub_module-instance_method" title="Syskit::Models::Component#stub_module (method)">#stub_module</a></span>, <span class='object_link'><a href="Component.html#supermodel-instance_method" title="Syskit::Models::Component#supermodel (method)">#supermodel</a></span>, <span class='object_link'><a href="Component.html#to_component_model-instance_method" title="Syskit::Models::Component#to_component_model (method)">#to_component_model</a></span>, <span class='object_link'><a href="Component.html#try_bind-instance_method" title="Syskit::Models::Component#try_bind (method)">#try_bind</a></span>, <span class='object_link'><a href="Component.html#try_resolve-instance_method" title="Syskit::Models::Component#try_resolve (method)">#try_resolve</a></span>, <span class='object_link'><a href="Component.html#use_conf-instance_method" title="Syskit::Models::Component#use_conf (method)">#use_conf</a></span>, <span class='object_link'><a href="Component.html#use_deployments-instance_method" title="Syskit::Models::Component#use_deployments (method)">#use_deployments</a></span>, <span class='object_link'><a href="Component.html#with_arguments-instance_method" title="Syskit::Models::Component#with_arguments (method)">#with_arguments</a></span>, <span class='object_link'><a href="Component.html#with_conf-instance_method" title="Syskit::Models::Component#with_conf (method)">#with_conf</a></span>, <span class='object_link'><a href="Component.html#with_dynamic_service-instance_method" title="Syskit::Models::Component#with_dynamic_service (method)">#with_dynamic_service</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../DataService.html" title="Syskit::DataService (module)">DataService</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../DataService.html#using_data_service%3F-instance_method" title="Syskit::DataService#using_data_service? (method)">#using_data_service?</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Base.html" title="Syskit::Models::Base (module)">Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Base.html#short_name-instance_method" title="Syskit::Models::Base#short_name (method)">#short_name</a></span>, <span class='object_link'><a href="Base.html#to_instance_requirements-instance_method" title="Syskit::Models::Base#to_instance_requirements (method)">#to_instance_requirements</a></span>, <span class='object_link'><a href="Base.html#to_s-instance_method" title="Syskit::Models::Base#to_s (method)">#to_s</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="PortAccess.html" title="Syskit::Models::PortAccess (module)">PortAccess</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="PortAccess.html#each_port-instance_method" title="Syskit::Models::PortAccess#each_port (method)">#each_port</a></span>, <span class='object_link'><a href="PortAccess.html#find_port-instance_method" title="Syskit::Models::PortAccess#find_port (method)">#find_port</a></span>, <span class='object_link'><a href="PortAccess.html#has_input_port%3F-instance_method" title="Syskit::Models::PortAccess#has_input_port? (method)">#has_input_port?</a></span>, <span class='object_link'><a href="PortAccess.html#has_output_port%3F-instance_method" title="Syskit::Models::PortAccess#has_output_port? (method)">#has_output_port?</a></span>, <span class='object_link'><a href="PortAccess.html#has_port%3F-instance_method" title="Syskit::Models::PortAccess#has_port? (method)">#has_port?</a></span>, <span class='object_link'><a href="PortAccess.html#port_by_name-instance_method" title="Syskit::Models::PortAccess#port_by_name (method)">#port_by_name</a></span></p>
<div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <span class='object_link'><a href="Component.html#method_missing-instance_method" title="Syskit::Models::Component#method_missing (method)">Syskit::Models::Component</a></span>
    
  </p>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add-instance_method">
  
    #<strong>add</strong>(models, options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add an element in this composition.</p>

<h2 id="label-Subclassing">Subclassing</h2>

<p>If the composition model is a subclass of another composition model, then
<code>add</code> can be used to override a child definition. In if it the
case, if <code>model</code> is a component model, then it has to be a
subclass of any component model that has been used in the parent
composition. Otherwise, #add raises ArgumentError</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_data_service_type'><span class='object_link'><a href="ServiceModelsDefinitionDSL.html#data_service_type-instance_method" title="Syskit::Models::ServiceModelsDefinitionDSL#data_service_type (method)">data_service_type</a></span></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>OrientationSrv</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>class</span> <span class='const'>OrientationFilter</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Composition.html" title="Syskit::Composition (class)">Composition</a></span></span>
  <span class='comment'># Add a child called &#39;orientation&#39;
</span>  <span class='id identifier rubyid_add'>add</span> <span class='const'>OrientationSrv</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>orientation</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
<span class='comment'># Returns the object that defines the new child
</span><span class='const'>Orientation</span><span class='period'>.</span><span class='id identifier rubyid_orientation_child'>orientation_child</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>overloading a child with an unrelated data service</p>
</div></p>
      
      <pre class="example code"><code>
<span class='id identifier rubyid_data_service_type'><span class='object_link'><a href="ServiceModelsDefinitionDSL.html#data_service_type-instance_method" title="Syskit::Models::ServiceModelsDefinitionDSL#data_service_type (method)">data_service_type</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RawImuReadings</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>class</span> <span class='const'>Foo</span> <span class='op'>&lt;</span> <span class='const'>Orientation</span>
  <span class='comment'># This is fine as +raw_imu_readings+ and +orientation_provider+
</span>  <span class='comment'># can be combined. +submodel+ will require &#39;imu&#39; to provide both
</span>  <span class='comment'># a RawImuReadings data service and a Orientation data service.
</span>  <span class='id identifier rubyid_add'>add</span> <span class='const'>RawImuReadings</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>imu</span><span class='tstring_end'>&#39;</span></span> 
<span class='kw'>end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>overloading a child with an incompatible task model</p>
</div></p>
      
      <pre class="example code"><code>
<span class='kw'>class</span> <span class='const'>Foo</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Composition.html" title="Syskit::Composition (class)">Composition</a></span></span>
  <span class='id identifier rubyid_add'>add</span> <span class='const'>XsensImu</span><span class='op'>::</span><span class='const'>Task</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>imu</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
<span class='kw'>class</span> <span class='const'>Bar</span> <span class='op'>&lt;</span> <span class='const'>Foo</span>
  <span class='comment'># This overload is invalid if the two tasks are unrelated
</span>  <span class='comment'># (i.e. if DfkiImu::Task is not a subclass of XsensImu::Task)
</span>  <span class='id identifier rubyid_add'>add</span> <span class='const'>DfkiImu</span><span class='op'>::</span><span class='const'>Task</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>imu</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>models</span>
      
      
        <span class='type'>(<tt>Array&lt;Model&gt;</tt>, <tt>Model</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the child&#39;s model. Can be a set of models to provide e.g. multiple
unrelated data services, or a task context and a data service type that
would be provided by a dynamic data service on the task context.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Hash.new</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>set of options for the new child, as well as any option that is valid to be
passed to Roby::Task#depends_on</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:as</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>this is actually mandatory, but is keps as an option for backward
compatibility reasons. It is the name of the child. The new child can be
accessed by calling #childname_child on the new model (see example below)</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


287
288
289
290
291
292
293
294
295
296
297
298
299
300
301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 287</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_models'>models</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_instance_requirements</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_models'>models</span> <span class='op'>=</span> <span class='id identifier rubyid_models'>models</span><span class='period'>.</span><span class='id identifier rubyid_to_instance_requirements'>to_instance_requirements</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_models'>models</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../InstanceRequirements.html" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../InstanceRequirements.html#initialize-instance_method" title="Syskit::InstanceRequirements#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_dependency_options'>dependency_options</span> <span class='op'>=</span> <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_filter_options'>filter_options</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
        <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>you must provide an explicit name with the :as option</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_add_child'>add_child</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_child-instance_method">
  
    #<strong>add_child</strong>(name, child_models, dependency_options)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Internal helper to add a child to the composition</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_child'>add_child</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_child_models'>child_models</span><span class='comma'>,</span> <span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_str'>to_str</span>
    <span class='id identifier rubyid_dependency_options'>dependency_options</span> <span class='op'>=</span> <span class='const'>Roby</span><span class='op'>::</span><span class='const'>TaskStructure</span><span class='op'>::</span><span class='const'>Dependency</span><span class='period'>.</span>
        <span class='id identifier rubyid_validate_options'>validate_options</span><span class='lparen'>(</span><span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='rparen'>)</span>

    <span class='comment'># We do NOT check for an already existing definition. The reason
</span>    <span class='comment'># is that specialization (among other) will add a default child,
</span>    <span class='comment'># that may be overriden by the composition&#39;s owner. Either to
</span>    <span class='comment'># set arguments, or to have a specialization over an aspect of a
</span>    <span class='comment'># data service use a more specific task model in the specialized
</span>    <span class='comment'># composition.
</span>    <span class='comment'>#
</span>    <span class='comment'># Anyway, the remainder checks that the new definition is a
</span>    <span class='comment'># valid overloading of the previous one.
</span>    
    <span class='id identifier rubyid_child_model'>child_model</span> <span class='op'>=</span> <span class='id identifier rubyid_find_child'>find_child</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CompositionChild.html#initialize-instance_method" title="Syskit::Models::CompositionChild#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='comment'># The user might have called e.g.
</span>    <span class='comment'>#
</span>    <span class='comment'>#   overload &#39;bla&#39;, bla_child.with_arguments(bla: 10)
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_child_models'>child_models</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span> <span class='op'>!=</span> <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span>
        <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_child_models'>child_models</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_dependency_options'>dependency_options</span> <span class='op'>=</span> <span class='const'>Roby</span><span class='op'>::</span><span class='const'>TaskStructure</span><span class='op'>::</span><span class='const'>Dependency</span><span class='period'>.</span>
        <span class='id identifier rubyid_merge_dependency_options'>merge_dependency_options</span><span class='lparen'>(</span><span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='comma'>,</span> <span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='rparen'>)</span>

    <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='kw'>do</span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>added child </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  with models </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>if</span> <span class='id identifier rubyid_parent_model'>parent_model</span> <span class='op'>=</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_find_child'>find_child</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
            <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  updated from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parent_model'>parent_model</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_port_mappings'>port_mappings</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
            <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  port mappings</span><span class='tstring_end'>&quot;</span></span>
            <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_nest'>log_nest</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span> <span class='kw'>do</span>
                <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_port_mappings'>port_mappings</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_mappings'>mappings</span><span class='op'>|</span>
                    <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_pp'>log_pp</span><span class='lparen'>(</span><span class='symbol'>:debug</span><span class='comma'>,</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='rparen'>)</span>
                <span class='kw'>end</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_children'>children</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_child_model'>child_model</span>

    <span class='ivar'>@exported_outputs</span> <span class='op'>=</span> <span class='id identifier rubyid_exported_outputs'>exported_outputs</span><span class='period'>.</span><span class='id identifier rubyid_map_value'>map_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span> <span class='op'>==</span> <span class='id identifier rubyid_name'>name</span>
            <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_find_port'>find_port</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>else</span> <span class='id identifier rubyid_port'>port</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='ivar'>@exported_inputs</span> <span class='op'>=</span> <span class='id identifier rubyid_exported_inputs'>exported_inputs</span><span class='period'>.</span><span class='id identifier rubyid_map_value'>map_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span> <span class='op'>==</span> <span class='id identifier rubyid_name'>name</span>
            <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_find_port'>find_port</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>else</span> <span class='id identifier rubyid_port'>port</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_child_model'>child_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_main-instance_method">
  
    #<strong>add_main</strong>(models, options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds the given child, and marks it as the task that provides the main
composition&#39;s functionality.</p>

<p>What is means in practice is that the composition will terminate
successfully when this child terminates successfully</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


334
335
336
337
338
339</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 334</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_main'>add_main</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_main_task'>main_task</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>this composition already has a main task child</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='ivar'>@main_task</span> <span class='op'>=</span> <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_main_task-instance_method">
  
    #<strong>add_main_task</strong>(models, options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>DEPRECATED. Use #add_main instead.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


325
326
327</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 325</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_main_task'>add_main_task</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>    <span class='id identifier rubyid_add_main'>add_main</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_optional-instance_method">
  
    #<strong>add_optional</strong>(models, options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a child that may not be provided</p>

<p>(see #add)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


306
307
308
309
310</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 306</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_optional'>add_optional</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_child'>child</span> <span class='op'>=</span> <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_optional'>optional</span>
    <span class='id identifier rubyid_child'>child</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_specialization_constraint-instance_method">
  
    #<strong>add_specialization_constraint</strong>(explicit = nil) {|spec0, spec1| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Registers a block that will be able to tell the system that two
specializations are not compatible (i.e. should never be applied at the
same time).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>a</span>
      
      
        <span class='type'>(<tt>#[]</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>proc object given explicitly if the block form is not desired</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>spec0</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CompositionSpecialization.html" title="Syskit::Models::CompositionSpecialization (class)">CompositionSpecialization</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the first specialization</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>spec1</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CompositionSpecialization.html" title="Syskit::Models::CompositionSpecialization (class)">CompositionSpecialization</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the second specialization</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the two specializations are compatible, and false otherwise</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


649
650
651</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 649</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_specialization_constraint'>add_specialization_constraint</span><span class='lparen'>(</span><span class='id identifier rubyid_explicit'>explicit</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_add_specialization_constraint'>add_specialization_constraint</span><span class='lparen'>(</span><span class='id identifier rubyid_explicit'>explicit</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="all_child-instance_method">
  
    #<strong>all_child</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The union, along the class hierarchy, of all the values stored in child</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 26</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child</span><span class='comma'>,</span> <span class='symbol'>:children</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="all_child_constraint-instance_method">
  
    #<strong>all_child_constraint</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The union, along the class hierarchy, of all the values stored in
child_constraint</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 28</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child_constraint</span><span class='comma'>,</span> <span class='symbol'>:child_constraints</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="all_configuration-instance_method">
  
    #<strong>all_configuration</strong>  &#x21d2; <tt>Array&lt;Hash&lt;String&gt;]</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The union, along the class hierarchy, of all the values stored in
configuration</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash&lt;String&gt;]</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Array&lt;Hash&lt;String&gt;]</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1206</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:configuration</span><span class='comma'>,</span> <span class='symbol'>:configurations</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="all_explicit_connection-instance_method">
  
    #<strong>all_explicit_connection</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The union, along the class hierarchy, of all the values stored in
explicit_connection</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 78</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:explicit_connection</span><span class='comma'>,</span> <span class='symbol'>:explicit_connections</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="all_exported_input-instance_method">
  
    #<strong>all_exported_input</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The union, along the class hierarchy, of all the values stored in
exported_input</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1197</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_input</span><span class='comma'>,</span> <span class='symbol'>:exported_inputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="all_exported_output-instance_method">
  
    #<strong>all_exported_output</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The union, along the class hierarchy, of all the values stored in
exported_output</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1182</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_output</span><span class='comma'>,</span> <span class='symbol'>:exported_outputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="applied_specializations-instance_method">
  
    #<strong>applied_specializations</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:attr: specialized_children</p>

<p>The set of specializations that are applied from the root of the model
graph up to this model</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 100</span>

<span class='id identifier rubyid_attribute'>attribute</span><span class='lparen'>(</span><span class='symbol'>:applied_specializations</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="child-instance_method">
  
    #<strong>child</strong>  &#x21d2; <tt>Hash&lt;String,<span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The composition children</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,<span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 26</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child</span><span class='comma'>,</span> <span class='symbol'>:children</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="child_constraints-instance_method">
  
    #<strong>child_constraints</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 28</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child_constraint</span><span class='comma'>,</span> <span class='symbol'>:child_constraints</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="child_port?-instance_method">
  
    #<strong>child_port?</strong>(port)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tests whether the given port is a port of one of this composition&#39;s
children</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


408
409
410
411
412</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 408</span>

<span class='kw'>def</span> <span class='id identifier rubyid_child_port?'>child_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_port_component_model'>port_component_model</span> <span class='op'>=</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_to_component_port'>to_component_port</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span>
    <span class='id identifier rubyid_port_component_model'>port_component_model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:composition_model</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
            <span class='id identifier rubyid_port_component_model'>port_component_model</span><span class='period'>.</span><span class='id identifier rubyid_composition_model'>composition_model</span> <span class='op'>==</span> <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="children-instance_method">
  
    #<strong>children</strong>  &#x21d2; <tt>Hash&lt;String,<span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The composition children</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,<span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 26</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child</span><span class='comma'>,</span> <span class='symbol'>:children</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="children_names-instance_method">
  
    #<strong>children_names</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


666
667
668</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 666</span>

<span class='kw'>def</span> <span class='id identifier rubyid_children_names'>children_names</span>
    <span class='id identifier rubyid_each_child'>each_child</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='op'>|</span> <span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear_model-instance_method">
  
    #<strong>clear_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32
33
34
35
36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 30</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clear_model'>clear_model</span>
    <span class='kw'>super</span>
    <span class='id identifier rubyid_child_constraints'>child_constraints</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_children'>children</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_configurations'>configurations</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_exported_inputs'>exported_inputs</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_exported_outputs'>exported_outputs</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='ivar'>@specializations</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="SpecializationManager.html" title="Syskit::Models::SpecializationManager (class)">SpecializationManager</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="SpecializationManager.html#initialize-instance_method" title="Syskit::Models::SpecializationManager#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='ivar'>@main_task</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="compute_child_dependency_options-instance_method">
  
    #<strong>compute_child_dependency_options</strong>(child_name, child_task)  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Computes the options for depends_on needed to add child_task as the
child_name&#39;s composition child</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>child_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>child_task</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Component.html" title="Syskit::Models::Component (module)">Component</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


890
891
892
893
894
895
896
897
898
899
900
901
902
903
904
905
906
907
908
909
910
911</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 890</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compute_child_dependency_options'>compute_child_dependency_options</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_child_task'>child_task</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_child_m'>child_m</span> <span class='op'>=</span> <span class='id identifier rubyid_find_child'>find_child</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dependent_models'>dependent_models</span>    <span class='op'>=</span> <span class='id identifier rubyid_child_m'>child_m</span><span class='period'>.</span><span class='id identifier rubyid_each_required_model'>each_required_model</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='id identifier rubyid_dependent_arguments'>dependent_arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_dependent_models'>dependent_models</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
        <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_meaningful_arguments'>meaningful_arguments</span><span class='lparen'>(</span><span class='id identifier rubyid_child_task'>child_task</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_child_task'>child_task</span><span class='period'>.</span><span class='id identifier rubyid_has_argument?'>has_argument?</span><span class='lparen'>(</span><span class='symbol'>:conf</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_dependent_arguments'>dependent_arguments</span><span class='lbracket'>[</span><span class='symbol'>:conf</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_child_task'>child_task</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span><span class='lbracket'>[</span><span class='symbol'>:conf</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_dependency_options'>dependency_options</span> <span class='op'>=</span> <span class='const'>Roby</span><span class='op'>::</span><span class='const'>TaskStructure</span><span class='op'>::</span><span class='const'>Dependency</span><span class='period'>.</span>
        <span class='id identifier rubyid_validate_options'>validate_options</span><span class='lparen'>(</span><span class='id identifier rubyid_child_m'>child_m</span><span class='period'>.</span><span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_default_options'>default_options</span> <span class='op'>=</span> <span class='const'>Roby</span><span class='op'>::</span><span class='const'>TaskStructure</span><span class='op'>::</span><span class='const'>Dependency</span><span class='period'>.</span>
        <span class='id identifier rubyid_validate_options'>validate_options</span><span class='lparen'>(</span><span class='symbol'>:model</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_dependent_models'>dependent_models</span><span class='comma'>,</span> <span class='id identifier rubyid_dependent_arguments'>dependent_arguments</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:roles</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_set'>to_set</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dependency_options'>dependency_options</span> <span class='op'>=</span> <span class='const'>Roby</span><span class='op'>::</span><span class='const'>TaskStructure</span><span class='op'>::</span><span class='const'>Dependency</span><span class='period'>.</span><span class='id identifier rubyid_merge_dependency_options'>merge_dependency_options</span><span class='lparen'>(</span>
        <span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='comma'>,</span> <span class='id identifier rubyid_default_options'>default_options</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='lbracket'>[</span><span class='symbol'>:success</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_dependency_options'>dependency_options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='symbol'>:success</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:failure</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:stop</span><span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='period'>.</span>
            <span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_dependency_options'>dependency_options</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="conf-instance_method">
  
    #<strong>conf</strong>(name, mappings = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Declares a composition configuration</p>

<p>Composition configurations are named selections of configurations.</p>

<p>For instance, if</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_conf'>conf</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>narrow</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>monitoring</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>default</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>narrow_window</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sonar</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>default</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>narrow_window</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
</code></pre>

<p>is declared, and the composition is instanciated with</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Cmp</span><span class='op'>::</span><span class='const'>SonarMonitoring</span><span class='period'>.</span><span class='id identifier rubyid_use_conf'>use_conf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>narrow</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<p>Then the composition children called &#39;monitoring&#39; and
&#39;sonar&#39; will be both instanciated with [&#39;default&#39;,
&#39;narrow_window&#39;]</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1224</span>

<span class='kw'>def</span> <span class='id identifier rubyid_conf'>conf</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_mappings'>mappings</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mappings'>mappings</span> <span class='op'>=</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='period'>.</span><span class='id identifier rubyid_map_key'>map_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child'>child</span><span class='comma'>,</span> <span class='id identifier rubyid_conf'>conf</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_str</span><span class='rparen'>)</span>
            <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecated'>warn_deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>providing the child as string in #conf is deprecated, use the _child accessors instead (here </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child'>child</span><span class='embexpr_end'>}</span><span class='tstring_content'>_child =&gt; [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_conf'>conf</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>])</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_child'>child</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_configurations'>configurations</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_mappings'>mappings</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="configuration-instance_method">
  
    #<strong>configuration</strong>  &#x21d2; <tt>Hash&lt;String,Hash&lt;String,String&gt;&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Configurations defined on this composition model</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,Hash&lt;String,String&gt;&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the mapping from a composition configuration name to the corresponding
configurations that should be applied to its children</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Syskit::Models::Composition.{{#conf}</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1206</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:configuration</span><span class='comma'>,</span> <span class='symbol'>:configurations</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="configurations-instance_method">
  
    #<strong>configurations</strong>  &#x21d2; <tt>Hash&lt;String,Hash&lt;String,String&gt;&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Configurations defined on this composition model</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,Hash&lt;String,String&gt;&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the mapping from a composition configuration name to the corresponding
configurations that should be applied to its children</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Syskit::Models::Composition.{{#conf}</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1206</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:configuration</span><span class='comma'>,</span> <span class='symbol'>:configurations</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="connect-instance_method">
  
    #<strong>connect</strong>(mappings)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Explicitly create the given connections between children of this
composition.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_composition'>composition</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Test</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_add'>add</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Source</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_sink'>sink</span>   <span class='op'>=</span> <span class='id identifier rubyid_add'>add</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Sink</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_connect'>connect</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_sink'>sink</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='symbol'>:buffer</span>
<span class='kw'>end</span>
</code></pre>

<p>Explicit connections always have precedence on automatic connections. See
#autoconnect for automatic connection handling</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


633
634
635
636
637
638
639
640
641
642
643
644
645
646</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 633</span>

<span class='kw'>def</span> <span class='id identifier rubyid_connect'>connect</span><span class='lparen'>(</span><span class='id identifier rubyid_mappings'>mappings</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_mappings'>mappings</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_str</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='id identifier rubyid_a'>a</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_validate_options'>validate_options</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>Port</span><span class='op'>::</span><span class='const'>CONNECTION_POLICY_OPTIONS</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_mappings'>mappings</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_out_p'>out_p</span><span class='comma'>,</span> <span class='id identifier rubyid_in_p'>in_p</span><span class='op'>|</span>
        <span class='id identifier rubyid_out_p'>out_p</span><span class='period'>.</span><span class='id identifier rubyid_connect_to'>connect_to</span> <span class='id identifier rubyid_in_p'>in_p</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="connections-instance_method">
  
    #<strong>connections</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the set of connections that should be created during the
instanciation of this composition model.</p>

<p>The returned value is a mapping:</p>

<pre class="code ruby"><code class="ruby">[source_name, sink_name] =&gt;
    {
        [source_port_name0, sink_port_name1] =&gt; connection_policy,
        [source_port_name0, sink_port_name1] =&gt; connection_policy
    }
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


395
396
397
398
399
400
401
402
403
404</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 395</span>

<span class='kw'>def</span> <span class='id identifier rubyid_connections'>connections</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span>

    <span class='comment'># In the following, &#39;key&#39; is [child_source, child_dest] and
</span>    <span class='comment'># &#39;mappings&#39; is [port_source, port_sink] =&gt; connection_policy
</span>    <span class='id identifier rubyid_each_explicit_connection'>each_explicit_connection</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='op'>|</span>
        <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_mappings'>mappings</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="constraints_for-instance_method">
  
    #<strong>constraints_for</strong>(child_name)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the set of constraints that exist for the given child. I.e. the set
of types that, at instanciation time, the chosen child must provide.</p>

<p>See #constrain</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


658
659
660
661
662
663
664</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 658</span>

<span class='kw'>def</span> <span class='id identifier rubyid_constraints_for'>constraints_for</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_each_child_constraint'>each_child_constraint</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_constraint_set'>constraint_set</span><span class='op'>|</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>|=</span> <span class='id identifier rubyid_constraint_set'>constraint_set</span><span class='period'>.</span><span class='id identifier rubyid_to_set'>to_set</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_dynamic_instantiation_context-instance_method">
  
    #<strong>create_dynamic_instantiation_context</strong>(name, dynamic_service, **options)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>(see Component#create_dynamic_instantiation_context)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


617
618
619</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 617</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_dynamic_instantiation_context'>create_dynamic_instantiation_context</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_dynamic_service'>dynamic_service</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="Composition/DynamicServiceInstantiationContext.html" title="Syskit::Models::Composition::DynamicServiceInstantiationContext (class)">DynamicServiceInstantiationContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Composition/DynamicServiceInstantiationContext.html#initialize-instance_method" title="Syskit::Models::Composition::DynamicServiceInstantiationContext#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_dynamic_service'>dynamic_service</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_private_specialization-instance_method">
  
    #<strong>create_private_specialization</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called by <span class='object_link'><a href="Component.html#specialize-instance_method" title="Syskit::Models::Component#specialize (method)">Syskit::Models::Component#specialize</a></span> to create the composition model that will
be used for a private specialization</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 104</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_private_specialization'>create_private_specialization</span>
    <span class='id identifier rubyid_new_submodel'>new_submodel</span><span class='lparen'>(</span><span class='symbol'>:register_specializations</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dependency_injection_names-instance_method">
  
    #<strong>dependency_injection_names</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The list of names that will be used by this model as keys in a
DependencyInjection object,</p>

<p>For compositions, this is the list of children names</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


674
675
676</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 674</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dependency_injection_names'>dependency_injection_names</span>
    <span class='id identifier rubyid_children_names'>children_names</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_child-instance_method">
  
    
      <span class="overload">#<strong>each_child</strong>(child_name, uniq = true) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>each_child</strong>(nil, uniq = true) {|child_name, element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each_child</strong>(child_name, uniq = true) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in child under the given key</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each_child</strong>(nil, uniq = true) {|child_name, element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in child</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>child_name</tt>, <tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>child_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 26</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child</span><span class='comma'>,</span> <span class='symbol'>:children</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_child_constraint-instance_method">
  
    
      <span class="overload">#<strong>each_child_constraint</strong>(key, uniq = true) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>each_child_constraint</strong>(nil, uniq = true) {|key, element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each_child_constraint</strong>(key, uniq = true) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in child_constraint under the given key</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each_child_constraint</strong>(nil, uniq = true) {|key, element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in child_constraint</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>key</tt>, <tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 28</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child_constraint</span><span class='comma'>,</span> <span class='symbol'>:child_constraints</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_configuration-instance_method">
  
    
      <span class="overload">#<strong>each_configuration</strong>(conf_name, uniq = true) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>each_configuration</strong>(nil, uniq = true) {|conf_name, element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each_configuration</strong>(conf_name, uniq = true) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in configuration under the given key</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>Hash&lt;String]</span>
      
      
        <span class='type'>(<tt>Hash&lt;String] element</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>element</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each_configuration</strong>(nil, uniq = true) {|conf_name, element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in configuration</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>conf_name</tt>, <tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>conf_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>Hash&lt;String]</span>
      
      
        <span class='type'>(<tt>Hash&lt;String] element</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>element</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1206</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:configuration</span><span class='comma'>,</span> <span class='symbol'>:configurations</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_explicit_connection-instance_method">
  
    #<strong>each_explicit_connection</strong> {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in explicit_connection</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 78</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:explicit_connection</span><span class='comma'>,</span> <span class='symbol'>:explicit_connections</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_exported_input-instance_method">
  
    
      <span class="overload">#<strong>each_exported_input</strong>(exported_port_name, uniq = true) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>each_exported_input</strong>(nil, uniq = true) {|exported_port_name, element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each_exported_input</strong>(exported_port_name, uniq = true) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in exported_input under the given key</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each_exported_input</strong>(nil, uniq = true) {|exported_port_name, element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in exported_input</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>exported_port_name</tt>, <tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>exported_port_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1197</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_input</span><span class='comma'>,</span> <span class='symbol'>:exported_inputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_exported_output-instance_method">
  
    
      <span class="overload">#<strong>each_exported_output</strong>(exported_port_name, uniq = true) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>each_exported_output</strong>(nil, uniq = true) {|exported_port_name, element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each_exported_output</strong>(exported_port_name, uniq = true) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in exported_output under the given key</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>each_exported_output</strong>(nil, uniq = true) {|exported_port_name, element| ... } &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Enumerates all objects registered in exported_output</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>exported_port_name</tt>, <tt>element</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>exported_port_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1182</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_output</span><span class='comma'>,</span> <span class='symbol'>:exported_outputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_input_port-instance_method">
  
    #<strong>each_input_port</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Enumerates this component&#39;s input ports</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


495
496
497
498
499
500</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 495</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_input_port'>each_input_port</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_input_port</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_each_exported_input'>each_exported_input</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_find_input_port'>find_input_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_output_port-instance_method">
  
    #<strong>each_output_port</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Enumerates this component&#39;s output ports</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


487
488
489
490
491
492</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 487</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_output_port'>each_output_port</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_output_port</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_each_exported_output'>each_exported_output</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_find_output_port'>find_output_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="explicit_connection-instance_method">
  
    #<strong>explicit_connection</strong>  &#x21d2; <tt>Hash{(String,String)=&gt;{(String,String)=&gt;Hash}}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The set of connections specified by the user for this composition</p>

<p>of connections defined on this composition model. The first level is a
mapping from the (output child name, input child name) to a set of
connections. The set of connections is specified as a mapping from the
output port name (on the output child) and the input port name (on the
input child) to the desired connection policy.</p>

<p>Empty connection policies means “autodetect policy”</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{(String,String)=&gt;{(String,String)=&gt;Hash}}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the set</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 78</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:explicit_connection</span><span class='comma'>,</span> <span class='symbol'>:explicit_connections</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="export-instance_method">
  
    #<strong>export</strong>(port, as: port.name)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Export the given port to the boundary of the composition (it becomes a
composition port). By default, the composition port has the same name than
the exported port. This name can be overriden by the :as option</p>

<p>For example, if one does:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_composition'>composition</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Test</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
   <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_add'>add</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Source</span><span class='tstring_end'>&#39;</span></span>
   <span class='id identifier rubyid_export'>export</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
   <span class='id identifier rubyid_export'>export</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>output2</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>Then the resulting composition gets &#39;output&#39; and &#39;output2&#39;
output ports that can further be used in other connections (or
autoconnections):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_composition'>composition</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Global</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
   <span class='id identifier rubyid_test'>test</span> <span class='op'>=</span> <span class='id identifier rubyid_add'>add</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Test</span><span class='tstring_end'>&#39;</span></span>
   <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_add'>add</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Component</span><span class='tstring_end'>&#39;</span></span>
   <span class='id identifier rubyid_connect'>connect</span> <span class='id identifier rubyid_test'>test</span><span class='period'>.</span><span class='id identifier rubyid_output2'>output2</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 437</span>

<span class='kw'>def</span> <span class='id identifier rubyid_export'>export</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_as'>as</span><span class='period'>.</span><span class='id identifier rubyid_to_str'>to_str</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_existing'>existing</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find_exported_input'>find_exported_input</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find_exported_output'>find_exported_output</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_to_component_port'>to_component_port</span> <span class='op'>!=</span> <span class='id identifier rubyid_existing'>existing</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_content'> is already exported as </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> on </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, cannot override with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='kw'>return</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_child_port?'>child_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a port of one of </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;s children</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>case</span> <span class='id identifier rubyid_port'>port</span>
    <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="InputPort.html" title="Syskit::Models::InputPort (class)">InputPort</a></span></span>
        <span class='id identifier rubyid_exported_inputs'>exported_inputs</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_to_component_port'>to_component_port</span>
    <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="OutputPort.html" title="Syskit::Models::OutputPort (class)">OutputPort</a></span></span>
        <span class='id identifier rubyid_exported_outputs'>exported_outputs</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_to_component_port'>to_component_port</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid attempt to export port </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_content'> of type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_find_port'><span class='object_link'><a href="../Coordination/Models/PortHandling.html#find_port-instance_method" title="Syskit::Coordination::Models::PortHandling#find_port (method)">find_port</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exported_input-instance_method">
  
    #<strong>exported_input</strong>  &#x21d2; <tt>Hash&lt;String,<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Inputs exported from components in this composition to this
composition&#39;s interface</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1197</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_input</span><span class='comma'>,</span> <span class='symbol'>:exported_inputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exported_inputs-instance_method">
  
    #<strong>exported_inputs</strong>  &#x21d2; <tt>Hash&lt;String,<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Inputs exported from components in this composition to this
composition&#39;s interface</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1197</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_input</span><span class='comma'>,</span> <span class='symbol'>:exported_inputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exported_output-instance_method">
  
    #<strong>exported_output</strong>  &#x21d2; <tt>Hash&lt;String,<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Outputs exported from components in this composition to this
composition&#39;s interface</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1182</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_output</span><span class='comma'>,</span> <span class='symbol'>:exported_outputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exported_outputs-instance_method">
  
    #<strong>exported_outputs</strong>  &#x21d2; <tt>Hash&lt;String,<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Outputs exported from components in this composition to this
composition&#39;s interface</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,<span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1182</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_output</span><span class='comma'>,</span> <span class='symbol'>:exported_outputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exported_port?-instance_method">
  
    #<strong>exported_port?</strong>(port)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if <code>port_model</code>, which has to be a child&#39;s
port, is exported in this composition</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>
class C &lt; Syskit::Composition
  add srv, :as =&gt; &#39;srv&#39;
  export srv.output_port
end

C.exported_port?(C.srv_child.output_port) =&gt; true</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#export-instance_method" title="Syskit::Models::Composition#export (method)">#export</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


476
477
478
479
480
481
482
483
484</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 476</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exported_port?'>exported_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_each_exported_output'>each_exported_output</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
        <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>==</span> <span class='id identifier rubyid_port'>port</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_each_exported_input'>each_exported_input</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
        <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>==</span> <span class='id identifier rubyid_port'>port</span>
    <span class='kw'>end</span>
    <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extract_grandchild_selections_by_child_name-instance_method">
  
    #<strong>extract_grandchild_selections_by_child_name</strong>(child_name, selections)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Extracts the selections for grandchildren out of a selection for this</p>

<p>It matches the child_name.granchild_name pattern and returns a hash with
the matching selections</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>child_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the child name</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>selections</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the selection hash</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


873
874
875
876
877
878
879
880
881
882</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 873</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_grandchild_selections_by_child_name'>extract_grandchild_selections_by_child_name</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selections'>selections</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_child_user_selection'>child_user_selection</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child_name'>child_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>\.(.*)$</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_sel'>sel</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='id identifier rubyid_match'>match</span>
            <span class='id identifier rubyid_child_user_selection'>child_user_selection</span><span class='lbracket'>[</span><span class='backref'>$1</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_sel'>sel</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_child_user_selection'>child_user_selection</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_applicable_specialization_from_selection-instance_method">
  
    #<strong>find_applicable_specialization_from_selection</strong>(explicit_selections, selections, options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


829
830
831
832
833
834
835</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 829</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_applicable_specialization_from_selection'>find_applicable_specialization_from_selection</span><span class='lparen'>(</span><span class='id identifier rubyid_explicit_selections'>explicit_selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_specialized_model'>specialized_model</span> <span class='op'>=</span> <span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_matching_specialized_model'>matching_specialized_model</span><span class='lparen'>(</span><span class='id identifier rubyid_explicit_selections'>explicit_selections</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_specialized_model'>specialized_model</span> <span class='op'>!=</span> <span class='kw'>self</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_specialized_model'>specialized_model</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_matching_specialized_model'>matching_specialized_model</span><span class='lparen'>(</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_child-instance_method">
  
    #<strong>find_child</strong>(child_name)  &#x21d2; <tt><span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Looks for objects registered in child under the given key, and returns the
first one in the ancestor chain (i.e. the one tha thas been registered in
the most specialized class)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the found object, or nil if none is registered under that key</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 26</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child</span><span class='comma'>,</span> <span class='symbol'>:children</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_child_constraint-instance_method">
  
    #<strong>find_child_constraint</strong>(key)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Looks for objects registered in child_constraint under the given key, and
returns the first one in the ancestor chain (i.e. the one tha thas been
registered in the most specialized class)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the found object, or nil if none is registered under that key</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 28</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child_constraint</span><span class='comma'>,</span> <span class='symbol'>:child_constraints</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_child_model_and_task-instance_method">
  
    #<strong>find_child_model_and_task</strong>(child_name, context)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 678</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_child_model_and_task'>find_child_model_and_task</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='kw'>do</span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>selecting </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child_name'>child_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_nest'>log_nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>on the basis of</span><span class='tstring_end'>&quot;</span></span>
            <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_nest'>log_nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
                <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_pp'>log_pp</span><span class='lparen'>(</span><span class='symbol'>:debug</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_child_requirements'>child_requirements</span> <span class='op'>=</span> <span class='id identifier rubyid_find_child'>find_child</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_selected_child'>selected_child</span><span class='comma'>,</span> <span class='id identifier rubyid_used_keys'>used_keys</span> <span class='op'>=</span>
        <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_instance_selection_for'>instance_selection_for</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_child_requirements'>child_requirements</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='kw'>do</span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>selected</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_nest'>log_nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_pp'>log_pp</span><span class='lparen'>(</span><span class='symbol'>:debug</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_child'>selected_child</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_explicit'>explicit</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_has_selection_for?'>has_selection_for?</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_selected_child'>selected_child</span><span class='comma'>,</span> <span class='id identifier rubyid_explicit'>explicit</span><span class='comma'>,</span> <span class='id identifier rubyid_used_keys'>used_keys</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_children_models_and_tasks-instance_method">
  
    #<strong>find_children_models_and_tasks</strong>(context)  &#x21d2; <tt>(Hash&lt;String,<span class='object_link'><a href="../InstanceSelection.html" title="Syskit::InstanceSelection (class)">InstanceSelection</a></span>&gt;,Hash&lt;String,<span class='object_link'><a href="../InstanceSelection.html" title="Syskit::InstanceSelection (class)">InstanceSelection</a></span>&gt;,Hash&lt;String,Set&gt;)</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a dependency injection context, it computes the models and task
instances for each of the composition&#39;s children</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>(Hash&lt;String,<span class='object_link'><a href="../InstanceSelection.html" title="Syskit::InstanceSelection (class)">InstanceSelection</a></span>&gt;,Hash&lt;String,<span class='object_link'><a href="../InstanceSelection.html" title="Syskit::InstanceSelection (class)">InstanceSelection</a></span>&gt;,Hash&lt;String,Set&gt;)</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the resolved selections. The first hash is the set of explicitly selected
children (i.e. selected by name) and the second is all the selections. The
last returned value is the set keys in context that have been used to
perform the resolution</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


711
712
713
714
715
716
717
718
719
720
721
722
723
724
725</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 711</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_children_models_and_tasks'>find_children_models_and_tasks</span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_explicit'>explicit</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_result'>result</span>   <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_used_keys'>used_keys</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_each_child'>each_child</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_child_requirements'>child_requirements</span><span class='op'>|</span>
        <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_child_is_explicit'>child_is_explicit</span><span class='comma'>,</span> <span class='id identifier rubyid_used_keys'>used_keys</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span> <span class='op'>=</span>
            <span class='id identifier rubyid_find_child_model_and_task'>find_child_model_and_task</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_child_is_explicit'>child_is_explicit</span>
            <span class='id identifier rubyid_explicit'>explicit</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_explicit'>explicit</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_used_keys'>used_keys</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_configuration-instance_method">
  
    #<strong>find_configuration</strong>(conf_name)  &#x21d2; <tt>Hash&lt;String,nil] the found object</tt>, <tt>or nil if none is registered under that key</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Looks for objects registered in configuration under the given key, and
returns the first one in the ancestor chain (i.e. the one tha thas been
registered in the most specialized class)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,nil] the found object</tt>, <tt>or nil if none is registered under that key</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Hash&lt;String,nil] the found object, or nil if none is registered under
that key</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1206</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:configuration</span><span class='comma'>,</span> <span class='symbol'>:configurations</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_exported_input-instance_method">
  
    #<strong>find_exported_input</strong>(exported_port_name)  &#x21d2; <tt><span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Looks for objects registered in exported_input under the given key, and
returns the first one in the ancestor chain (i.e. the one tha thas been
registered in the most specialized class)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the found object, or nil if none is registered under that key</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1197</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_input</span><span class='comma'>,</span> <span class='symbol'>:exported_inputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_exported_output-instance_method">
  
    #<strong>find_exported_output</strong>(exported_port_name)  &#x21d2; <tt><span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Looks for objects registered in exported_output under the given key, and
returns the first one in the ancestor chain (i.e. the one tha thas been
registered in the most specialized class)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Port.html" title="Syskit::Models::Port (class)">Port</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the found object, or nil if none is registered under that key</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1182</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_output</span><span class='comma'>,</span> <span class='symbol'>:exported_outputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_input_port-instance_method">
  
    #<strong>find_input_port</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the composition&#39;s input port named &#39;name&#39;</p>

<p>See #port, and #export to create ports on a composition</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


515
516
517
518
519
520</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 515</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_input_port'>find_input_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_str'>to_str</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_find_exported_input'>find_exported_input</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_str'>to_str</span><span class='rparen'>)</span>
        <span class='kw'>return</span> <span class='const'><span class='object_link'><a href="InputPort.html" title="Syskit::Models::InputPort (class)">InputPort</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Port.html#initialize-instance_method" title="Syskit::Models::Port#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_orogen_model'>orogen_model</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_output_port-instance_method">
  
    #<strong>find_output_port</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the composition&#39;s output port named &#39;name&#39;</p>

<p>See #port, and #export to create ports on a composition</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


505
506
507
508
509
510</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 505</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_output_port'>find_output_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_str'>to_str</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_find_exported_output'>find_exported_output</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_str'>to_str</span><span class='rparen'>)</span>
        <span class='kw'>return</span> <span class='const'><span class='object_link'><a href="OutputPort.html" title="Syskit::Models::OutputPort (class)">OutputPort</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Port.html#initialize-instance_method" title="Syskit::Models::Port#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_orogen_model'>orogen_model</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_through_method_missing-instance_method">
  
    #<strong>find_through_method_missing</strong>(m, args)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1150
1151
1152
1153</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1150</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_through_method_missing'><span class='object_link'><a href="../Coordination/Models/FaultResponseTableExtension.html#find_through_method_missing-instance_method" title="Syskit::Coordination::Models::FaultResponseTableExtension#find_through_method_missing (method)">find_through_method_missing</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
    <span class='const'>MetaRuby</span><span class='op'>::</span><span class='const'>DSLs</span><span class='period'>.</span><span class='id identifier rubyid_find_through_method_missing'>find_through_method_missing</span><span class='lparen'>(</span>
        <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_child</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='symbol'>:find_child</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fullfills?-instance_method">
  
    #<strong>fullfills?</strong>(models)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Reimplemented from Roby::Task to take into account the multiple inheritance
mechanisms that is the composition specializations</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1268
1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279
1280
1281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1268</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_models'>models</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_models'>models</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_models'>models</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:map</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_models'>models</span> <span class='op'>=</span> <span class='id identifier rubyid_models'>models</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_other_model'>other_model</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_other_model'>other_model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:applied_specializations</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_other_model'>other_model</span><span class='period'>.</span><span class='id identifier rubyid_applied_specializations'>applied_specializations</span> <span class='op'>-</span> <span class='id identifier rubyid_applied_specializations'>applied_specializations</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
                <span class='kw'>return</span> <span class='kw'>false</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_other_model'>other_model</span><span class='period'>.</span><span class='id identifier rubyid_root_model'>root_model</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_other_model'>other_model</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_models'>models</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_child?-instance_method">
  
    #<strong>has_child?</strong>(child_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if an object is registered in child anywhere in the class
hierarchy</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 26</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child</span><span class='comma'>,</span> <span class='symbol'>:children</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_child_constraint?-instance_method">
  
    #<strong>has_child_constraint?</strong>(key)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if an object is registered in child_constraint anywhere in the
class hierarchy</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 28</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:child_constraint</span><span class='comma'>,</span> <span class='symbol'>:child_constraints</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_configuration?-instance_method">
  
    #<strong>has_configuration?</strong>(conf_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if an object is registered in configuration anywhere in the
class hierarchy</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1206</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:configuration</span><span class='comma'>,</span> <span class='symbol'>:configurations</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_dynamic_input_port?-instance_method">
  
    #<strong>has_dynamic_input_port?</strong>(name, type = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if <code>name</code> is a valid dynamic input port.</p>

<p>On a composition, it always returns false. This method is defined for
consistency for the other kinds of Component objects.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


526</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 526</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_dynamic_input_port?'>has_dynamic_input_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>false</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_dynamic_output_port?-instance_method">
  
    #<strong>has_dynamic_output_port?</strong>(name, type = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if <code>name</code> is a valid dynamic output port.</p>

<p>On a composition, it always returns false. This method is defined for
consistency for the other kinds of Component objects.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


532</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 532</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_dynamic_output_port?'>has_dynamic_output_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>false</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_exported_input?-instance_method">
  
    #<strong>has_exported_input?</strong>(exported_port_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if an object is registered in exported_input anywhere in the
class hierarchy</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1197</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_input</span><span class='comma'>,</span> <span class='symbol'>:exported_inputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_exported_output?-instance_method">
  
    #<strong>has_exported_output?</strong>(exported_port_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if an object is registered in exported_output anywhere in the
class hierarchy</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1182</span>

<span class='id identifier rubyid_inherited_attribute'>inherited_attribute</span><span class='lparen'>(</span><span class='symbol'>:exported_output</span><span class='comma'>,</span> <span class='symbol'>:exported_outputs</span><span class='comma'>,</span> <span class='symbol'>:map</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_through_method_missing?-instance_method">
  
    #<strong>has_through_method_missing?</strong>(m)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1145
1146
1147
1148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1145</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_through_method_missing?'><span class='object_link'><a href="../Coordination/Models/FaultResponseTableExtension.html#has_through_method_missing%3F-instance_method" title="Syskit::Coordination::Models::FaultResponseTableExtension#has_through_method_missing? (method)">has_through_method_missing?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
    <span class='const'>MetaRuby</span><span class='op'>::</span><span class='const'>DSLs</span><span class='period'>.</span><span class='id identifier rubyid_has_through_method_missing?'>has_through_method_missing?</span><span class='lparen'>(</span>
        <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_child</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='symbol'>:find_child</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inherited-instance_method">
  
    #<strong>inherited</strong>(submodel)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Overloaded to set the model documentation</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1121
1122
1123
1124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1121</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inherited'>inherited</span><span class='lparen'>(</span><span class='id identifier rubyid_submodel'>submodel</span><span class='rparen'>)</span>
    <span class='kw'>super</span>
    <span class='id identifier rubyid_submodel'>submodel</span><span class='period'>.</span><span class='id identifier rubyid_doc'>doc</span> <span class='const'>MetaRuby</span><span class='op'>::</span><span class='const'>DSLs</span><span class='period'>.</span><span class='id identifier rubyid_parse_documentation_block'>parse_documentation_block</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.*</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^inherited</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="instanciate-instance_method">
  
    #<strong>instanciate</strong>(plan, context = DependencyInjectionContext.new, task_arguments: Hash.new, specialize: true, specialization_hints: Array.new)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates the required task and children for this composition model.</p>

<p>It selects the relevant specialization and instantiates it instead of
<code>self</code> when relevant.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'>(<tt>Roby::Plan</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>plan in which the composition should be instantiated</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../DependencyInjectionContext.html" title="Syskit::DependencyInjectionContext (class)">DependencyInjectionContext</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>DependencyInjectionContext.new</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the dependency injection used to select the actual models for the children
(and therefore the specializations as well). The last element in this
DIContext stack is interpreted as DI setup only for the composition (not
for the instantiation of its children).</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>arguments</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a customizable set of options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    
    
    
    


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 930</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instanciate'>instanciate</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../DependencyInjectionContext.html" title="Syskit::DependencyInjectionContext (class)">DependencyInjectionContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../DependencyInjectionContext.html#initialize-instance_method" title="Syskit::DependencyInjectionContext#initialize (method)">new</a></span></span><span class='comma'>,</span>
                <span class='label'>task_arguments:</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span>
                <span class='label'>specialize:</span> <span class='kw'>true</span><span class='comma'>,</span>
                <span class='label'>specialization_hints:</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>

    <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='kw'>do</span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>instanciating </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> with</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_nest'>log_nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_pp'>log_pp</span><span class='lparen'>(</span><span class='symbol'>:debug</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
        <span class='kw'>break</span>
    <span class='kw'>end</span>

    <span class='comment'># Find what we should use for our children. +explicit_selection+
</span>    <span class='comment'># is the set of children for which a selection existed and
</span>    <span class='comment'># +selected_models+ all the models we should use
</span>    <span class='id identifier rubyid_explicit_selections'>explicit_selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_models'>selected_models</span><span class='comma'>,</span> <span class='id identifier rubyid_used_keys'>used_keys</span> <span class='op'>=</span>
        <span class='id identifier rubyid_find_children_models_and_tasks'>find_children_models_and_tasks</span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_current_state'>current_state</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_specialize'>specialize</span>
        <span class='id identifier rubyid_specialized_model'>specialized_model</span> <span class='op'>=</span> <span class='id identifier rubyid_find_applicable_specialization_from_selection'>find_applicable_specialization_from_selection</span><span class='lparen'>(</span>
            <span class='id identifier rubyid_explicit_selections'>explicit_selections</span><span class='comma'>,</span>
            <span class='id identifier rubyid_selected_models'>selected_models</span><span class='comma'>,</span>
            <span class='label'>specialization_hints:</span> <span class='id identifier rubyid_specialization_hints'>specialization_hints</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_specialized_model'>specialized_model</span> <span class='op'>!=</span> <span class='kw'>self</span>
            <span class='kw'>return</span> <span class='id identifier rubyid_specialized_model'>specialized_model</span><span class='period'>.</span><span class='id identifier rubyid_instanciate'>instanciate</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span>
                                                 <span class='label'>task_arguments:</span> <span class='id identifier rubyid_task_arguments'>task_arguments</span><span class='comma'>,</span>
                                                 <span class='label'>specialize:</span> <span class='kw'>true</span><span class='comma'>,</span>
                                                 <span class='label'>specialization_hints:</span> <span class='id identifier rubyid_specialization_hints'>specialization_hints</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='comment'># First of all, add the task for +self+
</span>    <span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_self_task'>self_task</span> <span class='op'>=</span> <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_task_arguments'>task_arguments</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_conf'>conf</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_self_task'>self_task</span><span class='period'>.</span><span class='id identifier rubyid_has_argument?'>has_argument?</span><span class='lparen'>(</span><span class='symbol'>:conf</span><span class='rparen'>)</span>
               <span class='id identifier rubyid_self_task'>self_task</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span><span class='lparen'>(</span><span class='id identifier rubyid_self_task'>self_task</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span><span class='lbracket'>[</span><span class='symbol'>:conf</span><span class='rbracket'>]</span><span class='rparen'>)</span>
           <span class='kw'>else</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
           <span class='kw'>end</span>

    <span class='comment'># This is the part of the context that is directly associated
</span>    <span class='comment'># with the composition. We use it later to extract by-name
</span>    <span class='comment'># selections for the children of the form
</span>    <span class='comment'># child_name.child_of_child_name
</span>    <span class='id identifier rubyid_composition_use_flags'>composition_use_flags</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_top'>top</span>

    <span class='comment'># Finally, instanciate the missing tasks and add them to our
</span>    <span class='comment'># children
</span>    <span class='id identifier rubyid_children_tasks'>children_tasks</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_remaining_children_models'>remaining_children_models</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_models'>selected_models</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='kw'>while</span> <span class='op'>!</span><span class='id identifier rubyid_remaining_children_models'>remaining_children_models</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_current_size'>current_size</span> <span class='op'>=</span> <span class='id identifier rubyid_remaining_children_models'>remaining_children_models</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
        <span class='id identifier rubyid_remaining_children_models'>remaining_children_models</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_child'>selected_child</span><span class='op'>|</span>
            <span class='id identifier rubyid_selected_child'>selected_child</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_child'>selected_child</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>

            <span class='id identifier rubyid_resolved_selected_child'>resolved_selected_child</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_child'>selected_child</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_selected_child'>selected_child</span><span class='period'>.</span><span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Composition.html" title="Syskit::Composition (class)">Composition</a></span></span><span class='rparen'>)</span>
                <span class='id identifier rubyid_resolved_selected_child'>resolved_selected_child</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_child'>selected_child</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
                <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_try_resolve_child_references_in_use_flags'>try_resolve_child_references_in_use_flags</span><span class='lparen'>(</span><span class='id identifier rubyid_self_task'>self_task</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_selected_child'>resolved_selected_child</span><span class='period'>.</span><span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span>
                    <span class='kw'>next</span>
                <span class='kw'>end</span>

                <span class='id identifier rubyid_child_user_selection'>child_user_selection</span> <span class='op'>=</span> <span class='id identifier rubyid_extract_grandchild_selections_by_child_name'>extract_grandchild_selections_by_child_name</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_composition_use_flags'>composition_use_flags</span><span class='period'>.</span><span class='id identifier rubyid_added_info'>added_info</span><span class='period'>.</span><span class='id identifier rubyid_explicit'>explicit</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_resolved_selected_child'>resolved_selected_child</span><span class='period'>.</span><span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_use'>use</span><span class='lparen'>(</span><span class='id identifier rubyid_child_user_selection'>child_user_selection</span><span class='rparen'>)</span>
            <span class='kw'>end</span>

            <span class='id identifier rubyid_child_task'>child_task</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span> <span class='kw'>do</span>
                <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_push_mask'>push_mask</span><span class='lparen'>(</span><span class='id identifier rubyid_used_keys'>used_keys</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_instanciate_child'>instanciate_child</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_self_task'>self_task</span><span class='comma'>,</span> <span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_selected_child'>resolved_selected_child</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_child_task'>child_task</span> <span class='op'>=</span> <span class='id identifier rubyid_child_task'>child_task</span><span class='period'>.</span><span class='id identifier rubyid_to_task'>to_task</span>

            <span class='kw'>if</span> <span class='id identifier rubyid_child_conf'>child_conf</span> <span class='op'>=</span> <span class='id identifier rubyid_conf'>conf</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span>
                <span class='id identifier rubyid_child_task'>child_task</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span><span class='lbracket'>[</span><span class='symbol'>:conf</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_child_conf'>child_conf</span>
            <span class='kw'>end</span>

            <span class='id identifier rubyid_children_tasks'>children_tasks</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_child_task'>child_task</span>

            <span class='id identifier rubyid_dependency_options'>dependency_options</span> <span class='op'>=</span> <span class='id identifier rubyid_compute_child_dependency_options'>compute_child_dependency_options</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_child_task'>child_task</span><span class='rparen'>)</span>
            <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='kw'>do</span>
                <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>adding dependency </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_self_task'>self_task</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    =&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child_task'>child_task</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   options; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                <span class='kw'>break</span>
            <span class='kw'>end</span>

            <span class='id identifier rubyid_self_task'>self_task</span><span class='period'>.</span><span class='id identifier rubyid_depends_on'>depends_on</span><span class='lparen'>(</span><span class='id identifier rubyid_child_task'>child_task</span><span class='comma'>,</span> <span class='id identifier rubyid_dependency_options'>dependency_options</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_self_task'>self_task</span><span class='period'>.</span><span class='id identifier rubyid_child_selection'>child_selection</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_child'>selected_child</span>
            <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_main'>main</span> <span class='op'>=</span> <span class='id identifier rubyid_main_task'>main_task</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_main'>main</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span> <span class='op'>==</span> <span class='id identifier rubyid_child_name'>child_name</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_child_task'>child_task</span><span class='period'>.</span><span class='id identifier rubyid_each_event'>each_event</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ev'>ev</span><span class='op'>|</span>
                    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_ev'>ev</span><span class='period'>.</span><span class='id identifier rubyid_terminal?'>terminal?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_ev'>ev</span><span class='period'>.</span><span class='id identifier rubyid_symbol'>symbol</span> <span class='op'>!=</span> <span class='symbol'>:start</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_self_task'>self_task</span><span class='period'>.</span><span class='id identifier rubyid_has_event?'>has_event?</span><span class='lparen'>(</span><span class='id identifier rubyid_ev'>ev</span><span class='period'>.</span><span class='id identifier rubyid_symbol'>symbol</span><span class='rparen'>)</span>
                        <span class='id identifier rubyid_child_task'>child_task</span><span class='period'>.</span><span class='id identifier rubyid_event'>event</span><span class='lparen'>(</span><span class='id identifier rubyid_ev'>ev</span><span class='period'>.</span><span class='id identifier rubyid_symbol'>symbol</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_forward_to'>forward_to</span> <span class='id identifier rubyid_self_task'>self_task</span><span class='period'>.</span><span class='id identifier rubyid_event'>event</span><span class='lparen'>(</span><span class='id identifier rubyid_ev'>ev</span><span class='period'>.</span><span class='id identifier rubyid_symbol'>symbol</span><span class='rparen'>)</span>
                    <span class='kw'>end</span>
                <span class='kw'>end</span>
                <span class='id identifier rubyid_child_task'>child_task</span><span class='period'>.</span><span class='id identifier rubyid_success_event'>success_event</span><span class='period'>.</span><span class='id identifier rubyid_forward_to'>forward_to</span> <span class='id identifier rubyid_self_task'>self_task</span><span class='period'>.</span><span class='id identifier rubyid_success_event'>success_event</span>
            <span class='kw'>end</span>
            <span class='kw'>true</span> <span class='comment'># it has been processed, delete from remaining_children_models
</span>        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_remaining_children_models'>remaining_children_models</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='id identifier rubyid_current_size'>current_size</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../InternalError.html" title="Syskit::InternalError (class)">InternalError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cannot resolve children </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_remaining_children_models'>remaining_children_models</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:first</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_instanciate_connections'>instanciate_connections</span><span class='lparen'>(</span><span class='id identifier rubyid_self_task'>self_task</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_models'>selected_models</span><span class='comma'>,</span> <span class='id identifier rubyid_children_tasks'>children_tasks</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_self_task'>self_task</span>
<span class='kw'>ensure</span>
    <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='kw'>do</span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_nest'>log_nest</span> <span class='op'>-</span><span class='int'>2</span>
        <span class='kw'>break</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="instanciate_child-instance_method">
  
    #<strong>instanciate_child</strong>(plan, context, self_task, child_name, selected_child)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Instanciates a task for the required child</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 766</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instanciate_child'>instanciate_child</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_self_task'>self_task</span><span class='comma'>,</span> <span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_child'>selected_child</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>    <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='kw'>do</span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>instanciating child </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child_name'>child_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_nest'>log_nest</span> <span class='int'>2</span>
        <span class='kw'>break</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_child_arguments'>child_arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_child'>selected_child</span><span class='period'>.</span><span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span>
    <span class='id identifier rubyid_child_arguments'>child_arguments</span><span class='period'>.</span><span class='id identifier rubyid_each_key'>each_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
 <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_child_arguments'>child_arguments</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:resolve_child</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_child_arguments'>child_arguments</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_resolve_child'>resolve_child</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_selected_child'>selected_child</span><span class='period'>.</span><span class='id identifier rubyid_instanciate'>instanciate</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='symbol'>:task_arguments</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_child_arguments'>child_arguments</span><span class='rparen'>)</span>
<span class='kw'>ensure</span>
    <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='kw'>do</span>
        <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_nest'>log_nest</span> <span class='op'>-</span><span class='int'>2</span>
        <span class='kw'>break</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="instanciate_connections-instance_method">
  
    #<strong>instanciate_connections</strong>(self_task, selected_children, children_tasks)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 789</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instanciate_connections'>instanciate_connections</span><span class='lparen'>(</span><span class='id identifier rubyid_self_task'>self_task</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_children'>selected_children</span><span class='comma'>,</span> <span class='id identifier rubyid_children_tasks'>children_tasks</span><span class='rparen'>)</span>
    <span class='comment'># The set of connections we must create on our children. This is
</span>    <span class='comment'># self.connections on which we will apply port mappings for the
</span>    <span class='comment'># instanciated children
</span>    <span class='id identifier rubyid_each_explicit_connection'>each_explicit_connection</span> <span class='kw'>do</span> <span class='op'>|</span><span class='lparen'>(</span><span class='id identifier rubyid_out_name'>out_name</span><span class='comma'>,</span> <span class='id identifier rubyid_in_name'>in_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_conn'>conn</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_out_task'>out_task</span> <span class='op'>=</span> <span class='id identifier rubyid_children_tasks'>children_tasks</span><span class='lbracket'>[</span><span class='id identifier rubyid_out_name'>out_name</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_in_task'>in_task</span> <span class='op'>=</span> <span class='id identifier rubyid_children_tasks'>children_tasks</span><span class='lbracket'>[</span><span class='id identifier rubyid_in_name'>in_name</span><span class='rbracket'>]</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_child_out'>child_out</span>    <span class='op'>=</span> <span class='id identifier rubyid_selected_children'>selected_children</span><span class='lbracket'>[</span><span class='id identifier rubyid_out_name'>out_name</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_child_in'>child_in</span>     <span class='op'>=</span> <span class='id identifier rubyid_selected_children'>selected_children</span><span class='lbracket'>[</span><span class='id identifier rubyid_in_name'>in_name</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_mappings_out'>mappings_out</span> <span class='op'>=</span> <span class='id identifier rubyid_child_out'>child_out</span><span class='period'>.</span><span class='id identifier rubyid_port_mappings'>port_mappings</span>
            <span class='id identifier rubyid_mappings_in'>mappings_in</span>  <span class='op'>=</span> <span class='id identifier rubyid_child_in'>child_in</span><span class='period'>.</span><span class='id identifier rubyid_port_mappings'>port_mappings</span>

            <span class='id identifier rubyid_mapped'>mapped</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
            <span class='id identifier rubyid_conn'>conn</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='lparen'>(</span><span class='id identifier rubyid_port_out'>port_out</span><span class='comma'>,</span> <span class='id identifier rubyid_port_in'>port_in</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span><span class='op'>|</span>
                <span class='id identifier rubyid_mapped_port_out'>mapped_port_out</span> <span class='op'>=</span> <span class='id identifier rubyid_mappings_out'>mappings_out</span><span class='lbracket'>[</span><span class='id identifier rubyid_port_out'>port_out</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_port_out'>port_out</span>
                <span class='id identifier rubyid_mapped_port_in'>mapped_port_in</span>  <span class='op'>=</span> <span class='id identifier rubyid_mappings_in'>mappings_in</span><span class='lbracket'>[</span><span class='id identifier rubyid_port_in'>port_in</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_port_in'>port_in</span>
                <span class='id identifier rubyid_mapped'>mapped</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='id identifier rubyid_mapped_port_out'>mapped_port_out</span><span class='comma'>,</span> <span class='id identifier rubyid_mapped_port_in'>mapped_port_in</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_policy'>policy</span>
            <span class='kw'>end</span>
                
            <span class='id identifier rubyid_out_task'>out_task</span><span class='period'>.</span><span class='id identifier rubyid_connect_ports'>connect_ports</span><span class='lparen'>(</span><span class='id identifier rubyid_in_task'>in_task</span><span class='comma'>,</span> <span class='id identifier rubyid_mapped'>mapped</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_each_exported_input'>each_exported_input</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_export_name'>export_name</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='op'>|</span>
        <span class='id identifier rubyid_child_name'>child_name</span> <span class='op'>=</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_child_task'>child_task</span> <span class='op'>=</span> <span class='id identifier rubyid_children_tasks'>children_tasks</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_child'>child</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_children'>selected_children</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_self_task'>self_task</span><span class='period'>.</span><span class='id identifier rubyid_forward_input_ports'>forward_input_ports</span><span class='lparen'>(</span>
                <span class='id identifier rubyid_child_task'>child_task</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_export_name'>export_name</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_port_mappings'>port_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=&gt;</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_each_exported_output'>each_exported_output</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_export_name'>export_name</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='op'>|</span>
        <span class='id identifier rubyid_child_name'>child_name</span> <span class='op'>=</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_child_task'>child_task</span> <span class='op'>=</span> <span class='id identifier rubyid_children_tasks'>children_tasks</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_child'>child</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_children'>selected_children</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_child_task'>child_task</span><span class='period'>.</span><span class='id identifier rubyid_forward_output_ports'>forward_output_ports</span><span class='lparen'>(</span>
                <span class='id identifier rubyid_self_task'>self_task</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_port_mappings'>port_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_export_name'>export_name</span><span class='rbracket'>]</span> <span class='op'>=&gt;</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_specialization?-instance_method">
  
    #<strong>is_specialization?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if this composition model is a specialized version of its
superclass, and false otherwise</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


343</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 343</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_specialization?'>is_specialization?</span><span class='semicolon'>;</span> <span class='kw'>false</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="main_task-instance_method">
  
    #<strong>main_task</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns this composition&#39;s main task</p>

<p>The main task is the task that performs the composition&#39;s main goal (if
there is one). The composition will terminate successfully whenever the
main task finishes successfully.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


317
318
319
320
321
322</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 317</span>

<span class='kw'>def</span> <span class='id identifier rubyid_main_task'>main_task</span>
    <span class='kw'>if</span> <span class='ivar'>@main_task</span> <span class='kw'>then</span> <span class='ivar'>@main_task</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:main_task</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_main_task'>main_task</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="merge-instance_method">
  
    #<strong>merge</strong>(other_model)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Merge two models, making sure that specializations are properly applied on
the result</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1238
1239
1240
1241
1242
1243
1244
1245
1246
1247
1248
1249
1250
1251
1252
1253
1254
1255
1256
1257
1258
1259
1260
1261
1262
1263
1264</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1238</span>

<span class='kw'>def</span> <span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_model'>other_model</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_needed_specializations'>needed_specializations</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_applied_specializations'>applied_specializations</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_other_model'>other_model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:root_model</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_needed_specializations'>needed_specializations</span> <span class='op'>|=</span> <span class='id identifier rubyid_other_model'>other_model</span><span class='period'>.</span><span class='id identifier rubyid_applied_specializations'>applied_specializations</span>
        <span class='id identifier rubyid_other_model'>other_model</span> <span class='op'>=</span> <span class='id identifier rubyid_other_model'>other_model</span><span class='period'>.</span><span class='id identifier rubyid_root_model'>root_model</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_needed_specializations'>needed_specializations</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_other_model'>other_model</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_base_model'>base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_root_model'>root_model</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_other_model'>other_model</span><span class='rparen'>)</span>
        <span class='comment'># If base_model is a placeholder model, we apply the
</span>        <span class='comment'># specialization on the proper composition model and then
</span>        <span class='comment'># re-proxy it
</span>        <span class='id identifier rubyid_services'>services</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_placeholder?'>placeholder?</span>
            <span class='id identifier rubyid_services'>services</span>   <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_proxied_data_service_models'>proxied_data_service_models</span>
            <span class='id identifier rubyid_base_model'>base_model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_proxied_component_model'>proxied_component_model</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_composite_spec'>composite_spec</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CompositionSpecialization.html" title="Syskit::Models::CompositionSpecialization (class)">CompositionSpecialization</a></span></span><span class='period'>.</span>
            <span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_needed_specializations'>needed_specializations</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_base_model'>base_model</span><span class='period'>.</span><span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_specialized_model'>specialized_model</span><span class='lparen'>(</span>
            <span class='id identifier rubyid_composite_spec'>composite_spec</span><span class='comma'>,</span> <span class='id identifier rubyid_needed_specializations'>needed_specializations</span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="Placeholder.html" title="Syskit::Models::Placeholder (module)">Placeholder</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for'><span class='object_link'><a href="Placeholder/Creation.html#for-instance_method" title="Syskit::Models::Placeholder::Creation#for (method)">for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_services'>services</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='comma'>,</span> <span class='label'>component_model:</span> <span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="narrow-instance_method">
  
    #<strong>narrow</strong>(context, options = Hash.new)  &#x21d2; <tt>Model&lt;<span class='object_link'><a href="" title="Syskit::Models::Composition (module)">Composition</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the set of specializations that match the given dependency
injection context</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../DependencyInjection.html" title="Syskit::DependencyInjection (class)">DependencyInjection</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the dependency injection object that is used to determine the selected
model</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Model&lt;<span class='object_link'><a href="" title="Syskit::Models::Composition (module)">Composition</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


733
734
735
736
737</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 733</span>

<span class='kw'>def</span> <span class='id identifier rubyid_narrow'>narrow</span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_explicit_selections'>explicit_selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_models'>selected_models</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span>
        <span class='id identifier rubyid_find_children_models_and_tasks'>find_children_models_and_tasks</span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_find_applicable_specialization_from_selection'>find_applicable_specialization_from_selection</span><span class='lparen'>(</span><span class='id identifier rubyid_explicit_selections'>explicit_selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_models'>selected_models</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_specialized_submodel-instance_method">
  
    #<strong>new_specialized_submodel</strong>(options = Hash.new, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new submodel of this composition model that will be used to
represent a specialization</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1114
1115
1116
1117
1118</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new_specialized_submodel'>new_specialized_submodel</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_submodel'>submodel</span> <span class='op'>=</span> <span class='id identifier rubyid_new_submodel'>new_submodel</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='symbol'>:register_specializations</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_submodel'>submodel</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span> <span class='const'><span class='object_link'><a href="../Models.html" title="Syskit::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="CompositionSpecialization.html" title="Syskit::Models::CompositionSpecialization (class)">CompositionSpecialization</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="CompositionSpecialization/Extension.html" title="Syskit::Models::CompositionSpecialization::Extension (module)">Extension</a></span></span>
    <span class='id identifier rubyid_submodel'>submodel</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="overload-instance_method">
  
    #<strong>overload</strong>(child, model, options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Overloads an existing child with a new model and/or options</p>

<p>This is 100% equivalent to</p>

<pre class="code ruby"><code class="ruby">add model, (:as =&gt; name).merge(options)
</code></pre>

<p>The only (important) difference is that it checks that <code>name</code> is
indeed an existing child, and allows people that read the composition model
to understand the intent</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227
228
229
230
231
232
233</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 225</span>

<span class='kw'>def</span> <span class='id identifier rubyid_overload'>overload</span><span class='lparen'>(</span><span class='id identifier rubyid_child'>child</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:child_name</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_child'>child</span> <span class='op'>=</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_find_child'>find_child</span><span class='lparen'>(</span><span class='id identifier rubyid_child'>child</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child'>child</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not an existing child of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_child'>child</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parent_model_of?-instance_method">
  
    #<strong>parent_model_of?</strong>(child_model)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if <code>self</code> is a parent model of
<code>child_model</code></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


149
150
151
152</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 149</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parent_model_of?'>parent_model_of?</span><span class='lparen'>(</span><span class='id identifier rubyid_child_model'>child_model</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_child_model'>child_model</span> <span class='op'>&lt;</span> <span class='kw'>self</span><span class='rparen'>)</span> <span class='op'>||</span>
        <span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_child_model'>child_model</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prefer_specializations-instance_method">
  
    #<strong>prefer_specializations</strong>(*spec)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns this composition associated with specialization disambiguation
information</p>

<p>For instance,</p>

<pre class="code ruby"><code class="ruby"><span class='const'>CorridorServoing</span><span class='period'>.</span>
    <span class='id identifier rubyid_prefer_specializations'>prefer_specializations</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>child</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='const'>XsensImu</span><span class='op'>::</span><span class='const'>Task</span><span class='rparen'>)</span>
</code></pre>

<p>(see InstanceRequirements#prefer_specializations)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


761
762
763</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 761</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prefer_specializations'>prefer_specializations</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../InstanceRequirements.html" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../InstanceRequirements.html#initialize-instance_method" title="Syskit::InstanceRequirements#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_prefer_specializations'><span class='object_link'><a href="../InstanceRequirements.html#prefer_specializations-instance_method" title="Syskit::InstanceRequirements#prefer_specializations (method)">prefer_specializations</a></span></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pretty_print-instance_method">
  
    #<strong>pretty_print</strong>(pp)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 348</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pretty_print'>pretty_print</span><span class='lparen'>(</span><span class='id identifier rubyid_pp'>pp</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>    <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_root_model'>root_model</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_specializations'>specializations</span> <span class='op'>=</span> <span class='id identifier rubyid_specialized_children'>specialized_children</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specialized on:</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_models'>selected_models</span><span class='op'>|</span>
                <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
                <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='tstring_end'>&quot;</span></span>
                <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
                    <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_seplist'>seplist</span><span class='lparen'>(</span><span class='id identifier rubyid_selected_models'>selected_models</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
                        <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_pretty_print'>pretty_print</span><span class='lparen'>(</span><span class='id identifier rubyid_pp'>pp</span><span class='rparen'>)</span>
                    <span class='kw'>end</span>
                <span class='kw'>end</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='id identifier rubyid_data_services'>data_services</span> <span class='op'>=</span> <span class='id identifier rubyid_each_data_service'>each_data_service</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_data_services'>data_services</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Data services:</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
                <span class='id identifier rubyid_data_services'>data_services</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:first</span><span class='rparen'>)</span><span class='period'>.</span>
                    <span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_ds'>ds</span><span class='op'>|</span>
                        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
                        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ds'>ds</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                    <span class='kw'>end</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="promote_child-instance_method">
  
    #<strong>promote_child</strong>(child_name, child)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_promote_child'>promote_child</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_promoted'>promoted</span> <span class='op'>=</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_promoted'>promoted</span><span class='period'>.</span><span class='id identifier rubyid_parent_model'>parent_model</span> <span class='op'>=</span> <span class='id identifier rubyid_child'>child</span>
    <span class='id identifier rubyid_children'>children</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_promoted'>promoted</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="promote_explicit_connection-instance_method">
  
    #<strong>promote_explicit_connection</strong>(connections)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Method that maps connections from this composition&#39;s parent models to
this composition&#39;s own interface</p>

<p>It is called as needed when calling <span class='object_link'><a href="#each_explicit_connection-instance_method" title="Syskit::Models::Composition#each_explicit_connection (method)">#each_explicit_connection</a></span></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_promote_explicit_connection'>promote_explicit_connection</span><span class='lparen'>(</span><span class='id identifier rubyid_connections'>connections</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_children'>children</span><span class='comma'>,</span> <span class='id identifier rubyid_mappings'>mappings</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_connections'>connections</span>

    <span class='id identifier rubyid_mappings_out'>mappings_out</span> <span class='op'>=</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_child_out'>child_out</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span><span class='lbracket'>[</span><span class='id identifier rubyid_children'>children</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_child_out'>child_out</span><span class='period'>.</span><span class='id identifier rubyid_port_mappings'>port_mappings</span>
        <span class='kw'>else</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
        <span class='kw'>end</span>
    <span class='id identifier rubyid_mappings_in'>mappings_in</span> <span class='op'>=</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_child_in'>child_in</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span><span class='lbracket'>[</span><span class='id identifier rubyid_children'>children</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_child_in'>child_in</span><span class='period'>.</span><span class='id identifier rubyid_port_mappings'>port_mappings</span>
        <span class='kw'>else</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
        <span class='kw'>end</span>

    <span class='id identifier rubyid_mapped'>mapped</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_mappings'>mappings</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='lparen'>(</span><span class='id identifier rubyid_port_name_out'>port_name_out</span><span class='comma'>,</span> <span class='id identifier rubyid_port_name_in'>port_name_in</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>|</span>
        <span class='id identifier rubyid_port_name_out'>port_name_out</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_mappings_out'>mappings_out</span><span class='lbracket'>[</span><span class='id identifier rubyid_port_name_out'>port_name_out</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_port_name_out'>port_name_out</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_port_name_in'>port_name_in</span>  <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_mappings_in'>mappings_in</span><span class='lbracket'>[</span><span class='id identifier rubyid_port_name_in'>port_name_in</span><span class='rbracket'>]</span>   <span class='op'>||</span> <span class='id identifier rubyid_port_name_in'>port_name_in</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_mapped'>mapped</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='id identifier rubyid_port_name_out'>port_name_out</span><span class='comma'>,</span> <span class='id identifier rubyid_port_name_in'>port_name_in</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>
    <span class='kw'>end</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_children'>children</span><span class='comma'>,</span> <span class='id identifier rubyid_mapped'>mapped</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="promote_exported_input-instance_method">
  
    #<strong>promote_exported_input</strong>(export_name, port)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Method that maps exports from this composition&#39;s parent models to this
composition&#39;s own interface</p>

<p>It is called as needed when calling <span class='object_link'><a href="#each_exported_input-instance_method" title="Syskit::Models::Composition#each_exported_input (method)">#each_exported_input</a></span></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1188
1189
1190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1188</span>

<span class='kw'>def</span> <span class='id identifier rubyid_promote_exported_input'>promote_exported_input</span><span class='lparen'>(</span><span class='id identifier rubyid_export_name'>export_name</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_exported_inputs'>exported_inputs</span><span class='lbracket'>[</span><span class='id identifier rubyid_export_name'>export_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_promote_exported_port'>promote_exported_port</span><span class='lparen'>(</span><span class='id identifier rubyid_export_name'>export_name</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="promote_exported_output-instance_method">
  
    #<strong>promote_exported_output</strong>(export_name, port)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Method that maps exports from this composition&#39;s parent models to this
composition&#39;s own interface</p>

<p>It is called as needed when calling <span class='object_link'><a href="#each_exported_output-instance_method" title="Syskit::Models::Composition#each_exported_output (method)">#each_exported_output</a></span></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1173
1174
1175</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1173</span>

<span class='kw'>def</span> <span class='id identifier rubyid_promote_exported_output'>promote_exported_output</span><span class='lparen'>(</span><span class='id identifier rubyid_export_name'>export_name</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_exported_outputs'>exported_outputs</span><span class='lbracket'>[</span><span class='id identifier rubyid_export_name'>export_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_promote_exported_port'>promote_exported_port</span><span class='lparen'>(</span><span class='id identifier rubyid_export_name'>export_name</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="promote_exported_port-instance_method">
  
    #<strong>promote_exported_port</strong>(export_name, port)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Helper method for <span class='object_link'><a href="#promote_exported_output-instance_method" title="Syskit::Models::Composition#promote_exported_output (method)">#promote_exported_output</a></span> and <span class='object_link'><a href="#promote_exported_input-instance_method" title="Syskit::Models::Composition#promote_exported_input (method)">#promote_exported_input</a></span></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1157</span>

<span class='kw'>def</span> <span class='id identifier rubyid_promote_exported_port'>promote_exported_port</span><span class='lparen'>(</span><span class='id identifier rubyid_export_name'>export_name</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_new_child'>new_child</span> <span class='op'>=</span> <span class='id identifier rubyid_children'>children</span><span class='lbracket'>[</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_new_port_name'>new_port_name</span> <span class='op'>=</span> <span class='id identifier rubyid_new_child'>new_child</span><span class='period'>.</span><span class='id identifier rubyid_port_mappings'>port_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_find_child'>find_child</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_find_port'><span class='object_link'><a href="../Coordination/Models/PortHandling.html#find_port-instance_method" title="Syskit::Coordination::Models::PortHandling#find_port (method)">find_port</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_new_port_name'>new_port_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_port'>port</span>
        <span class='kw'>end</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_port'>port</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="root_model-instance_method">
  
    #<strong>root_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The root composition model in the specialization hierarchy</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 84</span>

<span class='kw'>def</span> <span class='id identifier rubyid_root_model'>root_model</span><span class='semicolon'>;</span> <span class='kw'>self</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setup_submodel-instance_method">
  
    #<strong>setup_submodel</strong>(submodel, register_specializations: true, **submodel_options, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new submodel of this composition model</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1127
1128
1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup_submodel'>setup_submodel</span><span class='lparen'>(</span><span class='id identifier rubyid_submodel'>submodel</span><span class='comma'>,</span> <span class='label'>register_specializations:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_submodel_options'>submodel_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_submodel'>submodel</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_submodel_options'>submodel_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_register_specializations'>register_specializations</span>
        <span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_each_specialization'>each_specialization</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>|</span>
            <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_applied_specializations'>applied_specializations</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_specialization_blocks'>specialization_blocks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_spec_block'>spec_block</span><span class='op'>|</span>
                <span class='id identifier rubyid_specialized_children'>specialized_children</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_specialized_children'>specialized_children</span><span class='period'>.</span><span class='id identifier rubyid_map_key'>map_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_child_model'>child_model</span><span class='op'>|</span>
                    <span class='id identifier rubyid_submodel'>submodel</span><span class='period'>.</span><span class='id identifier rubyid_find_child'>find_child</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rparen'>)</span>
                <span class='kw'>end</span>
                <span class='id identifier rubyid_submodel'>submodel</span><span class='period'>.</span><span class='id identifier rubyid_specialize'>specialize</span><span class='lparen'>(</span><span class='id identifier rubyid_specialized_children'>specialized_children</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_spec_block'>spec_block</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_submodel'>submodel</span><span class='period'>.</span><span class='id identifier rubyid_applied_specializations'>applied_specializations</span> <span class='op'>|=</span> <span class='id identifier rubyid_applied_specializations'>applied_specializations</span><span class='period'>.</span><span class='id identifier rubyid_to_set'>to_set</span>
    <span class='id identifier rubyid_submodel'>submodel</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="specializations-instance_method">
  
    #<strong>specializations</strong>  &#x21d2; <tt><span class='object_link'><a href="SpecializationManager.html" title="Syskit::Models::SpecializationManager (class)">SpecializationManager</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the object that manages all specializations defined on this
composition model</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="SpecializationManager.html" title="Syskit::Models::SpecializationManager (class)">SpecializationManager</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the object that manages all specializations defined on this composition
model</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 14</span>

<span class='id identifier rubyid_attribute'>attribute</span><span class='lparen'>(</span><span class='symbol'>:specializations</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'><span class='object_link'><a href="SpecializationManager.html" title="Syskit::Models::SpecializationManager (class)">SpecializationManager</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="SpecializationManager.html#initialize-instance_method" title="Syskit::Models::SpecializationManager#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="specialize-instance_method">
  
    #<strong>specialize</strong>(options = Hash.new, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a modification that should be applied on #composition_model
when select children fullfill some specific models.</p>


  </div>
</div>
<div class="tags">
  
  
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">not</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>If it is known that a specialization is in conflict with another, the :not
option can be used. For instance, in the following code, only two
specialization will exist: the one in which the Control child is a
SimpleController and the one in which it is a FourWheelController.</p>

<p>In the example below, if the :not option had not been used, three
specializations would have been added: the same two than above, and the one
case where &#39;Control&#39; fullfills both the SimpleController and
FourWheelController data services.</p>

<p>@example</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_specialize'>specialize</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Control</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'>SimpleController</span><span class='comma'>,</span> <span class='symbol'>:not</span> <span class='op'>=&gt;</span> <span class='const'>FourWheelController</span> <span class='kw'>do</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_specialize'>specialize</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Control</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'>FourWheelController</span><span class='comma'>,</span> <span class='symbol'>:not</span> <span class='op'>=&gt;</span> <span class='const'>SimpleController</span> <span class='kw'>do</span>
<span class='kw'>end</span>
</code></pre>
</div>
          
        </li>
      
    </ul>
  
    
    


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 109</span>

<span class='kw'>def</span> <span class='id identifier rubyid_specialize'>specialize</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_str</span><span class='rparen'>)</span>
        <span class='kw'>return</span> <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='kw'>return</span> <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_map_key'>map_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_str</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_sym</span><span class='rparen'>)</span>
            <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecated'>warn_deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>calling #specialize with child names is deprecated, use _child accessors instead (i.e. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'>_child here)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>5</span>
            <span class='id identifier rubyid_key'>key</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:child_name</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_specialize'>specialize</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="specialized_children-instance_method">
  
    #<strong>specialized_children</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:attr: specialized_children</p>

<p>The set of specializations that are applied from the root of the model
graph up to this model</p>

<p>It is empty for composition models that are not specializations</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 93</span>

<span class='id identifier rubyid_attribute'>attribute</span><span class='lparen'>(</span><span class='symbol'>:specialized_children</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="specialized_on?-instance_method">
  
    #<strong>specialized_on?</strong>(child_name, child_model)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>See CompositionSpecialization#specialized_on?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145
146</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 143</span>

<span class='kw'>def</span> <span class='id identifier rubyid_specialized_on?'>specialized_on?</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_child_model'>child_model</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_specialized_children'>specialized_children</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
        <span class='id identifier rubyid_specialized_children'>specialized_children</span><span class='lbracket'>[</span><span class='id identifier rubyid_child_name'>child_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_child_model'>child_model</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_dot-instance_method">
  
    #<strong>to_dot</strong>(io)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1040
1041
1042
1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053
1054
1055
1056
1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 1040</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_dot'>to_dot</span><span class='lparen'>(</span><span class='id identifier rubyid_io'>io</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_id'>id</span> <span class='op'>=</span> <span class='id identifier rubyid_object_id'>object_id</span><span class='period'>.</span><span class='id identifier rubyid_abs'>abs</span>

    <span class='id identifier rubyid_connections'>connections</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_sink'>sink</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='op'>|</span>
        <span class='id identifier rubyid_mappings'>mappings</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='lparen'>(</span><span class='id identifier rubyid_source_port'>source_port</span><span class='comma'>,</span> <span class='id identifier rubyid_sink_port'>sink_port</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span><span class='op'>|</span>
            <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source'>source</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source_port'>source_port</span><span class='embexpr_end'>}</span><span class='tstring_content'> -&gt; C</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sink'>sink</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sink_port'>sink_port</span><span class='embexpr_end'>}</span><span class='tstring_content'>;</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_is_specialization?'>is_specialization?</span>
        <span class='id identifier rubyid_specializations'>specializations</span> <span class='op'>=</span> <span class='id identifier rubyid_each_specialization'>each_specialization</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
        <span class='id identifier rubyid_specializations'>specializations</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span> <span class='id identifier rubyid_specialized_model'>specialized_model</span><span class='op'>|</span>
            <span class='id identifier rubyid_specialized_model'>specialized_model</span><span class='period'>.</span><span class='id identifier rubyid_to_dot'>to_dot</span><span class='lparen'>(</span><span class='id identifier rubyid_io'>io</span><span class='rparen'>)</span>

            <span class='id identifier rubyid_specialized_model'>specialized_model</span><span class='period'>.</span><span class='id identifier rubyid_parent_models'>parent_models</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parent_compositions'>parent_compositions</span><span class='op'>|</span>
                <span class='id identifier rubyid_parent_id'>parent_id</span> <span class='op'>=</span> <span class='id identifier rubyid_parent_compositions'>parent_compositions</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span>
                <span class='id identifier rubyid_specialized_id'>specialized_id</span> <span class='op'>=</span> <span class='id identifier rubyid_specialized_model'>specialized_model</span><span class='period'>.</span><span class='id identifier rubyid_object_id'>object_id</span>
                <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parent_id'>parent_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> -&gt; C</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_specialized_id'>specialized_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> [ltail=cluster_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parent_id'>parent_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> lhead=cluster_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_specialized_id'>specialized_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> weight=2];</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>subgraph cluster_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'> {</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  fontsize=18;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  C</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'> [style=invisible];</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_exported_inputs'>exported_inputs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_exported_outputs'>exported_outputs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_inputs'>inputs</span> <span class='op'>=</span> <span class='id identifier rubyid_exported_inputs'>exported_inputs</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span>
        <span class='id identifier rubyid_outputs'>outputs</span> <span class='op'>=</span> <span class='id identifier rubyid_exported_outputs'>exported_outputs</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span>
        <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Graphviz.html" title="Syskit::Graphviz (class)">Graphviz</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dot_iolabel'><span class='object_link'><a href="../Graphviz.html#dot_iolabel-class_method" title="Syskit::Graphviz.dot_iolabel (method)">dot_iolabel</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Composition Interface</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_inputs'>inputs</span><span class='comma'>,</span> <span class='id identifier rubyid_outputs'>outputs</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  Cinterface</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'> [label=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_label'>label</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;,color=blue,fontsize=15];</span><span class='tstring_end'>&quot;</span></span>
        
        <span class='id identifier rubyid_exported_outputs'>exported_outputs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_exported_name'>exported_name</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='op'>|</span>
            <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> -&gt; Cinterface</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_exported_name'>exported_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> [style=dashed];</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_exported_inputs'>exported_inputs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_exported_name'>exported_name</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='op'>|</span>
            <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cinterface</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_exported_name'>exported_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> -&gt; C</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_child_name'>child_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> [style=dashed];</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_short_name'>short_name</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_provides'>provides</span> <span class='op'>=</span> <span class='id identifier rubyid_each_data_service'>each_data_service</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_abstract?'>abstract?</span>
        <span class='id identifier rubyid_label'>label</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Abstract</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_provides'>provides</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_label'>label</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Provides:</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_provides'>provides</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  label=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;;</span><span class='tstring_end'>&quot;</span></span>
    <span class='comment'># io &lt;&lt; &quot;  label=\&quot;#{model.name}\&quot;;&quot;
</span>    <span class='comment'># io &lt;&lt; &quot;  C#{id} [style=invisible];&quot;
</span>    <span class='id identifier rubyid_each_child'>each_child</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child_name'>child_name</span><span class='comma'>,</span> <span class='id identifier rubyid_child_definition'>child_definition</span><span class='op'>|</span>
        <span class='id identifier rubyid_child_model'>child_model</span> <span class='op'>=</span> <span class='id identifier rubyid_child_definition'>child_definition</span><span class='period'>.</span><span class='id identifier rubyid_each_required_model'>each_required_model</span>

        <span class='id identifier rubyid_task_label'>task_label</span> <span class='op'>=</span> <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:short_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_task_label'>task_label</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child_name'>child_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task_label'>task_label</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_inputs'>inputs</span> <span class='op'>=</span> <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_each_input_port'>each_input_port</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:name</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span>
            <span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:concat</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
        <span class='id identifier rubyid_outputs'>outputs</span> <span class='op'>=</span> <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_each_output_port'>each_output_port</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:name</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span>
            <span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:concat</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
        <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Graphviz.html" title="Syskit::Graphviz (class)">Graphviz</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dot_iolabel'><span class='object_link'><a href="../Graphviz.html#dot_iolabel-class_method" title="Syskit::Graphviz.dot_iolabel (method)">dot_iolabel</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_task_label'>task_label</span><span class='comma'>,</span> <span class='id identifier rubyid_inputs'>inputs</span><span class='comma'>,</span> <span class='id identifier rubyid_outputs'>outputs</span><span class='rparen'>)</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_child_model'>child_model</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Component.html" title="Syskit::Models::Component (module)">Component</a></span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_abstract?'>abstract?</span> <span class='rbrace'>}</span>
            <span class='id identifier rubyid_color'>color</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, color=\&quot;red\&quot;</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  C</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child_name'>child_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> [label=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_label'>label</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_color'>color</span><span class='embexpr_end'>}</span><span class='tstring_content'>,fontsize=15];</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_io'>io</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="try_resolve_child_references_in_use_flags-instance_method">
  
    #<strong>try_resolve_child_references_in_use_flags</strong>(self_task, selected_child)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Resolves references to other children in a child&#39;s use flags</p>

<p>This updates the selected_child requirements to replace CompositionChild
object by the actual task instance.</p>

<p>otherwise</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>self_task</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Syskit::Models::Composition (module)">Composition</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the task that represents the composition itself</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>selected_child</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../InstanceSelection.html" title="Syskit::InstanceSelection (class)">InstanceSelection</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the requirements that are meant to be updated</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if all references could be updated, false</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


850
851
852
853
854
855
856
857
858
859
860
861
862
863</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 850</span>

<span class='kw'>def</span> <span class='id identifier rubyid_try_resolve_child_references_in_use_flags'>try_resolve_child_references_in_use_flags</span><span class='lparen'>(</span><span class='id identifier rubyid_self_task'>self_task</span><span class='comma'>,</span> <span class='id identifier rubyid_selected_child'>selected_child</span><span class='rparen'>)</span>
    <span class='comment'># Check if selected_child points to another child of
</span>    <span class='comment'># self, and if it is the case, make sure it is available
</span>    <span class='id identifier rubyid_selected_child'>selected_child</span><span class='period'>.</span><span class='id identifier rubyid_map_use_selections!'>map_use_selections!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sel'>sel</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_sel'>sel</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CompositionChild.html" title="Syskit::Models::CompositionChild (class)">CompositionChild</a></span></span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_task'>task</span> <span class='op'>=</span> <span class='id identifier rubyid_sel'>sel</span><span class='period'>.</span><span class='id identifier rubyid_try_resolve_and_bind_child_recursive'>try_resolve_and_bind_child_recursive</span><span class='lparen'>(</span><span class='id identifier rubyid_self_task'>self_task</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_task'>task</span>
            <span class='kw'>else</span> <span class='kw'>return</span>
            <span class='kw'>end</span>
        <span class='kw'>else</span> <span class='id identifier rubyid_sel'>sel</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use-instance_method">
  
    #<strong>use</strong>(*spec)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns this composition associated with dependency injection information</p>

<p>For instance,</p>

<pre class="code ruby"><code class="ruby"><span class='const'>CorridorServoing</span><span class='period'>.</span>
    <span class='id identifier rubyid_use'>use</span><span class='lparen'>(</span><span class='const'>Odometry</span><span class='period'>.</span><span class='id identifier rubyid_use'>use</span><span class='lparen'>(</span><span class='const'>XsensImu</span><span class='op'>::</span><span class='const'>Task</span><span class='rparen'>)</span><span class='rparen'>)</span>
</code></pre>

<p>(see InstanceRequirements#use)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


748
749
750</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/models/composition.rb', line 748</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use'>use</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../InstanceRequirements.html" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../InstanceRequirements.html#initialize-instance_method" title="Syskit::InstanceRequirements#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_use'><span class='object_link'><a href="../InstanceRequirements.html#use-instance_method" title="Syskit::InstanceRequirements#use (method)">use</a></span></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 21:51:10 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>