<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Syskit::Test::Spec
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Syskit::Test::Spec";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Test.html" title="Syskit::Test (module)">Test</a></span></span>
     &raquo; 
    <span class="title">Spec</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Syskit::Test::Spec
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Roby::Test::Spec</span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Roby::Test::Spec</li>
          
            <li class="next">Syskit::Test::Spec</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Base.html" title="Syskit::Test::Base (module)">Base</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/syskit/test/spec.rb</dd>
  </dl>
  
</div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="ActionInterfaceTest.html" title="Syskit::Test::ActionInterfaceTest (class)">ActionInterfaceTest</a></span>, <span class='object_link'><a href="ActionTest.html" title="Syskit::Test::ActionTest (class)">ActionTest</a></span>, <span class='object_link'><a href="ComponentTest.html" title="Syskit::Test::ComponentTest (class)">ComponentTest</a></span>, <span class='object_link'><a href="ProfileTest.html" title="Syskit::Test::ProfileTest (class)">ProfileTest</a></span></p>
</div>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subject_syskit_model-class_method" title="subject_syskit_model (class method)">.<strong>subject_syskit_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the syskit model under test.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_syskit_model-class_method" title="use_syskit_model (class method)">.<strong>use_syskit_model</strong>(model)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Override the task model that should by default in tests such as
#is_configurable.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#plan-instance_method" title="#plan (instance method)">#<strong>plan</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup-instance_method" title="#setup (instance method)">#<strong>setup</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subject_syskit_model-instance_method" title="#subject_syskit_model (instance method)">#<strong>subject_syskit_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the syskit model under test.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#syskit_stub_attached_device_model-instance_method" title="#syskit_stub_attached_device_model (instance method)">#<strong>syskit_stub_attached_device_model</strong>(bus_m, dev_name = &#39;dev&#39;)  &#x21d2; Syskit::Component </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a stub device task attached to a given communication bus.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#syskit_stub_driver_model-instance_method" title="#syskit_stub_driver_model (instance method)">#<strong>syskit_stub_driver_model</strong>(dev_m, options = Hash.new)  &#x21d2; Syskit::Component </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a stub driver model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#teardown-instance_method" title="#teardown (instance method)">#<strong>teardown</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#teardown_registered_plans-instance_method" title="#teardown_registered_plans (instance method)">#<strong>teardown_registered_plans</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Base.html" title="Syskit::Test::Base (module)">Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Base.html#assert_has_no_new_sample-instance_method" title="Syskit::Test::Base#assert_has_no_new_sample (method)">#assert_has_no_new_sample</a></span>, <span class='object_link'><a href="Base.html#assert_has_one_new_sample-instance_method" title="Syskit::Test::Base#assert_has_one_new_sample (method)">#assert_has_one_new_sample</a></span>, <span class='object_link'><a href="Base.html#plug_connection_management-instance_method" title="Syskit::Test::Base#plug_connection_management (method)">#plug_connection_management</a></span>, <span class='object_link'><a href="Base.html#plug_requirement_modifications-instance_method" title="Syskit::Test::Base#plug_requirement_modifications (method)">#plug_requirement_modifications</a></span>, <span class='object_link'><a href="Base.html#stub_type-instance_method" title="Syskit::Test::Base#stub_type (method)">#stub_type</a></span>, <span class='object_link'><a href="Base.html#unplug_connection_management-instance_method" title="Syskit::Test::Base#unplug_connection_management (method)">#unplug_connection_management</a></span>, <span class='object_link'><a href="Base.html#unplug_requirement_modifications-instance_method" title="Syskit::Test::Base#unplug_requirement_modifications (method)">#unplug_requirement_modifications</a></span></p>

  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="subject_syskit_model-class_method">
  
    .<strong>subject_syskit_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the syskit model under test</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84
85
86
87
88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/test/spec.rb', line 82</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_subject_syskit_model'>subject_syskit_model</span>
    <span class='kw'>if</span> <span class='ivar'>@subject_syskit_model</span>
        <span class='kw'>return</span> <span class='ivar'>@subject_syskit_model</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_superclass'>superclass</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:subject_syskit_model</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_subject_syskit_model'>subject_syskit_model</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no subject syskit model found</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_syskit_model-class_method">
  
    .<strong>use_syskit_model</strong>(model)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Override the task model that should by default in tests such as
#is_configurable. This is used mainly in case the task model under test
is abstract</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/test/spec.rb', line 70</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_use_syskit_model'>use_syskit_model</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
    <span class='ivar'>@subject_syskit_model</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="plan-instance_method">
  
    #<strong>plan</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/test/spec.rb', line 132</span>

<span class='kw'>def</span> <span class='id identifier rubyid_plan'>plan</span><span class='semicolon'>;</span> <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_plan'>plan</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setup-instance_method">
  
    #<strong>setup</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37
38
39
40
41
42
43</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/test/spec.rb', line 34</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup'><span class='object_link'><a href="../RobyApp/Plugin.html#setup-class_method" title="Syskit::RobyApp::Plugin.setup (method)">setup</a></span></span>
    <span class='const'><span class='object_link'><a href="../NetworkGeneration.html" title="Syskit::NetworkGeneration (module)">NetworkGeneration</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../NetworkGeneration/Engine.html" title="Syskit::NetworkGeneration::Engine (class)">Engine</a></span></span><span class='period'>.</span><span class='id identifier rubyid_on_error'><span class='object_link'><a href="../NetworkGeneration/Engine.html#on_error-class_method" title="Syskit::NetworkGeneration::Engine.on_error (method)">on_error</a></span></span> <span class='op'>=</span> <span class='symbol'>:save</span>
    <span class='id identifier rubyid_unplug_requirement_modifications'>unplug_requirement_modifications</span>
    <span class='id identifier rubyid_loader'>loader</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../OroGen.html" title="OroGen (module)">OroGen</a></span></span><span class='op'>::</span><span class='const'>Loaders</span><span class='op'>::</span><span class='const'>Base</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_default_loader'>default_loader</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_conf'><span class='object_link'><a href="../../Syskit.html#conf-class_method" title="Syskit.conf (method)">conf</a></span></span><span class='period'>.</span><span class='id identifier rubyid_register_process_server'>register_process_server</span><span class='lparen'>(</span>
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stubs</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>RubyTasks</span><span class='op'>::</span><span class='const'>ProcessManager</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_loader'>loader</span><span class='comma'>,</span> <span class='label'>task_context_class:</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>RubyTasks</span><span class='op'>::</span><span class='const'>StubTaskContext</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>host_id:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>syskit</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>super</span>
    <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_conf'><span class='object_link'><a href="../../Syskit.html#conf-class_method" title="Syskit.conf (method)">conf</a></span></span><span class='period'>.</span><span class='id identifier rubyid_logs'>logs</span><span class='period'>.</span><span class='id identifier rubyid_disable_conf_logging'>disable_conf_logging</span>
    <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_conf'><span class='object_link'><a href="../../Syskit.html#conf-class_method" title="Syskit.conf (method)">conf</a></span></span><span class='period'>.</span><span class='id identifier rubyid_logs'>logs</span><span class='period'>.</span><span class='id identifier rubyid_disable_port_logging'>disable_port_logging</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subject_syskit_model-instance_method">
  
    #<strong>subject_syskit_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the syskit model under test</p>

<p>It is delegated to self.class.subject_syskit_model by default</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/test/spec.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subject_syskit_model'>subject_syskit_model</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_subject_syskit_model'>subject_syskit_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="syskit_stub_attached_device_model-instance_method">
  
    #<strong>syskit_stub_attached_device_model</strong>(bus_m, dev_name = &#39;dev&#39;)  &#x21d2; <tt><span class='object_link'><a href="../Component.html" title="Syskit::Component (class)">Syskit::Component</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a stub device task attached to a given communication bus</p>

<p>This is meant to be used to test the integration of specific com busses.
The driver task from the communication bus is expected to exist, while the
driver task for the device is stubbed as well.</p>

<p>The bus is called &#39;bus&#39;</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dev_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;dev&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name of the created device</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Component.html" title="Syskit::Component (class)">Syskit::Component</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the device driver task</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


116
117
118
119
120
121
122
123
124
125
126
127
128
129
130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/test/spec.rb', line 116</span>

<span class='kw'>def</span> <span class='id identifier rubyid_syskit_stub_attached_device_model'>syskit_stub_attached_device_model</span><span class='lparen'>(</span><span class='id identifier rubyid_bus_m'>bus_m</span><span class='comma'>,</span> <span class='id identifier rubyid_dev_name'>dev_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dev</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_robot'>robot</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Robot.html" title="Syskit::Robot (module)">Robot</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Robot/RobotDefinition.html" title="Syskit::Robot::RobotDefinition (class)">RobotDefinition</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Robot/RobotDefinition.html#initialize-instance_method" title="Syskit::Robot::RobotDefinition#initialize (method)">new</a></span></span>
    <span class='id identifier rubyid_dev_m'>dev_m</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Device.html" title="Syskit::Device (module)">Device</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new_submodel'>new_submodel</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>StubDevice</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_driver_m'>driver_m</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new_submodel'><span class='object_link'><a href="../Models/TaskContext.html#new_submodel-instance_method" title="Syskit::Models::TaskContext#new_submodel (method)">new_submodel</a></span></span><span class='lparen'>(</span><span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>StubDriver</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_input_port'>input_port</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bus_in</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_bus_m'>bus_m</span><span class='period'>.</span><span class='id identifier rubyid_message_type'>message_type</span>
        <span class='id identifier rubyid_output_port'>output_port</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bus_out</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_bus_m'>bus_m</span><span class='period'>.</span><span class='id identifier rubyid_message_type'>message_type</span>
        <span class='id identifier rubyid_provides'>provides</span> <span class='id identifier rubyid_bus_m'>bus_m</span><span class='period'>.</span><span class='id identifier rubyid_client_srv'>client_srv</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>can</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_driver_for'>driver_for</span> <span class='id identifier rubyid_dev_m'>dev_m</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dev</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_stub_syskit_deployment_model'>stub_syskit_deployment_model</span><span class='lparen'>(</span><span class='id identifier rubyid_driver_m'>driver_m</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>driver_task</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_bus'>bus</span> <span class='op'>=</span> <span class='id identifier rubyid_robot'>robot</span><span class='period'>.</span><span class='id identifier rubyid_com_bus'>com_bus</span> <span class='id identifier rubyid_bus_m'>bus_m</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bus</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_stub_syskit_deployment_model'>stub_syskit_deployment_model</span><span class='lparen'>(</span><span class='id identifier rubyid_bus'>bus</span><span class='period'>.</span><span class='id identifier rubyid_driver_model'>driver_model</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bus_task</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_robot'>robot</span><span class='period'>.</span><span class='id identifier rubyid_device'>device</span><span class='lparen'>(</span><span class='id identifier rubyid_dev_m'>dev_m</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_dev_name'>dev_name</span><span class='rparen'>)</span><span class='period'>.</span>
        <span class='id identifier rubyid_attach_to'>attach_to</span><span class='lparen'>(</span><span class='id identifier rubyid_bus'>bus</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="syskit_stub_driver_model-instance_method">
  
    #<strong>syskit_stub_driver_model</strong>(dev_m, options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="../Component.html" title="Syskit::Component (class)">Syskit::Component</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a stub driver model</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dev_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the created device</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Component.html" title="Syskit::Component (class)">Syskit::Component</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the device driver task</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/test/spec.rb', line 98</span>

<span class='kw'>def</span> <span class='id identifier rubyid_syskit_stub_driver_model'>syskit_stub_driver_model</span><span class='lparen'>(</span><span class='id identifier rubyid_dev_m'>dev_m</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_robot'>robot</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Robot.html" title="Syskit::Robot (module)">Robot</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Robot/RobotDefinition.html" title="Syskit::Robot::RobotDefinition (class)">RobotDefinition</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Robot/RobotDefinition.html#initialize-instance_method" title="Syskit::Robot::RobotDefinition#initialize (method)">new</a></span></span>
    <span class='id identifier rubyid_device'>device</span> <span class='op'>=</span> <span class='id identifier rubyid_robot'>robot</span><span class='period'>.</span><span class='id identifier rubyid_device'>device</span><span class='lparen'>(</span><span class='id identifier rubyid_dev_m'>dev_m</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_task_srv'>task_srv</span> <span class='op'>=</span> <span class='id identifier rubyid_device'>device</span><span class='period'>.</span><span class='id identifier rubyid_driver_model'>driver_model</span>
    <span class='id identifier rubyid_stub_syskit_deployment_model'>stub_syskit_deployment_model</span><span class='lparen'>(</span><span class='id identifier rubyid_task_srv'>task_srv</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='comma'>,</span> <span class='id identifier rubyid_device'>device</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_task_srv'>task_srv</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='period'>.</span><span class='id identifier rubyid_with_arguments'>with_arguments</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task_srv'>task_srv</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_dev</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_device'>device</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="teardown-instance_method">
  
    #<strong>teardown</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/test/spec.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_teardown'><span class='object_link'><a href="NetworkManipulation.html#teardown-instance_method" title="Syskit::Test::NetworkManipulation#teardown (method)">teardown</a></span></span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_passed?'>passed?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_public_logs?'>public_logs?</span>
        <span class='id identifier rubyid_dataflow'>dataflow</span><span class='comma'>,</span> <span class='id identifier rubyid_hierarchy'>hierarchy</span> <span class='op'>=</span> <span class='id identifier rubyid___full_name__'>__full_name__</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-partial-dataflow.svg</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid___full_name__'>__full_name__</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-partial-hierarchy.svg</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_dataflow'>dataflow</span><span class='comma'>,</span> <span class='id identifier rubyid_hierarchy'>hierarchy</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_dataflow'>dataflow</span><span class='comma'>,</span> <span class='id identifier rubyid_hierarchy'>hierarchy</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_filename'>filename</span><span class='op'>|</span>
            <span class='id identifier rubyid_filename'>filename</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='const'><span class='object_link'><a href="../Graphviz.html" title="Syskit::Graphviz (class)">Graphviz</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Graphviz.html#initialize-instance_method" title="Syskit::Graphviz#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_file'><span class='object_link'><a href="../Graphviz.html#to_file-instance_method" title="Syskit::Graphviz#to_file (method)">to_file</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dataflow</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>svg</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_dataflow'>dataflow</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="../Graphviz.html" title="Syskit::Graphviz (class)">Graphviz</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Graphviz.html#initialize-instance_method" title="Syskit::Graphviz#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_file'><span class='object_link'><a href="../Graphviz.html#to_file-instance_method" title="Syskit::Graphviz#to_file (method)">to_file</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hierarchy</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>svg</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_hierarchy'>hierarchy</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>super</span>

<span class='kw'>ensure</span>
    <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_conf'><span class='object_link'><a href="../../Syskit.html#conf-class_method" title="Syskit.conf (method)">conf</a></span></span><span class='period'>.</span><span class='id identifier rubyid_remove_process_server'>remove_process_server</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stubs</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="teardown_registered_plans-instance_method">
  
    #<strong>teardown_registered_plans</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/test/spec.rb', line 61</span>

<span class='kw'>def</span> <span class='id identifier rubyid_teardown_registered_plans'>teardown_registered_plans</span>
    <span class='kw'>super</span>
    <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Syskit.html#RequiredDataFlow-constant" title="Syskit::RequiredDataFlow (constant)">RequiredDataFlow</a></span></span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='const'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Syskit.html#ActualDataFlow-constant" title="Syskit::ActualDataFlow (constant)">ActualDataFlow</a></span></span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 21:52:51 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>