<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Syskit::InstanceSelection
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Syskit::InstanceSelection";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (I)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span>
     &raquo; 
    <span class="title">InstanceSelection</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Syskit::InstanceSelection
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Syskit::InstanceSelection</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/syskit/instance_selection.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A representation of a selection matching a given requirement</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Models/FacetedAccess.html" title="Syskit::Models::FacetedAccess (class)">Models::FacetedAccess</a></span></p>
</div>




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#component-instance_method" title="#component (instance method)">#<strong>component</strong>  &#x21d2; Syskit::Component </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The selected task, if one is specified explicitly.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#required-instance_method" title="#required (instance method)">#<strong>required</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><dl class="rdoc-list label-list"><dt>InstanceRequirements
<dd>
<p>the required instance.</p>
</dd></dl>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#selected-instance_method" title="#selected (instance method)">#<strong>selected</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><dl class="rdoc-list label-list"><dt>InstanceRequirements
<dd>
<p>the selected instance.</p>
</dd></dl>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#service_selection-instance_method" title="#service_selection (instance method)">#<strong>service_selection</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><dl class="rdoc-list label-list"><dt>=&gt; Models::BoundDataService
<dd>
<p>a mapping from the services in <span class='object_link'><a href="#required-instance_method" title="Syskit::InstanceSelection#required (method)">#required</a></span> to the services of
<span class='object_link'><a href="#component_model-instance_method" title="Syskit::InstanceSelection#component_model (method)">#component_model</a></span>.</p>
</dd></dl>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compute_service_selection-class_method" title="compute_service_selection (class method)">.<strong>compute_service_selection</strong>(selected, required, mappings)  &#x21d2; {Model&lt;DataService&gt;=&gt;Models::BoundDataService} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Computes the service selection that will allow to replace a placeholder
representing the required models by the given component model.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#autoselect_service_if_needed-instance_method" title="#autoselect_service_if_needed (instance method)">#<strong>autoselect_service_if_needed</strong>(selected, required, mappings)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bind-instance_method" title="#bind (instance method)">#<strong>bind</strong>(task)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#component_model-instance_method" title="#component_model (instance method)">#<strong>component_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the selected component model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_fullfilled_model-instance_method" title="#each_fullfilled_model (instance method)">#<strong>each_fullfilled_model</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fullfills%3F-instance_method" title="#fullfills? (instance method)">#<strong>fullfills?</strong>(set)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(component = nil, selected = InstanceRequirements.new([Component]), required = InstanceRequirements.new, mappings = Hash.new)  &#x21d2; InstanceSelection </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of InstanceSelection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(old)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instanciate-instance_method" title="#instanciate (instance method)">#<strong>instanciate</strong>(plan, context = Syskit::DependencyInjectionContext.new, options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If this selection does not yet have an associated task, instanciate one.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#port_mappings-instance_method" title="#port_mappings (instance method)">#<strong>port_mappings</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Compute the combined port mappings given the service selection in
<span class='object_link'><a href="#service_selection-instance_method" title="Syskit::InstanceSelection#service_selection (method)">#service_selection</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pretty_print-instance_method" title="#pretty_print (instance method)">#<strong>pretty_print</strong>(pp)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#selected_model-instance_method" title="#selected_model (instance method)">#<strong>selected_model</strong>  &#x21d2; BoundDataService, ... </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the simplest model representation for <span class='object_link'><a href="#selected-instance_method" title="Syskit::InstanceSelection#selected (method)">#selected</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(component = nil, selected = InstanceRequirements.new([Component]), required = InstanceRequirements.new, mappings = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="" title="Syskit::InstanceSelection (class)">InstanceSelection</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of InstanceSelection</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 20</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_component'>component</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="InstanceRequirements.html" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InstanceRequirements.html#initialize-instance_method" title="Syskit::InstanceRequirements#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_required'>required</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="InstanceRequirements.html" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InstanceRequirements.html#initialize-instance_method" title="Syskit::InstanceRequirements#initialize (method)">new</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_mappings'>mappings</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='ivar'>@component</span> <span class='op'>=</span> <span class='id identifier rubyid_component'>component</span>

    <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='ivar'>@selected</span> <span class='op'>=</span> <span class='id identifier rubyid_autoselect_service_if_needed'>autoselect_service_if_needed</span><span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span><span class='comma'>,</span> <span class='id identifier rubyid_required'>required</span><span class='comma'>,</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_required'>required</span> <span class='op'>=</span> <span class='ivar'>@required</span> <span class='op'>=</span> <span class='id identifier rubyid_required'>required</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@service_selection</span> <span class='op'>=</span>
        <span class='const'><span class='object_link'><a href="" title="Syskit::InstanceSelection (class)">InstanceSelection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_compute_service_selection'><span class='object_link'><a href="#compute_service_selection-class_method" title="Syskit::InstanceSelection.compute_service_selection (method)">compute_service_selection</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span><span class='comma'>,</span> <span class='id identifier rubyid_required'>required</span><span class='comma'>,</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="component-instance_method">
  
    #<strong>component</strong>  &#x21d2; <tt><span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Syskit::Component</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The selected task, if one is specified explicitly</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Syskit::Component</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 7</span>

<span class='kw'>def</span> <span class='id identifier rubyid_component'>component</span>
  <span class='ivar'>@component</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="required-instance_method">
  
    #<strong>required</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <dl class="rdoc-list label-list"><dt>InstanceRequirements
<dd>
<p>the required instance</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_required'>required</span>
  <span class='ivar'>@required</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="selected-instance_method">
  
    #<strong>selected</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <dl class="rdoc-list label-list"><dt>InstanceRequirements
<dd>
<p>the selected instance. It can only refer to</p>
</dd></dl>

<p>a single component model. This model is available with <span class='object_link'><a href="#component_model-instance_method" title="Syskit::InstanceSelection#component_model (method)">#component_model</a></span></p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#selected_model-instance_method" title="Syskit::InstanceSelection#selected_model (method)">#selected_model</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 15</span>

<span class='kw'>def</span> <span class='id identifier rubyid_selected'>selected</span>
  <span class='ivar'>@selected</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="service_selection-instance_method">
  
    #<strong>service_selection</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <dl class="rdoc-list label-list"><dt>=&gt; Models::BoundDataService
<dd>
<p>a mapping from</p>
</dd></dl>

<p>the services in <span class='object_link'><a href="#required-instance_method" title="Syskit::InstanceSelection#required (method)">#required</a></span> to the services of <span class='object_link'><a href="#component_model-instance_method" title="Syskit::InstanceSelection#component_model (method)">#component_model</a></span>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_service_selection'>service_selection</span>
  <span class='ivar'>@service_selection</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="compute_service_selection-class_method">
  
    .<strong>compute_service_selection</strong>(selected, required, mappings)  &#x21d2; <tt>{Model&lt;<span class='object_link'><a href="DataService.html" title="Syskit::DataService (module)">DataService</a></span>&gt;=&gt;<span class='object_link'><a href="Models/BoundDataService.html" title="Syskit::Models::BoundDataService (class)">Models::BoundDataService</a></span>}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Computes the service selection that will allow to replace a placeholder
representing the required models by the given component model. The
additional mappings are only used as hints.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>component_m</span>
      
      
        <span class='type'>(<tt>Model&lt;<span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the component model</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>required</span>
      
      
        <span class='type'>(<tt>Array&lt;Model&lt;<span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span>&gt;,Model&lt;<span class='object_link'><a href="DataService.html" title="Syskit::DataService (module)">DataService</a></span>&gt;&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the set of models that are required</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mappings</span>
      
      
        <span class='type'>(<tt>{Model&lt;<span class='object_link'><a href="DataService.html" title="Syskit::DataService (module)">DataService</a></span>&gt;=&gt;<span class='object_link'><a href="Models/BoundDataService.html" title="Syskit::Models::BoundDataService (class)">Models::BoundDataService</a></span>}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a mapping from data service models to the corresponding selected model on
the component model</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>{Model&lt;<span class='object_link'><a href="DataService.html" title="Syskit::DataService (module)">DataService</a></span>&gt;=&gt;<span class='object_link'><a href="Models/BoundDataService.html" title="Syskit::Models::BoundDataService (class)">Models::BoundDataService</a></span>}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the mapping from the data service models in required_models to the
corresponding bound data services in component_m</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if a service in mappings is either not a service of component_model, or
does not fullfill the data service it is selected for</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>AmbiguousServiceSelection if multiple services exist with that type</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 99</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_compute_service_selection'>compute_service_selection</span><span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span><span class='comma'>,</span> <span class='id identifier rubyid_required'>required</span><span class='comma'>,</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mappings'>mappings</span> <span class='op'>=</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span>
        <span class='comment'># Save this selection explicitly
</span>        <span class='id identifier rubyid_mappings'>mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_selected_component_model'>selected_component_model</span> <span class='op'>=</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span>
    <span class='id identifier rubyid_required_component_model'>required_component_model</span><span class='comma'>,</span> <span class='id identifier rubyid_required_service_models'>required_service_models</span> <span class='op'>=</span>
        <span class='id identifier rubyid_required'>required</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span></span><span class='comma'>,</span>
        <span class='id identifier rubyid_required'>required</span><span class='period'>.</span><span class='id identifier rubyid_each_required_service_model'>each_required_service_model</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>

    <span class='id identifier rubyid_mappings'>mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_required_component_model'>required_component_model</span><span class='rbracket'>]</span> <span class='op'>=</span>
        <span class='id identifier rubyid_selected_component_model'>selected_component_model</span>

    <span class='id identifier rubyid_required_service_models'>required_service_models</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_required_m'>required_m</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_selected_m'>selected_m</span> <span class='op'>=</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_required_m'>required_m</span><span class='rbracket'>]</span>
            <span class='comment'># Verify that it is of the right type
</span>            <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_selected_component_model'>selected_component_model</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_selected_m'>selected_m</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_selected_m'>selected_m</span><span class='embexpr_end'>}</span><span class='tstring_content'> was explicitly selected for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_required_m'>required_m</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but is not a service of the selected component model </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_selected_component_model'>selected_component_model</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_selected_m'>selected_m</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_required_m'>required_m</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_selected_m'>selected_m</span><span class='embexpr_end'>}</span><span class='tstring_content'> was explicitly selected for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_required_m'>required_m</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but does not provide it</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_mappings'>mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_required_m'>required_m</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_m'>selected_m</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='id identifier rubyid_selected_component_model'>selected_component_model</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_selected_m'>selected_m</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_component_model'>selected_component_model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service_from_type'>find_data_service_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_required_m'>required_m</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_selected_m'>selected_m</span>
                <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>selected model </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_selected'>selected</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not provide required service </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_required_m'>required_m</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_mappings'>mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_required_m'>required_m</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_m'>selected_m</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_mappings'>mappings</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="autoselect_service_if_needed-instance_method">
  
    #<strong>autoselect_service_if_needed</strong>(selected, required, mappings)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 46</span>

<span class='kw'>def</span> <span class='id identifier rubyid_autoselect_service_if_needed'>autoselect_service_if_needed</span><span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span><span class='comma'>,</span> <span class='id identifier rubyid_required'>required</span><span class='comma'>,</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span> <span class='kw'>if</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_required_srv'>required_srv</span> <span class='op'>=</span> <span class='id identifier rubyid_required'>required</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_srv'>srv</span> <span class='op'>=</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service'>find_data_service</span><span class='lparen'>(</span><span class='id identifier rubyid_required_srv'>required_srv</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_srv'>srv</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_required'>required</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
            <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_select_service'>select_service</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service_from_type'>find_data_service_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_required_srv'>required_srv</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
        <span class='kw'>end</span>

    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_required'>required</span><span class='period'>.</span><span class='id identifier rubyid_component_model'>component_model</span>
        <span class='id identifier rubyid_required_services'>required_services</span> <span class='op'>=</span> <span class='id identifier rubyid_required'>required</span><span class='period'>.</span><span class='id identifier rubyid_each_required_service_model'>each_required_service_model</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_required_services'>required_services</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
            <span class='id identifier rubyid_required_srv'>required_srv</span> <span class='op'>=</span> <span class='id identifier rubyid_required_services'>required_services</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='id identifier rubyid_mappings'>mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_required_srv'>required_srv</span><span class='rbracket'>]</span>
                <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
                <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_select_service'>select_service</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
            <span class='kw'>else</span>
                <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service_from_type'>find_data_service_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_required_srv'>required_srv</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
        <span class='kw'>else</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
        <span class='kw'>end</span>

    <span class='kw'>else</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bind-instance_method">
  
    #<strong>bind</strong>(task)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 176</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bind'><span class='object_link'><a href="Coordination/Models/PortHandling.html#bind-instance_method" title="Syskit::Coordination::Models::PortHandling#bind (method)">bind</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="component_model-instance_method">
  
    #<strong>component_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the selected component model</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_component_model'>component_model</span>
    <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_base_model'>base_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_fullfilled_model-instance_method">
  
    #<strong>each_fullfilled_model</strong>(&amp;block)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 180</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_fullfilled_model'>each_fullfilled_model</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_required'>required</span><span class='period'>.</span><span class='id identifier rubyid_each_fullfilled_model'>each_fullfilled_model</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fullfills?-instance_method">
  
    #<strong>fullfills?</strong>(set)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 184</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_set'>set</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_set'>set</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="initialize_copy-instance_method">
  
    #<strong>initialize_copy</strong>(old)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize_copy'>initialize_copy</span><span class='lparen'>(</span><span class='id identifier rubyid_old'>old</span><span class='rparen'>)</span>
    <span class='ivar'>@component</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_component'>component</span>
    <span class='ivar'>@selected</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@required</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_required'>required</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@service_selection</span> <span class='op'>=</span> <span class='id identifier rubyid_service_selection'>service_selection</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="instanciate-instance_method">
  
    #<strong>instanciate</strong>(plan, context = Syskit::DependencyInjectionContext.new, options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If this selection does not yet have an associated task, instanciate one</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167
168
169
170
171
172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instanciate'>instanciate</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DependencyInjectionContext.html" title="Syskit::DependencyInjectionContext (class)">DependencyInjectionContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DependencyInjectionContext.html#initialize-instance_method" title="Syskit::DependencyInjectionContext#initialize (method)">new</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_component'>component</span>
        <span class='comment'># We have an explicitly selected component. We just need to
</span>        <span class='comment'># bind the bound data service if there is one
</span>        <span class='id identifier rubyid_component'>component</span> <span class='op'>=</span> <span class='id identifier rubyid_plan'>plan</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_component'>component</span><span class='rbracket'>]</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_selected_service'>selected_service</span> <span class='op'>=</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span>
            <span class='id identifier rubyid_selected_service'>selected_service</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span><span class='lparen'>(</span><span class='id identifier rubyid_component'>component</span><span class='rparen'>)</span>
        <span class='kw'>else</span> <span class='id identifier rubyid_component'>component</span>
        <span class='kw'>end</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_instanciate'>instanciate</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="port_mappings-instance_method">
  
    #<strong>port_mappings</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Compute the combined port mappings given the service selection in
<span class='object_link'><a href="#service_selection-instance_method" title="Syskit::InstanceSelection#service_selection (method)">#service_selection</a></span>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="AmbiguousPortMappings.html" title="Syskit::AmbiguousPortMappings (class)">AmbiguousPortMappings</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if two services that were separate in <span class='object_link'><a href="#required-instance_method" title="Syskit::InstanceSelection#required (method)">#required</a></span> used the same port name</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 140</span>

<span class='kw'>def</span> <span class='id identifier rubyid_port_mappings'>port_mappings</span>
    <span class='kw'>if</span> <span class='ivar'>@port_mappings</span> <span class='kw'>then</span> <span class='kw'>return</span> <span class='ivar'>@port_mappings</span> <span class='kw'>end</span>

    <span class='id identifier rubyid_mappings'>mappings</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_service_selection'>service_selection</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_req_m'>req_m</span><span class='comma'>,</span> <span class='id identifier rubyid_sel_m'>sel_m</span><span class='op'>|</span>
        <span class='id identifier rubyid_mappings'>mappings</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_sel_m'>sel_m</span><span class='period'>.</span><span class='id identifier rubyid_port_mappings_for'>port_mappings_for</span><span class='lparen'>(</span><span class='id identifier rubyid_req_m'>req_m</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_req_name'>req_name</span><span class='comma'>,</span> <span class='id identifier rubyid_sel_name1'>sel_name1</span><span class='comma'>,</span> <span class='id identifier rubyid_sel_name2'>sel_name2</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_sel_name1'>sel_name1</span> <span class='op'>!=</span> <span class='id identifier rubyid_sel_name2'>sel_name2</span>
                <span class='comment'># need to find who has the same port ...
</span>                <span class='id identifier rubyid_service_selection'>service_selection</span><span class='period'>.</span><span class='id identifier rubyid_each_key'>each_key</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_other_m'>other_m</span><span class='op'>|</span>
                    <span class='kw'>if</span> <span class='id identifier rubyid_req_m'>req_m</span><span class='period'>.</span><span class='id identifier rubyid_has_port?'>has_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_req_name'>req_name</span><span class='rparen'>)</span>
                        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="AmbiguousPortMappings.html" title="Syskit::AmbiguousPortMappings (class)">AmbiguousPortMappings</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="AmbiguousPortMappings.html#initialize-instance_method" title="Syskit::AmbiguousPortMappings#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_other_m'>other_m</span><span class='comma'>,</span> <span class='id identifier rubyid_req_m'>req_m</span><span class='comma'>,</span> <span class='id identifier rubyid_req_name'>req_name</span><span class='rparen'>)</span>
                    <span class='kw'>end</span>
                <span class='kw'>end</span>
            <span class='kw'>else</span> <span class='id identifier rubyid_sel_name1'>sel_name1</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='ivar'>@port_mappings</span> <span class='op'>=</span> <span class='id identifier rubyid_mappings'>mappings</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pretty_print-instance_method">
  
    #<strong>pretty_print</strong>(pp)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 192</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pretty_print'>pretty_print</span><span class='lparen'>(</span><span class='id identifier rubyid_pp'>pp</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Instance selection for </span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Component</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>if</span> <span class='id identifier rubyid_component'>component</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
                <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
                <span class='id identifier rubyid_component'>component</span><span class='period'>.</span><span class='id identifier rubyid_pretty_print'>pretty_print</span><span class='lparen'>(</span><span class='id identifier rubyid_pp'>pp</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Required</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
            <span class='id identifier rubyid_required'>required</span><span class='period'>.</span><span class='id identifier rubyid_pretty_print'>pretty_print</span><span class='lparen'>(</span><span class='id identifier rubyid_pp'>pp</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Selected</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
            <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_pretty_print'>pretty_print</span><span class='lparen'>(</span><span class='id identifier rubyid_pp'>pp</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
        <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Services</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_service_selection'>service_selection</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
            <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_nest'>nest</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span>
                <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_breakable'>breakable</span>
                <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_seplist'>seplist</span><span class='lparen'>(</span><span class='id identifier rubyid_service_selection'>service_selection</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sel'>sel</span><span class='op'>|</span>
                    <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sel'>sel</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sel'>sel</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                <span class='kw'>end</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="selected_model-instance_method">
  
    #<strong>selected_model</strong>  &#x21d2; <tt><span class='object_link'><a href="BoundDataService.html" title="Syskit::BoundDataService (class)">BoundDataService</a></span></tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the simplest model representation for <span class='object_link'><a href="#selected-instance_method" title="Syskit::InstanceSelection#selected (method)">#selected</a></span></p>

<p>It mostly either returns <span class='object_link'><a href="#selected-instance_method" title="Syskit::InstanceSelection#selected (method)">#selected</a></span> or <span class='object_link'><a href="#selected-instance_method" title="Syskit::InstanceSelection#selected (method)">#selected</a></span>.model if
<span class='object_link'><a href="InstanceRequirements.html#plain%3F-instance_method" title="Syskit::InstanceRequirements#plain? (method)">Syskit::InstanceRequirements#plain?</a></span> returns resp. false or true</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="BoundDataService.html" title="Syskit::BoundDataService (class)">BoundDataService</a></span></tt>, <tt>Model&lt;<span class='object_link'><a href="Component.html" title="Syskit::Component (class)">Component</a></span>&gt;</tt>, <tt><span class='object_link'><a href="InstanceRequirements.html" title="Syskit::InstanceRequirements (class)">InstanceRequirements</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_selected_model'>selected_model</span>
    <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_simplest_model_representation'>simplest_model_representation</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


188
189
190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/instance_selection.rb', line 188</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_required'>required</span><span class='embexpr_end'>}</span><span class='tstring_content'> selected=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_selected'>selected</span><span class='embexpr_end'>}</span><span class='tstring_content'> service_selection=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_service_selection'>service_selection</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 21:55:11 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>