<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Syskit::Robot::MasterDeviceInstance
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Syskit::Robot::MasterDeviceInstance";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Syskit.html" title="Syskit (module)">Syskit</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Robot.html" title="Syskit::Robot (module)">Robot</a></span></span>
     &raquo; 
    <span class="title">MasterDeviceInstance</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Syskit::Robot::MasterDeviceInstance
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="DeviceInstance.html" title="Syskit::Robot::DeviceInstance (class)">DeviceInstance</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="DeviceInstance.html" title="Syskit::Robot::DeviceInstance (class)">DeviceInstance</a></span></li>
          
            <li class="next">Syskit::Robot::MasterDeviceInstance</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>MetaRuby::DSLs::FindThroughMethodMissing</dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/syskit/robot/master_device_instance.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Subclass of DeviceInstance used to represent root devices</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="ComBus.html" title="Syskit::Robot::ComBus (class)">ComBus</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="MasterDeviceInstance/DRoby.html" title="Syskit::Robot::MasterDeviceInstance::DRoby (class)">DRoby</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="KNOWN_PARAMETERS-constant" class="">KNOWN_PARAMETERS =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span> <span class='symbol'>:period</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='symbol'>:sample_size</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='symbol'>:device_id</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span> <span class='rbrace'>}</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#com_busses-instance_method" title="#com_busses (instance method)">#<strong>com_busses</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The communication busses this device is attached to.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#combus_client_in_srv-instance_method" title="#combus_client_in_srv (instance method)">#<strong>combus_client_in_srv</strong>  &#x21d2; BoundDataService<sup>?</sup> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The data service of #task_model that is used to receive data from the
attached com bus for this device.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#combus_client_out_srv-instance_method" title="#combus_client_out_srv (instance method)">#<strong>combus_client_out_srv</strong>  &#x21d2; BoundDataService<sup>?</sup> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The data service of #task_model that is used to send data to the attached
com bus for this device.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#configuration-instance_method" title="#configuration (instance method)">#<strong>configuration</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Configuration data structure.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#configuration_block-instance_method" title="#configuration_block (instance method)">#<strong>configuration_block</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Block given to #configure to configure the device.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#device_model-instance_method" title="#device_model (instance method)">#<strong>device_model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The device model, as a subclass of Device.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#driver_model-instance_method" title="#driver_model (instance method)">#<strong>driver_model</strong>  &#x21d2; BoundDataService </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The driver for this device.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The device name.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#requirements-instance_method" title="#requirements (instance method)">#<strong>requirements</strong>  &#x21d2; Syskit::InstanceRequirements </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Additional specifications for deployment of the driver.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#robot-instance_method" title="#robot (instance method)">#<strong>robot</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The RobotDefinition instance we are built upon.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#slaves-instance_method" title="#slaves (instance method)">#<strong>slaves</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The device slaves, as a mapping from the slave&#39;s name to the
SlaveDeviceInstance object.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#advanced-instance_method" title="#advanced (instance method)">#<strong>advanced</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets <span class='object_link'><a href="#advanced%3F-instance_method" title="Syskit::Robot::MasterDeviceInstance#advanced? (method)">#advanced?</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#advanced=-instance_method" title="#advanced= (instance method)">#<strong>advanced=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether this device should be hidden from the user interfaces.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#advanced%3F-instance_method" title="#advanced? (instance method)">#<strong>advanced?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether this device should be hidden from the user interfaces.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#arguments-instance_method" title="#arguments (instance method)">#<strong>arguments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The arguments passed to the underlying device driver.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#as_plan-instance_method" title="#as_plan (instance method)">#<strong>as_plan</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attach_to-instance_method" title="#attach_to (instance method)">#<strong>attach_to</strong>(com_bus, bus_to_client: true, client_to_bus: true, **options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attached_to%3F-instance_method" title="#attached_to? (instance method)">#<strong>attached_to?</strong>(com_bus)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>True if this device is attached to the given combus.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bus_to_client%3F-instance_method" title="#bus_to_client? (instance method)">#<strong>bus_to_client?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether this device sends messages to the bus it is attached to.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#client_to_bus%3F-instance_method" title="#client_to_bus? (instance method)">#<strong>client_to_bus?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether this device sends messages to the bus it is attached to.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#device_id-instance_method" title="#device_id (instance method)">#<strong>device_id</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:method:device_id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#droby_dump-instance_method" title="#droby_dump (instance method)">#<strong>droby_dump</strong>(peer)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_fullfilled_model-instance_method" title="#each_fullfilled_model (instance method)">#<strong>each_fullfilled_model</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_slave-instance_method" title="#each_slave (instance method)">#<strong>each_slave</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Enumerates the slaves that are known for this device, as [slave_name,
SlaveDeviceInstance object] pairs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_combus_client_srv-instance_method" title="#find_combus_client_srv (instance method)">#<strong>find_combus_client_srv</strong>(srv_m, srv_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finds in <span class='object_link'><a href="#driver_model-instance_method" title="Syskit::Robot::MasterDeviceInstance#driver_model (method)">#driver_model</a></span>.component_model the data service that should be
used to interface with a combus.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_through_method_missing-instance_method" title="#find_through_method_missing (instance method)">#<strong>find_through_method_missing</strong>(m, args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#full_name-instance_method" title="#full_name (instance method)">#<strong>full_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_slave%3F-instance_method" title="#has_slave? (instance method)">#<strong>has_slave?</strong>(slave_service)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_through_method_missing%3F-instance_method" title="#has_through_method_missing? (instance method)">#<strong>has_through_method_missing?</strong>(m)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(robot, name, device_model, options, driver_model, task_arguments)  &#x21d2; MasterDeviceInstance </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of MasterDeviceInstance.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#model-instance_method" title="#model (instance method)">#<strong>model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prefer_deployed_tasks-instance_method" title="#prefer_deployed_tasks (instance method)">#<strong>prefer_deployed_tasks</strong>(hints)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specify deployment selection hints for the device&#39;s driver.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pretty_print-instance_method" title="#pretty_print (instance method)">#<strong>pretty_print</strong>(pp)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#short_name-instance_method" title="#short_name (instance method)">#<strong>short_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Defined to be consistent with task and data service models.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slave-instance_method" title="#slave (instance method)">#<strong>slave</strong>(slave_service, options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the required slave device, or creates a dynamic one.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_action_model-instance_method" title="#to_action_model (instance method)">#<strong>to_action_model</strong>  &#x21d2; Actions::Model::Action </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create an action model that represent an instanciation of this device.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_instance_requirements-instance_method" title="#to_instance_requirements (instance method)">#<strong>to_instance_requirements</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the InstanceRequirements object that can be used to represent this
device.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use-instance_method" title="#use (instance method)">#<strong>use</strong>(dependency_injection)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If this device&#39;s driver is a composition, allows to specify dependency
injections for it.</p>
</div></span>
  
</li>

      
        <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#use_conf-instance_method" title="#use_conf (instance method)">#<strong>use_conf</strong>(*conf)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  <span class="deprecated note title">deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_deployments-instance_method" title="#use_deployments (instance method)">#<strong>use_deployments</strong>(hints)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_arguments-instance_method" title="#with_arguments (instance method)">#<strong>with_arguments</strong>(arguments = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add arguments to the underlying device driver.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_conf-instance_method" title="#with_conf (instance method)">#<strong>with_conf</strong>(*conf)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Declares that the following configuration chain should be used for this
device.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="DeviceInstance.html" title="Syskit::Robot::DeviceInstance (class)">DeviceInstance</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="DeviceInstance.html#doc-instance_method" title="Syskit::Robot::DeviceInstance#doc (method)">#doc</a></span>, <span class='object_link'><a href="DeviceInstance.html#instanciate-instance_method" title="Syskit::Robot::DeviceInstance#instanciate (method)">#instanciate</a></span>, <span class='object_link'><a href="DeviceInstance.html#period-instance_method" title="Syskit::Robot::DeviceInstance#period (method)">#period</a></span>, <span class='object_link'><a href="DeviceInstance.html#to_action-instance_method" title="Syskit::Robot::DeviceInstance#to_action (method)">#to_action</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(robot, name, device_model, options, driver_model, task_arguments)  &#x21d2; <tt><span class='object_link'><a href="" title="Syskit::Robot::MasterDeviceInstance (class)">MasterDeviceInstance</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of MasterDeviceInstance</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 46</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_robot'>robot</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_device_model'>device_model</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
               <span class='id identifier rubyid_driver_model'>driver_model</span><span class='comma'>,</span> <span class='id identifier rubyid_task_arguments'>task_arguments</span><span class='rparen'>)</span>
    <span class='ivar'>@robot</span><span class='comma'>,</span> <span class='ivar'>@name</span><span class='comma'>,</span> <span class='ivar'>@device_model</span><span class='comma'>,</span> <span class='ivar'>@task_arguments</span> <span class='op'>=</span>
        <span class='id identifier rubyid_robot'>robot</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_device_model'>device_model</span><span class='comma'>,</span> <span class='id identifier rubyid_task_arguments'>task_arguments</span>
    <span class='ivar'>@slaves</span>      <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@conf</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@com_busses</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

    <span class='id identifier rubyid_driver_model'>driver_model</span> <span class='op'>=</span> <span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_to_instance_requirements'>to_instance_requirements</span>
    <span class='ivar'>@driver_model</span> <span class='op'>=</span> <span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span>
    <span class='ivar'>@requirements</span> <span class='op'>=</span> <span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span>
    <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_dev</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_with_arguments'>with_arguments</span><span class='lparen'>(</span><span class='symbol'>:&quot;#{</span><span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_dev</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='kw'>self</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_with_arguments'>with_arguments</span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_task_arguments'>task_arguments</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_sample_size'>sample_size</span> <span class='int'>1</span>
    <span class='id identifier rubyid_burst'>burst</span>   <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="com_busses-instance_method">
  
    #<strong>com_busses</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The communication busses this device is attached to</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 15</span>

<span class='kw'>def</span> <span class='id identifier rubyid_com_busses'>com_busses</span>
  <span class='ivar'>@com_busses</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="combus_client_in_srv-instance_method">
  
    #<strong>combus_client_in_srv</strong>  &#x21d2; <tt><span class='object_link'><a href="../BoundDataService.html" title="Syskit::BoundDataService (class)">BoundDataService</a></span></tt><sup>?</sup>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The data service of #task_model that is used to receive data from the
attached com bus for this device. If nil, the task is not expecting to
receive any data from the communication bus (only send)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../BoundDataService.html" title="Syskit::BoundDataService (class)">BoundDataService</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 106</span>

<span class='kw'>def</span> <span class='id identifier rubyid_combus_client_in_srv'>combus_client_in_srv</span>
  <span class='ivar'>@combus_client_in_srv</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="combus_client_out_srv-instance_method">
  
    #<strong>combus_client_out_srv</strong>  &#x21d2; <tt><span class='object_link'><a href="../BoundDataService.html" title="Syskit::BoundDataService (class)">BoundDataService</a></span></tt><sup>?</sup>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The data service of #task_model that is used to send data to the attached
com bus for this device. If nil, the task is not expecting to send any data
from the communication bus (only receives)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../BoundDataService.html" title="Syskit::BoundDataService (class)">BoundDataService</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_combus_client_out_srv'>combus_client_out_srv</span>
  <span class='ivar'>@combus_client_out_srv</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="configuration-instance_method">
  
    #<strong>configuration</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Configuration data structure</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_configuration'>configuration</span>
  <span class='ivar'>@configuration</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="configuration_block-instance_method">
  
    #<strong>configuration_block</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Block given to #configure to configure the device. It will be yield a data
structure that represents the set of properties of the underlying task</p>

<p>Note that it is executed twice. Once at loading time to verify that the
block is compatible with the data structure, and once at runtime to
actually configure the task</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


44
45
46</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 44</span>

<span class='kw'>def</span> <span class='id identifier rubyid_configuration_block'>configuration_block</span>
  <span class='ivar'>@configuration_block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="device_model-instance_method">
  
    #<strong>device_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The device model, as a subclass of Device</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_device_model'>device_model</span>
  <span class='ivar'>@device_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="driver_model-instance_method">
  
    #<strong>driver_model</strong>  &#x21d2; <tt><span class='object_link'><a href="../BoundDataService.html" title="Syskit::BoundDataService (class)">BoundDataService</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The driver for this device</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../BoundDataService.html" title="Syskit::BoundDataService (class)">BoundDataService</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 34</span>

<span class='kw'>def</span> <span class='id identifier rubyid_driver_model'>driver_model</span>
  <span class='ivar'>@driver_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The device name</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="requirements-instance_method">
  
    #<strong>requirements</strong>  &#x21d2; <tt><span class='object_link'><a href="../InstanceRequirements.html" title="Syskit::InstanceRequirements (class)">Syskit::InstanceRequirements</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Additional specifications for deployment of the driver</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../InstanceRequirements.html" title="Syskit::InstanceRequirements (class)">Syskit::InstanceRequirements</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_requirements'>requirements</span>
  <span class='ivar'>@requirements</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="robot-instance_method">
  
    #<strong>robot</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The RobotDefinition instance we are built upon</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6
7
8</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 6</span>

<span class='kw'>def</span> <span class='id identifier rubyid_robot'>robot</span>
  <span class='ivar'>@robot</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="slaves-instance_method">
  
    #<strong>slaves</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The device slaves, as a mapping from the slave&#39;s name to the
SlaveDeviceInstance object</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_slaves'>slaves</span>
  <span class='ivar'>@slaves</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="==-instance_method">
  
    #<strong>==</strong>(other)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


387
388
389
390
391
392</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 387</span>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Syskit::Robot::MasterDeviceInstance (class)">MasterDeviceInstance</a></span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_robot'>robot</span> <span class='op'>==</span> <span class='id identifier rubyid_robot'>robot</span> <span class='op'>&amp;&amp;</span>
            <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="advanced-instance_method">
  
    #<strong>advanced</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets <span class='object_link'><a href="#advanced%3F-instance_method" title="Syskit::Robot::MasterDeviceInstance#advanced? (method)">#advanced?</a></span></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_advanced'>advanced</span>
    <span class='ivar'>@advanced</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="advanced=-instance_method">
  
    #<strong>advanced=</strong>(value)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether this device should be hidden from the user interfaces</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 74</span>

<span class='id identifier rubyid_attr_predicate'>attr_predicate</span> <span class='symbol'>:advanced?</span><span class='comma'>,</span> <span class='kw'>true</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="advanced?-instance_method">
  
    #<strong>advanced?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether this device should be hidden from the user interfaces</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 74</span>

<span class='id identifier rubyid_attr_predicate'>attr_predicate</span> <span class='symbol'>:advanced?</span><span class='comma'>,</span> <span class='kw'>true</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="arguments-instance_method">
  
    #<strong>arguments</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The arguments passed to the underlying device driver</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


327
328
329</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 327</span>

<span class='kw'>def</span> <span class='id identifier rubyid_arguments'>arguments</span>
    <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="as_plan-instance_method">
  
    #<strong>as_plan</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


372</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 372</span>

<span class='kw'>def</span> <span class='id identifier rubyid_as_plan'>as_plan</span><span class='semicolon'>;</span> <span class='id identifier rubyid_to_instance_requirements'>to_instance_requirements</span><span class='period'>.</span><span class='id identifier rubyid_as_plan'>as_plan</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="attach_to-instance_method">
  
    #<strong>attach_to</strong>(com_bus, bus_to_client: true, client_to_bus: true, **options)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>bus_to_client</span>
      
      
        <span class='type'>(<tt>Boolean</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>whether the device expects a connection from the bus. It can be set to a
string, in which case the string is used as the name of the service on the
client&#39;s device driver that should be used for connection</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>client_to_bus</span>
      
      
        <span class='type'>(<tt>Boolean</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>whether the device expects a connection to the bus. It can be set to a
string, in which case the string is used as the name of the service on the
client device driver that should be used for connection</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 140</span>

<span class='kw'>def</span> <span class='id identifier rubyid_attach_to'>attach_to</span><span class='lparen'>(</span><span class='id identifier rubyid_com_bus'>com_bus</span><span class='comma'>,</span> <span class='label'>bus_to_client:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>client_to_bus:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_com_bus'>com_bus</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_str</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_com_bus'>com_bus</span><span class='comma'>,</span> <span class='id identifier rubyid_com_bus_name'>com_bus_name</span> <span class='op'>=</span> <span class='id identifier rubyid_robot'>robot</span><span class='period'>.</span><span class='id identifier rubyid_find_device'>find_device</span><span class='lparen'>(</span><span class='id identifier rubyid_com_bus'>com_bus</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_com_bus'>com_bus</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_com_bus'>com_bus</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no device declared with the name &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_com_bus_name'>com_bus_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_srv_name'>srv_name</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:in</span><span class='rparen'>)</span>
        <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecated'>warn_deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the in: option of MasterDeviceInstance#attach_to has been renamed to bus_to_client</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_bus_to_client'>bus_to_client</span> <span class='op'>=</span> <span class='id identifier rubyid_srv_name'>srv_name</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_srv_name'>srv_name</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:out</span><span class='rparen'>)</span>
        <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecated'>warn_deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the out: option of MasterDeviceInstance#attach_to has been renamed to client_to_bus</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_client_to_bus'>client_to_bus</span> <span class='op'>=</span> <span class='id identifier rubyid_srv_name'>srv_name</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unexpected options </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_bus_to_client'>bus_to_client</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_com_bus'>com_bus</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_bus_to_client?'>bus_to_client?</span>
        <span class='id identifier rubyid_client_in_srv'>client_in_srv</span> <span class='op'>=</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_bus_to_client'>bus_to_client</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_str</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_bus_to_client'>bus_to_client</span>
            <span class='kw'>end</span>
        <span class='id identifier rubyid_client_in_srv_m'>client_in_srv_m</span>  <span class='op'>=</span> <span class='id identifier rubyid_com_bus'>com_bus</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_client_in_srv'>client_in_srv</span>
        <span class='ivar'>@combus_client_in_srv</span>  <span class='op'>=</span>
            <span class='kw'>begin</span> <span class='id identifier rubyid_find_combus_client_srv'>find_combus_client_srv</span><span class='lparen'>(</span><span class='id identifier rubyid_client_in_srv_m'>client_in_srv_m</span><span class='comma'>,</span> <span class='id identifier rubyid_client_in_srv'>client_in_srv</span><span class='rparen'>)</span>
            <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../AmbiguousServiceSelection.html" title="Syskit::AmbiguousServiceSelection (class)">AmbiguousServiceSelection</a></span></span>
                <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span><span class='embexpr_end'>}</span><span class='tstring_content'> provides more than one input service to connect to the com bus, select one explicitely with the bus_to_client option</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_combus_client_in_srv'>combus_client_in_srv</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not provide an input service to connect to the com bus, and was expected to</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_client_to_bus'>client_to_bus</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_com_bus'>com_bus</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_client_to_bus?'>client_to_bus?</span>
        <span class='id identifier rubyid_client_out_srv'>client_out_srv</span> <span class='op'>=</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_client_to_bus'>client_to_bus</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_str</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_client_to_bus'>client_to_bus</span>
            <span class='kw'>end</span>
        <span class='id identifier rubyid_client_out_srv_m'>client_out_srv_m</span>  <span class='op'>=</span> <span class='id identifier rubyid_com_bus'>com_bus</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_client_out_srv'>client_out_srv</span>
        <span class='ivar'>@combus_client_out_srv</span>  <span class='op'>=</span>
            <span class='kw'>begin</span> <span class='id identifier rubyid_find_combus_client_srv'>find_combus_client_srv</span><span class='lparen'>(</span><span class='id identifier rubyid_client_out_srv_m'>client_out_srv_m</span><span class='comma'>,</span> <span class='id identifier rubyid_client_out_srv'>client_out_srv</span><span class='rparen'>)</span>
            <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../AmbiguousServiceSelection.html" title="Syskit::AmbiguousServiceSelection (class)">AmbiguousServiceSelection</a></span></span>
                <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span><span class='embexpr_end'>}</span><span class='tstring_content'> provides more than one output service to connect to the com bus, select one explicitely with the client_to_bus option</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_combus_client_out_srv'>combus_client_out_srv</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not provide an output service to connect to the com bus, and was expected to</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_com_busses'>com_busses</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_com_bus'>com_bus</span>
    <span class='id identifier rubyid_com_bus'>com_bus</span><span class='period'>.</span><span class='id identifier rubyid_attached_devices'>attached_devices</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_com_bus'>com_bus</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_apply_attached_device_configuration_extensions'>apply_attached_device_configuration_extensions</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="attached_to?-instance_method">
  
    #<strong>attached_to?</strong>(com_bus)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>True if this device is attached to the given combus</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 96</span>

<span class='kw'>def</span> <span class='id identifier rubyid_attached_to?'>attached_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_com_bus'>com_bus</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_com_busses'>com_busses</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_com_bus'>com_bus</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bus_to_client?-instance_method">
  
    #<strong>bus_to_client?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether this device sends messages to the bus it is attached to</p>

<p>It will return false if not attached to a bus</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 126</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bus_to_client?'>bus_to_client?</span>
    <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_combus_client_in_srv'>combus_client_in_srv</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="client_to_bus?-instance_method">
  
    #<strong>client_to_bus?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether this device sends messages to the bus it is attached to</p>

<p>It will return false if not attached to a bus</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_client_to_bus?'>client_to_bus?</span>
    <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_combus_client_out_srv'>combus_client_out_srv</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="device_id-instance_method">
  
    #<strong>device_id</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:method:device_id</p>

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">device_id(device_id, definition)
device_id =&gt; current_id or nil
</code></pre>

<p>The device ID. It is dependent on the method of communication to the
device. For a serial line, it would be the device file (/dev/ttyS0):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_device'>device</span><span class='lparen'>(</span><span class='const'>XsensImu</span><span class='rparen'>)</span><span class='period'>.</span>
    <span class='id identifier rubyid_device_id'>device_id</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/dev/ttyS0</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<p>For CAN, it would be the device ID and mask:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_device'>device</span><span class='lparen'>(</span><span class='const'>Motors</span><span class='rparen'>)</span><span class='period'>.</span>
    <span class='id identifier rubyid_device_id'>device_id</span><span class='lparen'>(</span><span class='int'>0x0</span><span class='comma'>,</span> <span class='int'>0x700</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


241
242
243
244
245
246
247</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 241</span>

<span class='id identifier rubyid_dsl_attribute'>dsl_attribute</span><span class='lparen'>(</span><span class='symbol'>:device_id</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='op'>*</span><span class='id identifier rubyid_values'>values</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
        <span class='id identifier rubyid_values'>values</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="droby_dump-instance_method">
  
    #<strong>droby_dump</strong>(peer)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


383
384
385</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 383</span>

<span class='kw'>def</span> <span class='id identifier rubyid_droby_dump'><span class='object_link'><a href="../DRoby/V5/Models/TaskContextDumper.html#droby_dump-instance_method" title="Syskit::DRoby::V5::Models::TaskContextDumper#droby_dump (method)">droby_dump</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_peer'>peer</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="MasterDeviceInstance/DRoby.html" title="Syskit::Robot::MasterDeviceInstance::DRoby (class)">DRoby</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Syskit::Robot::MasterDeviceInstance#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_peer'>peer</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_device_model'>device_model</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_peer'>peer</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_driver_model'>driver_model</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_fullfilled_model-instance_method">
  
    #<strong>each_fullfilled_model</strong>(&amp;block)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


374
375
376</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 374</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_fullfilled_model'>each_fullfilled_model</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_device_model'>device_model</span><span class='period'>.</span><span class='id identifier rubyid_each_fullfilled_model'>each_fullfilled_model</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_slave-instance_method">
  
    #<strong>each_slave</strong>(&amp;block)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Enumerates the slaves that are known for this device, as</p>
<dl class="rdoc-list label-list"><dt>slave_name, SlaveDeviceInstance object
<dd>
<p>pairs</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 251</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_slave'>each_slave</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_slaves'>slaves</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_combus_client_srv-instance_method">
  
    #<strong>find_combus_client_srv</strong>(srv_m, srv_name)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finds in <span class='object_link'><a href="#driver_model-instance_method" title="Syskit::Robot::MasterDeviceInstance#driver_model (method)">#driver_model</a></span>.component_model the data service that should be
used to interface with a combus</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'>(<tt>Model&lt;<span class='object_link'><a href="../DataService.html" title="Syskit::DataService (module)">DataService</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>data service model for the client interface to the combus</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>expected data service name, or nil if none is given. In this case, one is
searched by type</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


205
206
207
208
209
210
211
212
213
214
215
216
217
218</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 205</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_combus_client_srv'>find_combus_client_srv</span><span class='lparen'>(</span><span class='id identifier rubyid_srv_m'>srv_m</span><span class='comma'>,</span> <span class='id identifier rubyid_srv_name'>srv_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_driver_task_model'>driver_task_model</span> <span class='op'>=</span> <span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_srv_name'>srv_name</span>
		    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_driver_task_model'>driver_task_model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service'>find_data_service</span><span class='lparen'>(</span><span class='id identifier rubyid_srv_name'>srv_name</span><span class='rparen'>)</span>
		    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span>
			<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_srv_name'>srv_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is specified as a client service on device </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> for combus </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_com_bus'>com_bus</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but it is not a data service on </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_driver_task_model'>driver_task_model</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_fullfills?'>fullfills?</span><span class='lparen'>(</span><span class='id identifier rubyid_srv_m'>srv_m</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_srv_name'>srv_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is specified as a client service on device </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> for combus </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_com_bus'>com_bus</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but it does not provide the required service from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_com_bus'>com_bus</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
		    <span class='kw'>end</span>
        <span class='id identifier rubyid_result'>result</span>
		<span class='kw'>else</span>
		    <span class='id identifier rubyid_driver_task_model'>driver_task_model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service_from_type'>find_data_service_from_type</span><span class='lparen'>(</span><span class='id identifier rubyid_srv_m'>srv_m</span><span class='rparen'>)</span>
		<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_through_method_missing-instance_method">
  
    #<strong>find_through_method_missing</strong>(m, args)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


312
313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 312</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_through_method_missing'><span class='object_link'><a href="../Coordination/Models/FaultResponseTableExtension.html#find_through_method_missing-instance_method" title="Syskit::Coordination::Models::FaultResponseTableExtension#find_through_method_missing (method)">find_through_method_missing</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
    <span class='const'>MetaRuby</span><span class='op'>::</span><span class='const'>DSLs</span><span class='period'>.</span><span class='id identifier rubyid_find_through_method_missing'>find_through_method_missing</span><span class='lparen'>(</span>
        <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_dev</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>=&gt;</span> <span class='symbol'>:slave</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="full_name-instance_method">
  
    #<strong>full_name</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 69</span>

<span class='kw'>def</span> <span class='id identifier rubyid_full_name'>full_name</span>
    <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_slave?-instance_method">
  
    #<strong>has_slave?</strong>(slave_service)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_slave?'>has_slave?</span><span class='lparen'>(</span><span class='id identifier rubyid_slave_service'>slave_service</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_slaves'>slaves</span><span class='lbracket'>[</span><span class='id identifier rubyid_slave_service'>slave_service</span><span class='rbracket'>]</span>

    <span class='id identifier rubyid_slave_name'>slave_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_slave_service'>slave_service</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service'>find_data_service</span><span class='lparen'>(</span><span class='id identifier rubyid_slave_name'>slave_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_through_method_missing?-instance_method">
  
    #<strong>has_through_method_missing?</strong>(m)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


307
308
309
310</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 307</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_through_method_missing?'><span class='object_link'><a href="../Coordination/Models/FaultResponseTableExtension.html#has_through_method_missing%3F-instance_method" title="Syskit::Coordination::Models::FaultResponseTableExtension#has_through_method_missing? (method)">has_through_method_missing?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
    <span class='const'>MetaRuby</span><span class='op'>::</span><span class='const'>DSLs</span><span class='period'>.</span><span class='id identifier rubyid_has_through_method_missing?'>has_through_method_missing?</span><span class='lparen'>(</span>
        <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_dev</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>=&gt;</span> <span class='symbol'>:has_slave?</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="model-instance_method">
  
    #<strong>model</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 20</span>

<span class='kw'>def</span> <span class='id identifier rubyid_model'>model</span><span class='semicolon'>;</span> <span class='id identifier rubyid_device_model'>device_model</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prefer_deployed_tasks-instance_method">
  
    #<strong>prefer_deployed_tasks</strong>(hints)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specify deployment selection hints for the device&#39;s driver</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


338
339
340
341</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 338</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prefer_deployed_tasks'>prefer_deployed_tasks</span><span class='lparen'>(</span><span class='id identifier rubyid_hints'>hints</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_prefer_deployed_tasks'>prefer_deployed_tasks</span><span class='lparen'>(</span><span class='id identifier rubyid_hints'>hints</span><span class='rparen'>)</span>
		<span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pretty_print-instance_method">
  
    #<strong>pretty_print</strong>(pp)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 27</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pretty_print'>pretty_print</span><span class='lparen'>(</span><span class='id identifier rubyid_pp'>pp</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MasterDeviceInstance(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_dev)</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="short_name-instance_method">
  
    #<strong>short_name</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Defined to be consistent with task and data service models</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 23</span>

<span class='kw'>def</span> <span class='id identifier rubyid_short_name'>short_name</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="slave-instance_method">
  
    
      <span class="overload">#<strong>slave</strong>(slave_name)  &#x21d2; <tt><span class='object_link'><a href="SlaveDeviceInstance.html" title="Syskit::Robot::SlaveDeviceInstance (class)">Syskit::Robot::SlaveDeviceInstance</a></span></tt> </span>
    
      <span class="overload">#<strong>slave</strong>(dynamic_service_name, : as=&gt;slave_name)  &#x21d2; <tt><span class='object_link'><a href="SlaveDeviceInstance.html" title="Syskit::Robot::SlaveDeviceInstance (class)">Syskit::Robot::SlaveDeviceInstance</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the required slave device, or creates a dynamic one</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slave</strong>(slave_name)  &#x21d2; <tt><span class='object_link'><a href="SlaveDeviceInstance.html" title="Syskit::Robot::SlaveDeviceInstance (class)">Syskit::Robot::SlaveDeviceInstance</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="SlaveDeviceInstance.html" title="Syskit::Robot::SlaveDeviceInstance (class)">Syskit::Robot::SlaveDeviceInstance</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slave</strong>(dynamic_service_name, : as=&gt;slave_name)  &#x21d2; <tt><span class='object_link'><a href="SlaveDeviceInstance.html" title="Syskit::Robot::SlaveDeviceInstance (class)">Syskit::Robot::SlaveDeviceInstance</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="SlaveDeviceInstance.html" title="Syskit::Robot::SlaveDeviceInstance (class)">Syskit::Robot::SlaveDeviceInstance</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 276</span>

<span class='kw'>def</span> <span class='id identifier rubyid_slave'>slave</span><span class='lparen'>(</span><span class='id identifier rubyid_slave_service'>slave_service</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_validate_options'>validate_options</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_existing_slave'>existing_slave</span> <span class='op'>=</span> <span class='id identifier rubyid_slaves'>slaves</span><span class='lbracket'>[</span><span class='id identifier rubyid_slave_service'>slave_service</span><span class='rbracket'>]</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_existing_slave'>existing_slave</span>
    <span class='kw'>end</span>

    <span class='comment'># If slave_service is a string, it should refer to an actual
</span>    <span class='comment'># service on +task_model+
</span>    <span class='id identifier rubyid_task_model'>task_model</span> <span class='op'>=</span> <span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_to_component_model'>to_component_model</span>

    <span class='id identifier rubyid_slave_name'>slave_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_slave_service'>slave_service</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_srv'>srv</span> <span class='op'>=</span> <span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_find_data_service'>find_data_service</span><span class='lparen'>(</span><span class='id identifier rubyid_slave_name'>slave_name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_srv'>srv</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_new_task_model'>new_task_model</span> <span class='op'>=</span> <span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_ensure_model_is_specialized'>ensure_model_is_specialized</span>
            <span class='id identifier rubyid_srv'>srv</span> <span class='op'>=</span> <span class='id identifier rubyid_new_task_model'>new_task_model</span><span class='period'>.</span><span class='id identifier rubyid_require_dynamic_service'>require_dynamic_service</span><span class='lparen'>(</span><span class='id identifier rubyid_slave_service'>slave_service</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_srv'>srv</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>there is no service </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_slave_name'>slave_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> and no dynamic service in </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task_model'>task_model</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='ivar'>@driver_model</span> <span class='op'>=</span> <span class='id identifier rubyid_driver_model'>driver_model</span><span class='period'>.</span><span class='id identifier rubyid_attach'>attach</span><span class='lparen'>(</span><span class='id identifier rubyid_new_task_model'>new_task_model</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_device_instance'>device_instance</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="SlaveDeviceInstance.html" title="Syskit::Robot::SlaveDeviceInstance (class)">SlaveDeviceInstance</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="SlaveDeviceInstance.html#initialize-instance_method" title="Syskit::Robot::SlaveDeviceInstance#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_srv'>srv</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_slaves'>slaves</span><span class='lbracket'>[</span><span class='id identifier rubyid_srv'>srv</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_device_instance'>device_instance</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_srv'>srv</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:apply_device_configuration_extensions</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_srv'>srv</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_apply_device_configuration_extensions'>apply_device_configuration_extensions</span><span class='lparen'>(</span><span class='id identifier rubyid_device_instance'>device_instance</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_robot'>robot</span><span class='period'>.</span><span class='id identifier rubyid_devices'>devices</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_srv'>srv</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_device_instance'>device_instance</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_action_model-instance_method">
  
    #<strong>to_action_model</strong>  &#x21d2; <tt>Actions::Model::Action</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create an action model that represent an instanciation of this device</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Actions::Model::Action</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


362
363
364
365
366
367
368
369
370</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 362</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_action_model'>to_action_model</span>
    <span class='id identifier rubyid_profile'>profile</span> <span class='op'>=</span> <span class='id identifier rubyid_robot'>robot</span><span class='period'>.</span><span class='id identifier rubyid_profile'>profile</span>
    <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='id identifier rubyid_to_instance_requirements'>to_instance_requirements</span>
    <span class='id identifier rubyid_profile'>profile</span><span class='period'>.</span><span class='id identifier rubyid_inject_di_context'>inject_di_context</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_action_model'>action_model</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Actions.html" title="Syskit::Actions (module)">Actions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Actions/Models.html" title="Syskit::Actions::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Actions/Models/Action.html" title="Syskit::Actions::Models::Action (class)">Action</a></span></span><span class='period'>.</span>
        <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_doc'>doc</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>device from profile </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_profile'>profile</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_action_model'>action_model</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_dev</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_action_model'>action_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_instance_requirements-instance_method">
  
    #<strong>to_instance_requirements</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the InstanceRequirements object that can be used to represent this
device</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


351
352
353
354
355
356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 351</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_instance_requirements'>to_instance_requirements</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_robot'>robot</span><span class='period'>.</span><span class='id identifier rubyid_inject_di_context'>inject_di_context</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_select_service'>select_service</span><span class='lparen'>(</span><span class='id identifier rubyid_driver_model'>driver_model</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 65</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>device(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_device_model'>device_model</span><span class='embexpr_end'>}</span><span class='tstring_content'>, as: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use-instance_method">
  
    #<strong>use</strong>(dependency_injection)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If this device&#39;s driver is a composition, allows to specify dependency
injections for it</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


321
322
323
324</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 321</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use'>use</span><span class='lparen'>(</span><span class='id identifier rubyid_dependency_injection'>dependency_injection</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_use'>use</span><span class='lparen'>(</span><span class='id identifier rubyid_dependency_injection'>dependency_injection</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_conf-instance_method">
  
    #<strong>use_conf</strong>(*conf)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'></div></div>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


83
84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 83</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_conf'>use_conf</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_conf'>conf</span><span class='rparen'>)</span>
    <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecated'>warn_deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MasterDeviceInstance#use_conf is deprecated. Use #with_conf instead</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_with_conf'>with_conf</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_conf'>conf</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_deployments-instance_method">
  
    #<strong>use_deployments</strong>(hints)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


343
344
345
346
347</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 343</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_deployments'>use_deployments</span><span class='lparen'>(</span><span class='id identifier rubyid_hints'>hints</span><span class='rparen'>)</span>
    <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_warn_deprecated'>warn_deprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MasterDeviceInstance#use_deployments is deprecated. Use #prefer_deployed_tasks instead</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_prefer_deployed_tasks'>prefer_deployed_tasks</span><span class='lparen'>(</span><span class='id identifier rubyid_hints'>hints</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_arguments-instance_method">
  
    #<strong>with_arguments</strong>(arguments = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add arguments to the underlying device driver</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


332
333
334
335</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 332</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_arguments'>with_arguments</span><span class='lparen'>(</span><span class='id identifier rubyid_arguments'>arguments</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_with_arguments'>with_arguments</span><span class='lparen'>(</span><span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_conf-instance_method">
  
    #<strong>with_conf</strong>(*conf)  &#x21d2; <tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Declares that the following configuration chain should be used for this
device</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/robot/master_device_instance.rb', line 90</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_conf'>with_conf</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_conf'>conf</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_with_conf'>with_conf</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_conf'>conf</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 21:57:55 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>