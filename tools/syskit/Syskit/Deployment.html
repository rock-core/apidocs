<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Syskit::Deployment
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Syskit::Deployment";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (D)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span>
     &raquo; 
    <span class="title">Deployment</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Syskit::Deployment
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Roby::Task</span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Roby::Task</li>
          
            <li class="next">Syskit::Deployment</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>Logger::Hierarchy, <span class='object_link'><a href="Models/Deployment.html" title="Syskit::Models::Deployment (module)">Models::Deployment</a></span></dd>
  </dl>
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>Logger::Hierarchy</dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/syskit/deployment.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>In oroGen, a deployment is a Unix process that holds a certain number of
task contexts. This Roby task represents the unix process itself. Once it
gets instanciated, the associated task contexts can be accessed with
#task(name)</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Deployment/CurrentTaskConfiguration.html" title="Syskit::Deployment::CurrentTaskConfiguration (class)">CurrentTaskConfiguration</a></span>, <span class='object_link'><a href="Deployment/Ready.html" title="Syskit::Deployment::Ready (class)">Ready</a></span>, <span class='object_link'><a href="Deployment/RemoteTaskHandles.html" title="Syskit::Deployment::RemoteTaskHandles (class)">RemoteTaskHandles</a></span>, <span class='object_link'><a href="Deployment/Signaled.html" title="Syskit::Deployment::Signaled (class)">Signaled</a></span>, <span class='object_link'><a href="Deployment/Start.html" title="Syskit::Deployment::Start (class)">Start</a></span>, <span class='object_link'><a href="Deployment/Stop.html" title="Syskit::Deployment::Stop (class)">Stop</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="STATE_READER_BUFFER_SIZE-constant" class="">STATE_READER_BUFFER_SIZE =
          <div class="docstring">
  <div class="discussion">
    
<p>The size of the buffered connection created between this object and the
remote task&#39;s state port</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='int'>200</span></pre></dd>
      
        <dt id="all_deployments-classvariable" class="">@@all_deployments =
          
        </dt>
        <dd><pre class="code"><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#orocos_process-instance_method" title="#orocos_process (instance method)">#<strong>orocos_process</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The underlying Orocos::Process instance.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#quit_ready_event_monitor-instance_method" title="#quit_ready_event_monitor (instance method)">#<strong>quit_ready_event_monitor</strong>  &#x21d2; Concurrent::Event </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Event used to quit the ready monitor started by
<span class='object_link'><a href="#schedule_ready_event_monitor-instance_method" title="Syskit::Deployment#schedule_ready_event_monitor (method)">#schedule_ready_event_monitor</a></span>.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#remote_task_handles-instance_method" title="#remote_task_handles (instance method)">#<strong>remote_task_handles</strong>  &#x21d2; Hash&lt;String,RemoteTaskHandles&gt; </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handles to all remote tasks from this deployment.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Models/Deployment.html" title="Syskit::Models::Deployment (module)">Models::Deployment</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Models/Deployment.html#orogen_model-instance_method" title="Syskit::Models::Deployment#orogen_model (method)">#orogen_model</a></span></p>


  
    <h2>
      Task Arguments
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#log-instance_method" title="#log (instance method)">#<strong>log</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#log=-instance_method" title="#log= (instance method)">#<strong>log=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#logger_task-instance_method" title="#logger_task (instance method)">#<strong>logger_task</strong>  &#x21d2; TaskContext<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns this deployment&#39;s logger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#logger_task=-instance_method" title="#logger_task= (instance method)">#<strong>logger_task=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name_mappings-instance_method" title="#name_mappings (instance method)">#<strong>name_mappings</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name_mappings=-instance_method" title="#name_mappings= (instance method)">#<strong>name_mappings=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on-instance_method" title="#on (instance method)">#<strong>on</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on=-instance_method" title="#on= (instance method)">#<strong>on=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#process_name-instance_method" title="#process_name (instance method)">#<strong>process_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#process_name=-instance_method" title="#process_name= (instance method)">#<strong>process_name=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ready_polling_period-instance_method" title="#ready_polling_period (instance method)">#<strong>ready_polling_period</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Default: 0.1.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ready_polling_period=-instance_method" title="#ready_polling_period= (instance method)">#<strong>ready_polling_period=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#spawn_options-instance_method" title="#spawn_options (instance method)">#<strong>spawn_options</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#spawn_options=-instance_method" title="#spawn_options= (instance method)">#<strong>spawn_options=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Task Events
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ready%3F-instance_method" title="#ready? (instance method)">#<strong>ready?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Event emitted when the deployment is up and running.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ready_event-instance_method" title="#ready_event (instance method)">#<strong>ready_event</strong>  &#x21d2; EventGenerator </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Event emitted when the deployment is up and running.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#signaled%3F-instance_method" title="#signaled? (instance method)">#<strong>signaled?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Event emitted whenever the deployment finishes because of a UNIX signal.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#signaled_event-instance_method" title="#signaled_event (instance method)">#<strong>signaled_event</strong>  &#x21d2; EventGenerator </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Event emitted whenever the deployment finishes because of a UNIX signal.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start%3F-instance_method" title="#start? (instance method)">#<strong>start?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>method: start!.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_event-instance_method" title="#start_event (instance method)">#<strong>start_event</strong>  &#x21d2; EventGenerator </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>method: start!.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop%3F-instance_method" title="#stop? (instance method)">#<strong>stop?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>method: stop!.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop_event-instance_method" title="#stop_event (instance method)">#<strong>stop_event</strong>  &#x21d2; EventGenerator </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>method: stop!.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_deployments-class_method" title="all_deployments (class method)">.<strong>all_deployments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#command_line-class_method" title="command_line (class method)">.<strong>command_line</strong>(name, name_mappings, working_directory: Roby.app.log_dir, log_level: nil, cmdline_args: Hash.new, tracing: false, gdb: nil, valgrind: nil, name_service_ip: &#39;localhost&#39;, loader: Roby.app.default_pkgconfig_loader)  &#x21d2; Orocos::Process::CommandLine </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create the spawn options needed to start this deployment for the given
configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deployment_by_process-class_method" title="deployment_by_process (class method)">.<strong>deployment_by_process</strong>(process)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the deployment object that matches the given process object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#needs_reconfiguration!-class_method" title="needs_reconfiguration! (class method)">.<strong>needs_reconfiguration!</strong>(plan, orocos_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Force reconfiguration for all tasks in a plan that match the given orocos
name.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#configuration_changed%3F-instance_method" title="#configuration_changed? (instance method)">#<strong>configuration_changed?</strong>(orocos_name, conf, dynamic_services)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>The currently applied configuration for the given task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#configuring%3F-instance_method" title="#configuring? (instance method)">#<strong>configuring?</strong>(orocos_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Whether one of this deployment&#39;s task is being configured.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_deployed_task-instance_method" title="#create_deployed_task (instance method)">#<strong>create_deployed_task</strong>(orogen_task_deployment_model, syskit_task_model, scheduler_task, auto_conf: false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Create and add a task model supported by this deployment.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_state_access-instance_method" title="#create_state_access (instance method)">#<strong>create_state_access</strong>(remote_task, distance: TaskContext::D_UNKNOWN)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Called asynchronously to initialize the <span class='object_link'><a href="Deployment/RemoteTaskHandles.html" title="Syskit::Deployment::RemoteTaskHandles (class)">RemoteTaskHandles</a></span> object once and
for all.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dead!-instance_method" title="#dead! (instance method)">#<strong>dead!</strong>(result)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called when the process is finished.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deployed_model_by_orogen_model-instance_method" title="#deployed_model_by_orogen_model (instance method)">#<strong>deployed_model_by_orogen_model</strong>(orogen_model)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deployed_orogen_model_by_name-instance_method" title="#deployed_orogen_model_by_name (instance method)">#<strong>deployed_orogen_model_by_name</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#distance_to-instance_method" title="#distance_to (instance method)">#<strong>distance_to</strong>(other_deployment)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>“How far” this deployment is from another.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#distance_to_syskit-instance_method" title="#distance_to_syskit (instance method)">#<strong>distance_to_syskit</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>How “far” this process is from the Syskit process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_orogen_deployed_task_context_model-instance_method" title="#each_orogen_deployed_task_context_model (instance method)">#<strong>each_orogen_deployed_task_context_model</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The list of deployed task contexts for this particular deployment.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_or_create_task-instance_method" title="#find_or_create_task (instance method)">#<strong>find_or_create_task</strong>(name, syskit_task_model = nil, auto_conf: false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Either find the existing task that matches the given deployment
specification, or creates and adds it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#finished_configuration-instance_method" title="#finished_configuration (instance method)">#<strong>finished_configuration</strong>(orocos_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Declare that the given task is being configured.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_orocos_name%3F-instance_method" title="#has_orocos_name? (instance method)">#<strong>has_orocos_name?</strong>(orocos_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#host_id-instance_method" title="#host_id (instance method)">#<strong>host_id</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The name of the host this deployment is running on, i.e.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#in_process%3F-instance_method" title="#in_process? (instance method)">#<strong>in_process?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether this task runs within the Syskit process itself.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(options = Hash.new)  &#x21d2; Deployment </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Deployment.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instanciate_all_tasks-instance_method" title="#instanciate_all_tasks (instance method)">#<strong>instanciate_all_tasks</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#log_dir-instance_method" title="#log_dir (instance method)">#<strong>log_dir</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#log_port%3F-instance_method" title="#log_port? (instance method)">#<strong>log_port?</strong>(port)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if the syskit plugin configuration requires <code>port</code>
to be logged.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mark_changed_configuration_as_not_reusable-instance_method" title="#mark_changed_configuration_as_not_reusable (instance method)">#<strong>mark_changed_configuration_as_not_reusable</strong>(changed)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Mark tasks affected by a change in configuration section as non-reusable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#needs_reconfiguration!-instance_method" title="#needs_reconfiguration! (instance method)">#<strong>needs_reconfiguration!</strong>(orocos_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Force a task to be reconfigured during the next network adaptation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#needs_reconfiguration%3F-instance_method" title="#needs_reconfiguration? (instance method)">#<strong>needs_reconfiguration?</strong>(orocos_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Whether a task should be forcefully reconfigured during the next network
adaptation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_localhost%3F-instance_method" title="#on_localhost? (instance method)">#<strong>on_localhost?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether this deployment runs on the same host than the Syskit process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pending_reconfigurations-instance_method" title="#pending_reconfigurations (instance method)">#<strong>pending_reconfigurations</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List of task (orocos names) that are marked as needing reconfiguration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pid-instance_method" title="#pid (instance method)">#<strong>pid</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The PID of this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#process_server_config-instance_method" title="#process_server_config (instance method)">#<strong>process_server_config</strong>  &#x21d2; RobyApp::Configuration::ProcessServerConfig </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An object describing the underlying pocess server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#process_server_name-instance_method" title="#process_server_name (instance method)">#<strong>process_server_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The name of the process server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ready_to_die!-instance_method" title="#ready_to_die! (instance method)">#<strong>ready_to_die!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ready_to_die%3F-instance_method" title="#ready_to_die? (instance method)">#<strong>ready_to_die?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#schedule_ready_event_monitor-instance_method" title="#schedule_ready_event_monitor (instance method)">#<strong>schedule_ready_event_monitor</strong>(handles_from_plan, ready_polling_period: self.ready_polling_period)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Schedule a promise to resolve the task handles.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup_task_handles-instance_method" title="#setup_task_handles (instance method)">#<strong>setup_task_handles</strong>(remote_tasks)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start-instance_method" title="#start (instance method)">#<strong>start</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>method: start!.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_configuration-instance_method" title="#start_configuration (instance method)">#<strong>start_configuration</strong>(orocos_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Declare that the given task is being configured.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop-instance_method" title="#stop (instance method)">#<strong>stop</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>method: stop!.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#task-instance_method" title="#task (instance method)">#<strong>task</strong>(name, syskit_task_model = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an task instance that represents the given task in this deployment.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_current_configuration-instance_method" title="#update_current_configuration (instance method)">#<strong>update_current_configuration</strong>(orocos_name, model, conf, current_dynamic_services)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Update the last known configuration of a task.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Models/Deployment.html" title="Syskit::Models::Deployment (module)">Models::Deployment</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Models/Deployment.html#all_default_name_mapping-instance_method" title="Syskit::Models::Deployment#all_default_name_mapping (method)">all_default_name_mapping</a></span>, <span class='object_link'><a href="Models/Deployment.html#all_default_run_option-instance_method" title="Syskit::Models::Deployment#all_default_run_option (method)">all_default_run_option</a></span>, <span class='object_link'><a href="Models/Deployment.html#default_name_mapping-instance_method" title="Syskit::Models::Deployment#default_name_mapping (method)">default_name_mapping</a></span>, <span class='object_link'><a href="Models/Deployment.html#default_name_mappings-instance_method" title="Syskit::Models::Deployment#default_name_mappings (method)">default_name_mappings</a></span>, <span class='object_link'><a href="Models/Deployment.html#default_run_option-instance_method" title="Syskit::Models::Deployment#default_run_option (method)">default_run_option</a></span>, <span class='object_link'><a href="Models/Deployment.html#default_run_options-instance_method" title="Syskit::Models::Deployment#default_run_options (method)">default_run_options</a></span>, <span class='object_link'><a href="Models/Deployment.html#define_from_orogen-instance_method" title="Syskit::Models::Deployment#define_from_orogen (method)">define_from_orogen</a></span>, <span class='object_link'><a href="Models/Deployment.html#deployment_name-instance_method" title="Syskit::Models::Deployment#deployment_name (method)">deployment_name</a></span>, <span class='object_link'><a href="Models/Deployment.html#each_default_name_mapping-instance_method" title="Syskit::Models::Deployment#each_default_name_mapping (method)">each_default_name_mapping</a></span>, <span class='object_link'><a href="Models/Deployment.html#each_default_run_option-instance_method" title="Syskit::Models::Deployment#each_default_run_option (method)">each_default_run_option</a></span>, <span class='object_link'><a href="Models/Deployment.html#each_deployed_task_model-instance_method" title="Syskit::Models::Deployment#each_deployed_task_model (method)">each_deployed_task_model</a></span>, <span class='object_link'><a href="Models/Deployment.html#each_deployed_task_name-instance_method" title="Syskit::Models::Deployment#each_deployed_task_name (method)">each_deployed_task_name</a></span>, <span class='object_link'><a href="Models/Deployment.html#instanciate-instance_method" title="Syskit::Models::Deployment#instanciate (method)">instanciate</a></span>, <span class='object_link'><a href="Models/Deployment.html#new_submodel-instance_method" title="Syskit::Models::Deployment#new_submodel (method)">new_submodel</a></span>, <span class='object_link'><a href="Models/Deployment.html#supermodel-instance_method" title="Syskit::Models::Deployment#supermodel (method)">supermodel</a></span>, <span class='object_link'><a href="Models/Deployment.html#tasks-instance_method" title="Syskit::Models::Deployment#tasks (method)">tasks</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Models/OrogenBase.html" title="Syskit::Models::OrogenBase (module)">Models::OrogenBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Models/OrogenBase.html#find_model_by_orogen-instance_method" title="Syskit::Models::OrogenBase#find_model_by_orogen (method)">#find_model_by_orogen</a></span>, <span class='object_link'><a href="Models/OrogenBase.html#find_model_from_orogen_name-instance_method" title="Syskit::Models::OrogenBase#find_model_from_orogen_name (method)">#find_model_from_orogen_name</a></span>, <span class='object_link'><a href="Models/OrogenBase.html#has_model_for%3F-instance_method" title="Syskit::Models::OrogenBase#has_model_for? (method)">#has_model_for?</a></span>, <span class='object_link'><a href="Models/OrogenBase.html#model_for-instance_method" title="Syskit::Models::OrogenBase#model_for (method)">#model_for</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Models/Base.html" title="Syskit::Models::Base (module)">Models::Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Models/Base.html#dependency_injection_names-instance_method" title="Syskit::Models::Base#dependency_injection_names (method)">#dependency_injection_names</a></span>, <span class='object_link'><a href="Models/Base.html#pretty_print-instance_method" title="Syskit::Models::Base#pretty_print (method)">#pretty_print</a></span>, <span class='object_link'><a href="Models/Base.html#short_name-instance_method" title="Syskit::Models::Base#short_name (method)">#short_name</a></span>, <span class='object_link'><a href="Models/Base.html#to_instance_requirements-instance_method" title="Syskit::Models::Base#to_instance_requirements (method)">#to_instance_requirements</a></span>, <span class='object_link'><a href="Models/Base.html#to_s-instance_method" title="Syskit::Models::Base#to_s (method)">#to_s</a></span></p>

  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="" title="Syskit::Deployment (class)">Deployment</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Deployment</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


44
45
46
47
48
49
50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 44</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='kw'>super</span>

    <span class='ivar'>@quit_ready_event_monitor</span> <span class='op'>=</span> <span class='const'>Concurrent</span><span class='op'>::</span><span class='const'>Event</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@remote_task_handles</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spawn_options'>spawn_options</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spawn_options'>spawn_options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name_mappings'>name_mappings</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name_mappings'>name_mappings</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_default_name_mapping'>each_default_name_mapping</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_v'>v</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="orocos_process-instance_method">
  
    #<strong>orocos_process</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The underlying Orocos::Process instance</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_orocos_process'>orocos_process</span>
  <span class='ivar'>@orocos_process</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="quit_ready_event_monitor-instance_method">
  
    #<strong>quit_ready_event_monitor</strong>  &#x21d2; <tt>Concurrent::Event</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Event used to quit the ready monitor started by
<span class='object_link'><a href="#schedule_ready_event_monitor-instance_method" title="Syskit::Deployment#schedule_ready_event_monitor (method)">#schedule_ready_event_monitor</a></span></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Concurrent::Event</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


438
439
440</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 438</span>

<span class='kw'>def</span> <span class='id identifier rubyid_quit_ready_event_monitor'>quit_ready_event_monitor</span>
  <span class='ivar'>@quit_ready_event_monitor</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="remote_task_handles-instance_method">
  
    #<strong>remote_task_handles</strong>  &#x21d2; <tt>Hash&lt;String,<span class='object_link'><a href="Deployment/RemoteTaskHandles.html" title="Syskit::Deployment::RemoteTaskHandles (class)">RemoteTaskHandles</a></span>&gt;</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Handles to all remote tasks from this deployment</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,<span class='object_link'><a href="Deployment/RemoteTaskHandles.html" title="Syskit::Deployment::RemoteTaskHandles (class)">RemoteTaskHandles</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span>
  <span class='ivar'>@remote_task_handles</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="all_deployments-class_method">
  
    .<strong>all_deployments</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 62</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all_deployments'>all_deployments</span><span class='semicolon'>;</span> <span class='cvar'>@@all_deployments</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="command_line-class_method">
  
    .<strong>command_line</strong>(name, name_mappings, working_directory: Roby.app.log_dir, log_level: nil, cmdline_args: Hash.new, tracing: false, gdb: nil, valgrind: nil, name_service_ip: &#39;localhost&#39;, loader: Roby.app.default_pkgconfig_loader)  &#x21d2; <tt>Orocos::Process::CommandLine</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create the spawn options needed to start this deployment for the given
configuration</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Orocos::Process::CommandLine</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 297</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_command_line'>command_line</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='comma'>,</span>
        <span class='label'>working_directory:</span> <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span>
        <span class='label'>log_level:</span> <span class='kw'>nil</span><span class='comma'>,</span>
        <span class='label'>cmdline_args:</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span>
        <span class='label'>tracing:</span> <span class='kw'>false</span><span class='comma'>,</span>
        <span class='label'>gdb:</span> <span class='kw'>nil</span><span class='comma'>,</span>
        <span class='label'>valgrind:</span> <span class='kw'>nil</span><span class='comma'>,</span>
        <span class='label'>name_service_ip:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
        <span class='label'>loader:</span> <span class='const'>Roby</span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_default_pkgconfig_loader'>default_pkgconfig_loader</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_cmdline_args'>cmdline_args</span> <span class='op'>=</span> <span class='id identifier rubyid_cmdline_args'>cmdline_args</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_each_default_run_option'>each_default_run_option</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_option_name'>option_name</span><span class='comma'>,</span> <span class='id identifier rubyid_option_value'>option_value</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_cmdline_args'>cmdline_args</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_option_name'>option_name</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_cmdline_args'>cmdline_args</span><span class='lbracket'>[</span><span class='id identifier rubyid_option_name'>option_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_option_value'>option_value</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_process'>process</span> <span class='op'>=</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>Process</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_orogen_model'>orogen_model</span><span class='comma'>,</span>
        <span class='label'>loader:</span> <span class='id identifier rubyid_loader'>loader</span><span class='comma'>,</span>
        <span class='label'>name_mappings:</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_process'>process</span><span class='period'>.</span><span class='id identifier rubyid_command_line'>command_line</span><span class='lparen'>(</span>
        <span class='label'>working_directory:</span> <span class='id identifier rubyid_working_directory'>working_directory</span><span class='comma'>,</span>
        <span class='label'>log_level:</span> <span class='id identifier rubyid_log_level'>log_level</span><span class='comma'>,</span>
        <span class='label'>cmdline_args:</span> <span class='id identifier rubyid_cmdline_args'>cmdline_args</span><span class='comma'>,</span>
        <span class='label'>tracing:</span> <span class='id identifier rubyid_tracing'>tracing</span><span class='comma'>,</span>
        <span class='label'>gdb:</span> <span class='id identifier rubyid_gdb'>gdb</span><span class='comma'>,</span>
        <span class='label'>valgrind:</span> <span class='id identifier rubyid_valgrind'>valgrind</span><span class='comma'>,</span>
        <span class='label'>name_service_ip:</span> <span class='id identifier rubyid_name_service_ip'>name_service_ip</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deployment_by_process-class_method">
  
    .<strong>deployment_by_process</strong>(process)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the deployment object that matches the given process object</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>process</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the deployment&#39;s process object. Note that it is usually not a Ruby
Process object, but a process representation from orocosrb&#39;s process
server infrastructure</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


713
714
715</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 713</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_deployment_by_process'>deployment_by_process</span><span class='lparen'>(</span><span class='id identifier rubyid_process'>process</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_all_deployments'>all_deployments</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_process'>process</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="needs_reconfiguration!-class_method">
  
    .<strong>needs_reconfiguration!</strong>(plan, orocos_name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Force reconfiguration for all tasks in a plan that match the given orocos
name</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


537
538
539
540
541
542
543
544</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 537</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_needs_reconfiguration!'>needs_reconfiguration!</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid_find_local_tasks'>find_local_tasks</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Syskit::Deployment (class)">Deployment</a></span></span><span class='rparen'>)</span><span class='period'>.</span>
        <span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_deployment_task'>deployment_task</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_deployment_task'>deployment_task</span><span class='period'>.</span><span class='id identifier rubyid_has_orocos_name?'>has_orocos_name?</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_deployment_task'>deployment_task</span><span class='period'>.</span><span class='id identifier rubyid_needs_reconfiguration!'>needs_reconfiguration!</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="configuration_changed?-instance_method">
  
    #<strong>configuration_changed?</strong>(orocos_name, conf, dynamic_services)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>The currently applied configuration for the given task</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


519
520
521
522
523</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 519</span>

<span class='kw'>def</span> <span class='id identifier rubyid_configuration_changed?'>configuration_changed?</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='comma'>,</span> <span class='id identifier rubyid_conf'>conf</span><span class='comma'>,</span> <span class='id identifier rubyid_dynamic_services'>dynamic_services</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_current_configuration'>current_configuration</span>
    <span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span> <span class='op'>!=</span> <span class='id identifier rubyid_conf'>conf</span> <span class='op'>||</span>
        <span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_dynamic_services'>dynamic_services</span> <span class='op'>!=</span> <span class='id identifier rubyid_dynamic_services'>dynamic_services</span><span class='period'>.</span><span class='id identifier rubyid_to_set'>to_set</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="configuring?-instance_method">
  
    #<strong>configuring?</strong>(orocos_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Whether one of this deployment&#39;s task is being configured</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


498
499
500</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 498</span>

<span class='kw'>def</span> <span class='id identifier rubyid_configuring?'>configuring?</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_configuring'>configuring</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_deployed_task-instance_method">
  
    #<strong>create_deployed_task</strong>(orogen_task_deployment_model, syskit_task_model, scheduler_task, auto_conf: false)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Create and add a task model supported by this deployment</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>orogen_task_deployment_model</span>
      
      
        <span class='type'>(<tt>OroGen::Spec::TaskDeployment</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the orogen model that describes this deployment</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>syskit_task_model</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Models/TaskContext.html" title="Syskit::Models::TaskContext (module)">Models::TaskContext</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the expected syskit task model, or nil if it is meant to use the basic
model. This is useful in specialized models (e.g. dynamic services)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>syskit_execution_agent</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Syskit::Deployment (class)">Deployment</a></span></tt>, <tt><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the task that will be used as an execution agent. this is usually self, but
may be a task in master/slave relationships.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>auto_conf</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if true, the method will attempt to select a configuration that matches the
task&#39;s orocos name (if it exists). This is mostly used for scheduling
tasks, which are automatically instanciated by Syskit.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#find_or_create_task-instance_method" title="Syskit::Deployment#find_or_create_task (method)">task</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_deployed_task'>create_deployed_task</span><span class='lparen'>(</span><span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span><span class='comma'>,</span>
    <span class='id identifier rubyid_syskit_task_model'>syskit_task_model</span><span class='comma'>,</span> <span class='id identifier rubyid_scheduler_task'>scheduler_task</span><span class='comma'>,</span> <span class='label'>auto_conf:</span> <span class='kw'>false</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_mapped_name'>mapped_name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_base_syskit_task_model'>base_syskit_task_model</span> <span class='op'>=</span> <span class='id identifier rubyid_deployed_model_by_orogen_model'>deployed_model_by_orogen_model</span><span class='lparen'>(</span>
        <span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_syskit_task_model'>syskit_task_model</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_syskit_task_model'>syskit_task_model</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_base_syskit_task_model'>base_syskit_task_model</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>incompatible explicit selection of task </span><span class='tstring_end'>&quot;</span></span>\
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>model </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_syskit_task_model'>syskit_task_model</span><span class='embexpr_end'>}</span><span class='tstring_content'> for the model of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mapped_name'>mapped_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>\
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> in </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_syskit_task_model'>syskit_task_model</span> <span class='op'>=</span> <span class='id identifier rubyid_base_syskit_task_model'>base_syskit_task_model</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span> <span class='op'>=</span> <span class='id identifier rubyid_syskit_task_model'>syskit_task_model</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>orocos_name:</span> <span class='id identifier rubyid_mapped_name'>mapped_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_executed_by'>executed_by</span> <span class='kw'>self</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_scheduler_task'>scheduler_task</span>
        <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_depends_on'>depends_on</span> <span class='id identifier rubyid_scheduler_task'>scheduler_task</span><span class='comma'>,</span> <span class='label'>role:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>scheduler</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_should_configure_after'>should_configure_after</span> <span class='id identifier rubyid_scheduler_task'>scheduler_task</span><span class='period'>.</span><span class='id identifier rubyid_start_event'>start_event</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_orogen_model'>orogen_model</span> <span class='op'>=</span> <span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_ready?'>ready?</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_remote_task'>remote_task</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='lbracket'>[</span><span class='id identifier rubyid_mapped_name'>mapped_name</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_initialize_remote_handles'>initialize_remote_handles</span><span class='lparen'>(</span><span class='id identifier rubyid_remote_task'>remote_task</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="InternalError.html" title="Syskit::InternalError (class)">InternalError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no remote handle describing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mapped_name'>mapped_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> in </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task'>task</span><span class='embexpr_end'>}</span><span class='tstring_content'> (got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_auto_select_conf'>auto_select_conf</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_auto_conf'>auto_conf</span>
    <span class='id identifier rubyid_task'>task</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_state_access-instance_method">
  
    #<strong>create_state_access</strong>(remote_task, distance: TaskContext::D_UNKNOWN)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Called asynchronously to initialize the <span class='object_link'><a href="Deployment/RemoteTaskHandles.html" title="Syskit::Deployment::RemoteTaskHandles (class)">RemoteTaskHandles</a></span> object once and
for all</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 621</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_state_access'>create_state_access</span><span class='lparen'>(</span><span class='id identifier rubyid_remote_task'>remote_task</span><span class='comma'>,</span> <span class='label'>distance:</span> <span class='const'><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='op'>::</span><span class='const'>D_UNKNOWN</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_state_getter'>state_getter</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RemoteStateGetter.html" title="Syskit::RemoteStateGetter (class)">RemoteStateGetter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="RemoteStateGetter.html#initialize-instance_method" title="Syskit::RemoteStateGetter#initialize (method)">new</a></span></span><span class='lparen'>(</span>
        <span class='id identifier rubyid_remote_task'>remote_task</span><span class='comma'>,</span>
        <span class='label'>initial_state:</span> <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_rtt_state'>rtt_state</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_extended_state_support?'>extended_state_support?</span>
        <span class='id identifier rubyid_state_port'>state_port</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_raw_port'>raw_port</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>state</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_state_reader'>state_reader</span> <span class='op'>=</span> <span class='id identifier rubyid_state_port'>state_port</span><span class='period'>.</span><span class='id identifier rubyid_reader'>reader</span><span class='lparen'>(</span>
            <span class='label'>type:</span> <span class='symbol'>:buffer</span><span class='comma'>,</span> <span class='label'>size:</span> <span class='const'><span class='object_link'><a href="#STATE_READER_BUFFER_SIZE-constant" title="Syskit::Deployment::STATE_READER_BUFFER_SIZE (constant)">STATE_READER_BUFFER_SIZE</a></span></span><span class='comma'>,</span> <span class='label'>init:</span> <span class='kw'>true</span><span class='comma'>,</span>
            <span class='label'>distance:</span> <span class='id identifier rubyid_distance'>distance</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_state_reader'>state_reader</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>TaskContext</span><span class='op'>::</span><span class='const'>StateReader</span>
        <span class='id identifier rubyid_state_reader'>state_reader</span><span class='period'>.</span><span class='id identifier rubyid_state_symbols'>state_symbols</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_state_symbols'>state_symbols</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_state_reader'>state_reader</span> <span class='op'>=</span> <span class='id identifier rubyid_state_getter'>state_getter</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_state_reader'>state_reader</span><span class='comma'>,</span> <span class='id identifier rubyid_state_getter'>state_getter</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dead!-instance_method">
  
    #<strong>dead!</strong>(result)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called when the process is finished.</p>

<p><code>result</code> is the Process::Status object describing how this
process finished.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 683</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dead!'>dead!</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_history'>history</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:terminal?</span><span class='rparen'>)</span>
        <span class='comment'># Do nothing. A terminal event already happened, so we don&#39;t
</span>        <span class='comment'># need to tell what kind of end this is for the system
</span>        <span class='id identifier rubyid_stop_event'>stop_event</span><span class='period'>.</span><span class='id identifier rubyid_emit'>emit</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span>
        <span class='id identifier rubyid_failed_event'>failed_event</span><span class='period'>.</span><span class='id identifier rubyid_emit'>emit</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_success?'>success?</span>
        <span class='id identifier rubyid_success_event'>success_event</span><span class='period'>.</span><span class='id identifier rubyid_emit'>emit</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_signaled?'>signaled?</span>
        <span class='id identifier rubyid_signaled_event'>signaled_event</span><span class='period'>.</span><span class='id identifier rubyid_emit'>emit</span> <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_failed_event'>failed_event</span><span class='period'>.</span><span class='id identifier rubyid_emit'>emit</span> <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>end</span>

    <span class='const'><span class='object_link'><a href="" title="Syskit::Deployment (class)">Deployment</a></span></span><span class='period'>.</span><span class='id identifier rubyid_all_deployments'><span class='object_link'><a href="#all_deployments-class_method" title="Syskit::Deployment.all_deployments (method)">all_deployments</a></span></span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='rparen'>)</span>

    <span class='comment'># do NOT call cleanup_dead_connections here.
</span>    <span class='comment'># Runtime.update_deployment_states will first announce all the
</span>    <span class='comment'># dead processes and only then call #cleanup_dead_connections,
</span>    <span class='comment'># thus avoiding to disconnect connections between already-dead
</span>    <span class='comment'># processes
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deployed_model_by_orogen_model-instance_method">
  
    #<strong>deployed_model_by_orogen_model</strong>(orogen_model)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 157</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deployed_model_by_orogen_model'>deployed_model_by_orogen_model</span><span class='lparen'>(</span><span class='id identifier rubyid_orogen_model'>orogen_model</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_model_for'><span class='object_link'><a href="Models/OrogenBase.html#model_for-instance_method" title="Syskit::Models::OrogenBase#model_for (method)">model_for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_orogen_model'>orogen_model</span><span class='period'>.</span><span class='id identifier rubyid_task_model'>task_model</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deployed_orogen_model_by_name-instance_method">
  
    #<strong>deployed_orogen_model_by_name</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144
145
146
147
148
149
150
151
152
153
154
155</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 142</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deployed_orogen_model_by_name'>deployed_orogen_model_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_orogen_task_deployment'>orogen_task_deployment</span> <span class='op'>=</span> <span class='id identifier rubyid_each_orogen_deployed_task_context_model'>each_orogen_deployed_task_context_model</span><span class='period'>.</span>
        <span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_act'>act</span><span class='op'>|</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_act'>act</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_orogen_task_deployment'>orogen_task_deployment</span>
        <span class='id identifier rubyid_available'>available</span> <span class='op'>=</span> <span class='id identifier rubyid_each_orogen_deployed_task_context_model'>each_orogen_deployed_task_context_model</span><span class='period'>.</span>
            <span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_act'>act</span><span class='op'>|</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_act'>act</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_mappings'>mappings</span>  <span class='op'>=</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='period'>.</span>
            <span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='embexpr_end'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no task called </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> in </span><span class='tstring_end'>&quot;</span></span>\
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_deployment_name'>deployment_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, available tasks are </span><span class='tstring_end'>&quot;</span></span>\
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_available'>available</span><span class='embexpr_end'>}</span><span class='tstring_content'> using name mappings </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mappings'>mappings</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_orogen_task_deployment'>orogen_task_deployment</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="distance_to-instance_method">
  
    #<strong>distance_to</strong>(other_deployment)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>“How far” this deployment is from another</p>

<p>It returns one of the TaskContext::D_ constants</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


394
395
396
397
398
399
400
401
402
403
404
405
406</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 394</span>

<span class='kw'>def</span> <span class='id identifier rubyid_distance_to'>distance_to</span><span class='lparen'>(</span><span class='id identifier rubyid_other_deployment'>other_deployment</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_other_deployment'>other_deployment</span> <span class='op'>==</span> <span class='kw'>self</span>
        <span class='const'><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TaskContext.html#D_SAME_PROCESS-constant" title="Syskit::TaskContext::D_SAME_PROCESS (constant)">D_SAME_PROCESS</a></span></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_other_deployment'>other_deployment</span><span class='period'>.</span><span class='id identifier rubyid_host_id'>host_id</span> <span class='op'>==</span> <span class='id identifier rubyid_host_id'>host_id</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_host_id'>host_id</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>syskit</span><span class='tstring_end'>&#39;</span></span>
            <span class='const'><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TaskContext.html#D_SAME_PROCESS-constant" title="Syskit::TaskContext::D_SAME_PROCESS (constant)">D_SAME_PROCESS</a></span></span>
        <span class='kw'>else</span>
            <span class='const'><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TaskContext.html#D_SAME_HOST-constant" title="Syskit::TaskContext::D_SAME_HOST (constant)">D_SAME_HOST</a></span></span>
        <span class='kw'>end</span>
    <span class='kw'>else</span>
        <span class='const'><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TaskContext.html#D_DIFFERENT_HOSTS-constant" title="Syskit::TaskContext::D_DIFFERENT_HOSTS (constant)">D_DIFFERENT_HOSTS</a></span></span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="distance_to_syskit-instance_method">
  
    #<strong>distance_to_syskit</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>How “far” this process is from the Syskit process</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>one of the <span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span>::D_* constants</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


360
361
362
363
364
365
366
367
368</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 360</span>

<span class='kw'>def</span> <span class='id identifier rubyid_distance_to_syskit'>distance_to_syskit</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_in_process?'>in_process?</span>
        <span class='const'><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TaskContext.html#D_SAME_PROCESS-constant" title="Syskit::TaskContext::D_SAME_PROCESS (constant)">D_SAME_PROCESS</a></span></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_on_localhost?'>on_localhost?</span>
        <span class='const'><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TaskContext.html#D_SAME_HOST-constant" title="Syskit::TaskContext::D_SAME_HOST (constant)">D_SAME_HOST</a></span></span>
    <span class='kw'>else</span>
        <span class='const'><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TaskContext.html#D_DIFFERENT_HOSTS-constant" title="Syskit::TaskContext::D_DIFFERENT_HOSTS (constant)">D_DIFFERENT_HOSTS</a></span></span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_orogen_deployed_task_context_model-instance_method">
  
    #<strong>each_orogen_deployed_task_context_model</strong>(&amp;block)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The list of deployed task contexts for this particular deployment</p>

<p>It takes into account deployment prefix</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 104</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_orogen_deployed_task_context_model'>each_orogen_deployed_task_context_model</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_orogen_deployed_task_context_model'>each_orogen_deployed_task_context_model</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_or_create_task-instance_method">
  
    #<strong>find_or_create_task</strong>(name, syskit_task_model = nil, auto_conf: false)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Either find the existing task that matches the given deployment
specification, or creates and adds it.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the unmapped name of the task</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>syskit_task_model</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Models/TaskContext.html" title="Syskit::Models::TaskContext (module)">Models::TaskContext</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the Syskit model that should be used to create the task, if it is not the
same as the base model. This is used for specialized models (e.g. dynamic
services)</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 112</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_or_create_task'>find_or_create_task</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_syskit_task_model'>syskit_task_model</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>auto_conf:</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span> <span class='op'>=</span> <span class='id identifier rubyid_deployed_orogen_model_by_name'>deployed_orogen_model_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_orogen_master'>orogen_master</span> <span class='op'>=</span> <span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span><span class='period'>.</span><span class='id identifier rubyid_master'>master</span>
        <span class='id identifier rubyid_mapped_master'>mapped_master</span> <span class='op'>=</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_orogen_master'>orogen_master</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_scheduler_task'>scheduler_task</span> <span class='op'>=</span> <span class='id identifier rubyid_find_or_create_task'>find_or_create_task</span><span class='lparen'>(</span>
            <span class='id identifier rubyid_mapped_master'>mapped_master</span><span class='comma'>,</span> <span class='label'>auto_conf:</span> <span class='kw'>true</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_candidates'>candidates</span> <span class='op'>=</span> <span class='id identifier rubyid_scheduler_task'>scheduler_task</span><span class='period'>.</span><span class='id identifier rubyid_each_parent_task'>each_parent_task</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_candidates'>candidates</span> <span class='op'>=</span> <span class='id identifier rubyid_each_executed_task'>each_executed_task</span>
    <span class='kw'>end</span>

    <span class='comment'># I don&#39;t know why name_mappings[orogen.name] would not be
</span>    <span class='comment'># equal to &#39;name&#39; and I couldn&#39;t find a reason for this in the
</span>    <span class='comment'># git history when I refactored this.
</span>    <span class='comment'>#
</span>    <span class='comment'># I keep it here for now, just in case, but that would need to
</span>    <span class='comment'># be investigated
</span>    <span class='comment'>#
</span>    <span class='comment'># TODO
</span>    <span class='id identifier rubyid_mapped_name'>mapped_name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_candidates'>candidates</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_task'>task</span><span class='op'>|</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_task'>task</span> <span class='kw'>if</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_orocos_name'>orocos_name</span> <span class='op'>==</span> <span class='id identifier rubyid_mapped_name'>mapped_name</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_create_deployed_task'>create_deployed_task</span><span class='lparen'>(</span>
        <span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span><span class='comma'>,</span>
        <span class='id identifier rubyid_syskit_task_model'>syskit_task_model</span><span class='comma'>,</span>
        <span class='id identifier rubyid_scheduler_task'>scheduler_task</span><span class='comma'>,</span> <span class='label'>auto_conf:</span> <span class='id identifier rubyid_auto_conf'>auto_conf</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="finished_configuration-instance_method">
  
    #<strong>finished_configuration</strong>(orocos_name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Declare that the given task is being configured</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


512
513
514</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 512</span>

<span class='kw'>def</span> <span class='id identifier rubyid_finished_configuration'>finished_configuration</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_configuring'>configuring</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_orocos_name?-instance_method">
  
    #<strong>has_orocos_name?</strong>(orocos_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 91</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_orocos_name?'>has_orocos_name?</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>==</span> <span class='id identifier rubyid_orocos_name'>orocos_name</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="host_id-instance_method">
  
    #<strong>host_id</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The name of the host this deployment is running on, i.e. the name given to
the :on argument.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


377
378
379</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 377</span>

<span class='kw'>def</span> <span class='id identifier rubyid_host_id'>host_id</span>
    <span class='id identifier rubyid_process_server_config'>process_server_config</span><span class='period'>.</span><span class='id identifier rubyid_host_id'>host_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="in_process?-instance_method">
  
    #<strong>in_process?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether this task runs within the Syskit process itself</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


382
383
384</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 382</span>

<span class='kw'>def</span> <span class='id identifier rubyid_in_process?'>in_process?</span>
    <span class='id identifier rubyid_process_server_config'>process_server_config</span><span class='period'>.</span><span class='id identifier rubyid_in_process?'>in_process?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="instanciate_all_tasks-instance_method">
  
    #<strong>instanciate_all_tasks</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instanciate_all_tasks'>instanciate_all_tasks</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_orogen_deployed_task_context_model'>each_orogen_deployed_task_context_model</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_act'>act</span><span class='op'>|</span>
        <span class='id identifier rubyid_task'>task</span><span class='lparen'>(</span><span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_act'>act</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="log-instance_method">
  
    #<strong>log</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 27</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:log</span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='kw'>true</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="log=-instance_method">
  
    #<strong>log=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 27</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:log</span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='kw'>true</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="log_dir-instance_method">
  
    #<strong>log_dir</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


327
328
329</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 327</span>

<span class='kw'>def</span> <span class='id identifier rubyid_log_dir'>log_dir</span>
    <span class='id identifier rubyid_process_server_config'>process_server_config</span><span class='period'>.</span><span class='id identifier rubyid_log_dir'>log_dir</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="log_port?-instance_method">
  
    #<strong>log_port?</strong>(port)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if the syskit plugin configuration requires <code>port</code>
to be logged</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>port</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Port.html" title="Syskit::Port (class)">Syskit::Port</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413
414
415
416
417
418
419
420</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 413</span>

<span class='kw'>def</span> <span class='id identifier rubyid_log_port?'>log_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_conf'><span class='object_link'><a href="../Syskit.html#conf-class_method" title="Syskit.conf (method)">conf</a></span></span><span class='period'>.</span><span class='id identifier rubyid_logs'>logs</span><span class='period'>.</span><span class='id identifier rubyid_port_excluded_from_log?'>port_excluded_from_log?</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
        <span class='kw'>false</span>
    <span class='kw'>else</span>
        <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not logging </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_component'>component</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>true</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="logger_task-instance_method">
  
    #<strong>logger_task</strong>  &#x21d2; <tt><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns this deployment&#39;s logger</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TaskContext.html" title="Syskit::TaskContext (class)">TaskContext</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>either the logging task, or nil if this deployment has none</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


335</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 335</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:logger_task</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='kw'>nil</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="logger_task=-instance_method">
  
    #<strong>logger_task=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 32</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:logger_task</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='kw'>nil</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mark_changed_configuration_as_not_reusable-instance_method">
  
    #<strong>mark_changed_configuration_as_not_reusable</strong>(changed)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Mark tasks affected by a change in configuration section as non-reusable</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


577
578
579
580
581
582
583
584
585
586
587
588
589
590</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 577</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mark_changed_configuration_as_not_reusable'>mark_changed_configuration_as_not_reusable</span><span class='lparen'>(</span><span class='id identifier rubyid_changed'>changed</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_needed'>needed</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='comma'>,</span> <span class='id identifier rubyid_remote_handle'>remote_handle</span><span class='op'>|</span>
        <span class='id identifier rubyid_current_conf'>current_conf</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_handle'>remote_handle</span><span class='period'>.</span><span class='id identifier rubyid_current_configuration'>current_configuration</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_current_conf'>current_conf</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_modified_sections'>modified_sections</span> <span class='op'>=</span> <span class='id identifier rubyid_changed'>changed</span><span class='lbracket'>[</span><span class='id identifier rubyid_current_conf'>current_conf</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_concrete_model'>concrete_model</span><span class='rbracket'>]</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_modified_sections'>modified_sections</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_section_name'>section_name</span><span class='op'>|</span> <span class='id identifier rubyid_current_conf'>current_conf</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_section_name'>section_name</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
                <span class='id identifier rubyid_needed'>needed</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_orocos_name'>orocos_name</span>
                <span class='id identifier rubyid_remote_handle'>remote_handle</span><span class='period'>.</span><span class='id identifier rubyid_needs_reconfiguration'>needs_reconfiguration</span> <span class='op'>=</span> <span class='kw'>true</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_needed'>needed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name_mappings-instance_method">
  
    #<strong>name_mappings</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 29</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:name_mappings</span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name_mappings=-instance_method">
  
    #<strong>name_mappings=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 29</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:name_mappings</span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="needs_reconfiguration!-instance_method">
  
    #<strong>needs_reconfiguration!</strong>(orocos_name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Force a task to be reconfigured during the next network adaptation</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


559
560
561
562
563</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 559</span>

<span class='kw'>def</span> <span class='id identifier rubyid_needs_reconfiguration!'>needs_reconfiguration!</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_handle'>handle</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_handle'>handle</span><span class='period'>.</span><span class='id identifier rubyid_needs_reconfiguration'>needs_reconfiguration</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="needs_reconfiguration?-instance_method">
  
    #<strong>needs_reconfiguration?</strong>(orocos_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Whether a task should be forcefully reconfigured during the next network
adaptation</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


550
551
552
553
554</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 550</span>

<span class='kw'>def</span> <span class='id identifier rubyid_needs_reconfiguration?'>needs_reconfiguration?</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_handle'>handle</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_handle'>handle</span><span class='period'>.</span><span class='id identifier rubyid_needs_reconfiguration'>needs_reconfiguration</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on-instance_method">
  
    #<strong>on</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 28</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:on</span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&#39;</span></span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on=-instance_method">
  
    #<strong>on=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 28</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:on</span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&#39;</span></span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_localhost?-instance_method">
  
    #<strong>on_localhost?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether this deployment runs on the same host than the Syskit process</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


387
388
389</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 387</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_localhost?'>on_localhost?</span>
    <span class='id identifier rubyid_process_server_config'>process_server_config</span><span class='period'>.</span><span class='id identifier rubyid_on_localhost?'>on_localhost?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pending_reconfigurations-instance_method">
  
    #<strong>pending_reconfigurations</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List of task (orocos names) that are marked as needing reconfiguration</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


567
568
569
570
571</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 567</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pending_reconfigurations'>pending_reconfigurations</span>
    <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='op'>|</span>
        <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_needs_reconfiguration'>needs_reconfiguration</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pid-instance_method">
  
    #<strong>pid</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The PID of this process</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68
69
70</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 66</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pid'>pid</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_running?'>running?</span>
        <span class='ivar'>@pid</span> <span class='op'>||=</span> <span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='period'>.</span><span class='id identifier rubyid_pid'>pid</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="process_name-instance_method">
  
    #<strong>process_name</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 26</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:process_name</span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_from'>from</span><span class='lparen'>(</span><span class='symbol'>:model</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_deployment_name'>deployment_name</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="process_name=-instance_method">
  
    #<strong>process_name=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 26</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:process_name</span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_from'>from</span><span class='lparen'>(</span><span class='symbol'>:model</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_deployment_name'>deployment_name</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="process_server_config-instance_method">
  
    #<strong>process_server_config</strong>  &#x21d2; <tt><span class='object_link'><a href="RobyApp/Configuration/ProcessServerConfig.html" title="Syskit::RobyApp::Configuration::ProcessServerConfig (class)">RobyApp::Configuration::ProcessServerConfig</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An object describing the underlying pocess server</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="RobyApp/Configuration/ProcessServerConfig.html" title="Syskit::RobyApp::Configuration::ProcessServerConfig (class)">RobyApp::Configuration::ProcessServerConfig</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 40</span>

<span class='kw'>def</span> <span class='id identifier rubyid_process_server_config'>process_server_config</span>
    <span class='ivar'>@process_server_config</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../Syskit.html" title="Syskit (module)">Syskit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_conf'><span class='object_link'><a href="../Syskit.html#conf-class_method" title="Syskit.conf (method)">conf</a></span></span><span class='period'>.</span><span class='id identifier rubyid_process_server_config_for'>process_server_config_for</span><span class='lparen'>(</span><span class='id identifier rubyid_process_server_name'>process_server_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="process_server_name-instance_method">
  
    #<strong>process_server_name</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The name of the process server</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


371
372
373</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 371</span>

<span class='kw'>def</span> <span class='id identifier rubyid_process_server_name'>process_server_name</span>
    <span class='id identifier rubyid_arguments'>arguments</span><span class='lbracket'>[</span><span class='symbol'>:on</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ready?-instance_method">
  
    #<strong>ready?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Event emitted when the deployment is up and running</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 81</span>

<span class='id identifier rubyid_event'>event</span> <span class='symbol'>:ready</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ready_event-instance_method">
  
    #<strong>ready_event</strong>  &#x21d2; <tt>EventGenerator</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Event emitted when the deployment is up and running</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>EventGenerator</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 81</span>

<span class='id identifier rubyid_event'>event</span> <span class='symbol'>:ready</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ready_polling_period-instance_method">
  
    #<strong>ready_polling_period</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Default: 0.1</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 31</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:ready_polling_period</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='float'>0.1</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ready_polling_period=-instance_method">
  
    #<strong>ready_polling_period=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 31</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:ready_polling_period</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='float'>0.1</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ready_to_die!-instance_method">
  
    #<strong>ready_to_die!</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


641
642
643</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 641</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ready_to_die!'>ready_to_die!</span>
	<span class='ivar'>@ready_to_die</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ready_to_die?-instance_method">
  
    #<strong>ready_to_die?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


639</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 639</span>

<span class='id identifier rubyid_attr_predicate'>attr_predicate</span> <span class='symbol'>:ready_to_die?</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="schedule_ready_event_monitor-instance_method">
  
    #<strong>schedule_ready_event_monitor</strong>(handles_from_plan, ready_polling_period: self.ready_polling_period)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Schedule a promise to resolve the task handles</p>

<p>It will reschedule itself until the process is ready, and will emit the
ready event when it happens</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 446</span>

<span class='kw'>def</span> <span class='id identifier rubyid_schedule_ready_event_monitor'>schedule_ready_event_monitor</span><span class='lparen'>(</span><span class='id identifier rubyid_handles_from_plan'>handles_from_plan</span><span class='comma'>,</span> <span class='label'>ready_polling_period:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ready_polling_period'>ready_polling_period</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_distance_to_syskit'>distance_to_syskit</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_distance_to_syskit'>distance_to_syskit</span>
    <span class='id identifier rubyid_promise'>promise</span> <span class='op'>=</span> <span class='id identifier rubyid_execution_engine'>execution_engine</span><span class='period'>.</span><span class='id identifier rubyid_promise'>promise</span><span class='lparen'>(</span><span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>:ready_event_monitor</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>while</span> <span class='op'>!</span><span class='id identifier rubyid_quit_ready_event_monitor'>quit_ready_event_monitor</span><span class='period'>.</span><span class='id identifier rubyid_set?'>set?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_handles'>handles</span> <span class='op'>=</span> <span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='period'>.</span><span class='id identifier rubyid_resolve_all_tasks'>resolve_all_tasks</span><span class='lparen'>(</span><span class='id identifier rubyid_handles_from_plan'>handles_from_plan</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_sleep'>sleep</span> <span class='id identifier rubyid_ready_polling_period'>ready_polling_period</span>
        <span class='kw'>end</span>

        <span class='lparen'>(</span><span class='id identifier rubyid_handles'>handles</span> <span class='op'>||</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map_value'>map_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_remote_task'>remote_task</span><span class='op'>|</span>
            <span class='id identifier rubyid_state_reader'>state_reader</span><span class='comma'>,</span> <span class='id identifier rubyid_state_getter'>state_getter</span> <span class='op'>=</span> <span class='id identifier rubyid_create_state_access'>create_state_access</span><span class='lparen'>(</span><span class='id identifier rubyid_remote_task'>remote_task</span><span class='comma'>,</span> <span class='label'>distance:</span> <span class='id identifier rubyid_distance_to_syskit'>distance_to_syskit</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_property_names'>property_names</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p_name'>p_name</span><span class='op'>|</span>
                <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_raw_property'>raw_property</span><span class='lparen'>(</span><span class='id identifier rubyid_p_name'>p_name</span><span class='rparen'>)</span>
                <span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_raw_read'>raw_read</span><span class='rbracket'>]</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_current_configuration'>current_configuration</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Deployment/CurrentTaskConfiguration.html" title="Syskit::Deployment::CurrentTaskConfiguration (class)">CurrentTaskConfiguration</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Syskit::Deployment#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
            <span class='const'><span class='object_link'><a href="Deployment/RemoteTaskHandles.html" title="Syskit::Deployment::RemoteTaskHandles (class)">RemoteTaskHandles</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Syskit::Deployment#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_remote_task'>remote_task</span><span class='comma'>,</span> <span class='id identifier rubyid_state_reader'>state_reader</span><span class='comma'>,</span> <span class='id identifier rubyid_state_getter'>state_getter</span><span class='comma'>,</span> <span class='id identifier rubyid_properties'>properties</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_current_configuration'>current_configuration</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_on_success'>on_success</span><span class='lparen'>(</span><span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>#schedule_ready_event_monitor#emit</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_remote_tasks'>remote_tasks</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_running?'>running?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_finishing?'>finishing?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_remote_tasks'>remote_tasks</span>
            <span class='ivar'>@remote_task_handles</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_tasks'>remote_tasks</span>
            <span class='id identifier rubyid_ready_event'>ready_event</span><span class='period'>.</span><span class='id identifier rubyid_emit'>emit</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_promise'>promise</span><span class='period'>.</span><span class='id identifier rubyid_on_error'>on_error</span><span class='lparen'>(</span><span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>#emit_failed</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_reason'>reason</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_finishing?'>finishing?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_finished?'>finished?</span>
            <span class='id identifier rubyid_emit_failed'>emit_failed</span><span class='lparen'>(</span><span class='id identifier rubyid_reason'>reason</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_ready_event'>ready_event</span><span class='period'>.</span><span class='id identifier rubyid_achieve_asynchronously'>achieve_asynchronously</span><span class='lparen'>(</span><span class='id identifier rubyid_promise'>promise</span><span class='comma'>,</span> <span class='label'>emit_on_success:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>on_failure:</span> <span class='symbol'>:nothing</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setup_task_handles-instance_method">
  
    #<strong>setup_task_handles</strong>(remote_tasks)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 593</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup_task_handles'>setup_task_handles</span><span class='lparen'>(</span><span class='id identifier rubyid_remote_tasks'>remote_tasks</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_orogen_deployed_task_context_model'>each_orogen_deployed_task_context_model</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_act'>act</span><span class='op'>|</span>
        <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='period'>.</span><span class='id identifier rubyid_get_mapped_name'>get_mapped_name</span><span class='lparen'>(</span><span class='id identifier rubyid_act'>act</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_remote_tasks'>remote_tasks</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="InternalError.html" title="Syskit::InternalError (class)">InternalError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expected </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;s reported tasks to include mapped_task_name, but got handles only for invalid_name</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_remote_tasks'>remote_tasks</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_task'>task</span><span class='op'>|</span>
        <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_each_parent_object'>each_parent_object</span><span class='lparen'>(</span><span class='const'>Roby</span><span class='op'>::</span><span class='const'>TaskStructure</span><span class='op'>::</span><span class='const'>ExecutionAgent</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_task'>task</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_remote_handles'>remote_handles</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_tasks'>remote_tasks</span><span class='lbracket'>[</span><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_initialize_remote_handles'>initialize_remote_handles</span><span class='lparen'>(</span><span class='id identifier rubyid_remote_handles'>remote_handles</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_failed_to_start!'>failed_to_start!</span><span class='lparen'>(</span>
                <span class='const'>Roby</span><span class='op'>::</span><span class='const'>CommandFailed</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
                    <span class='const'><span class='object_link'><a href="InternalError.html" title="Syskit::InternalError (class)">InternalError</a></span></span><span class='period'>.</span><span class='id identifier rubyid_exception'>exception</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task'>task</span><span class='embexpr_end'>}</span><span class='tstring_content'> is supported by </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> but there does not seem to be any task called </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> on this deployment</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
                    <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_start_event'>start_event</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="signaled?-instance_method">
  
    #<strong>signaled?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Event emitted whenever the deployment finishes because of a UNIX signal.
The event context is the Process::Status instance that describes the
termination</p>

<p>It is forwarded to failed_event</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 88</span>

<span class='id identifier rubyid_event'>event</span> <span class='symbol'>:signaled</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="signaled_event-instance_method">
  
    #<strong>signaled_event</strong>  &#x21d2; <tt>EventGenerator</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Event emitted whenever the deployment finishes because of a UNIX signal.
The event context is the Process::Status instance that describes the
termination</p>

<p>It is forwarded to failed_event</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>EventGenerator</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 88</span>

<span class='id identifier rubyid_event'>event</span> <span class='symbol'>:signaled</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="spawn_options-instance_method">
  
    #<strong>spawn_options</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 30</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:spawn_options</span><span class='comma'>,</span> <span class='symbol'>:default</span><span class='op'>=&gt;</span> <span class='kw'>nil</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="spawn_options=-instance_method">
  
    #<strong>spawn_options=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 30</span>

<span class='id identifier rubyid_argument'>argument</span> <span class='symbol'>:spawn_options</span><span class='comma'>,</span> <span class='symbol'>:default</span><span class='op'>=&gt;</span> <span class='kw'>nil</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start-instance_method">
  
    #<strong>start</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>method: start!</p>

<p>Starts the process and emits the start event immediately. The :ready event
will be emitted when the deployment is up and running.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 260</span>

<span class='id identifier rubyid_event'>event</span> <span class='symbol'>:start</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_context'>context</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_process_name'>process_name</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>must set process_name</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_spawn_options'>spawn_options</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spawn_options'>spawn_options</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='lbracket'>[</span><span class='symbol'>:cmdline_args</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_default_run_option'>each_default_run_option</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
        <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_spawn_options'>spawn_options</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span>
        <span class='label'>output:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%m-%p.txt</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>wait:</span> <span class='kw'>false</span><span class='comma'>,</span>
        <span class='label'>cmdline_args:</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_log_dir'>log_dir</span>
        <span class='id identifier rubyid_spawn_options'>spawn_options</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='label'>working_directory:</span> <span class='id identifier rubyid_log_dir'>log_dir</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:working_directory</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='const'><span class='object_link'><a href="" title="Syskit::Deployment (class)">Deployment</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='kw'>do</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>starting deployment </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_process_name'>process_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> using </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_deployment_name'>deployment_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> on </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arguments'>arguments</span><span class='lbracket'>[</span><span class='symbol'>:on</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='embexpr_end'>}</span><span class='tstring_content'> and mappings </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='ivar'>@orocos_process</span> <span class='op'>=</span> <span class='id identifier rubyid_process_server_config'>process_server_config</span><span class='period'>.</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span>
        <span class='id identifier rubyid_process_name'>process_name</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_orogen_model'>orogen_model</span><span class='comma'>,</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='comma'>,</span> <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='rparen'>)</span>

    <span class='const'><span class='object_link'><a href="" title="Syskit::Deployment (class)">Deployment</a></span></span><span class='period'>.</span><span class='id identifier rubyid_all_deployments'><span class='object_link'><a href="#all_deployments-class_method" title="Syskit::Deployment.all_deployments (method)">all_deployments</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_start_event'>start_event</span><span class='period'>.</span><span class='id identifier rubyid_emit'>emit</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start?-instance_method">
  
    #<strong>start?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>method: start!</p>

<p>Starts the process and emits the start event immediately. The :ready event
will be emitted when the deployment is up and running.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 260</span>

<span class='id identifier rubyid_event'>event</span> <span class='symbol'>:start</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_context'>context</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_process_name'>process_name</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>must set process_name</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_spawn_options'>spawn_options</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spawn_options'>spawn_options</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='lbracket'>[</span><span class='symbol'>:cmdline_args</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_default_run_option'>each_default_run_option</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
        <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_spawn_options'>spawn_options</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span>
        <span class='label'>output:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%m-%p.txt</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>wait:</span> <span class='kw'>false</span><span class='comma'>,</span>
        <span class='label'>cmdline_args:</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_log_dir'>log_dir</span>
        <span class='id identifier rubyid_spawn_options'>spawn_options</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='label'>working_directory:</span> <span class='id identifier rubyid_log_dir'>log_dir</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:working_directory</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='const'><span class='object_link'><a href="" title="Syskit::Deployment (class)">Deployment</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='kw'>do</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>starting deployment </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_process_name'>process_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> using </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_deployment_name'>deployment_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> on </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arguments'>arguments</span><span class='lbracket'>[</span><span class='symbol'>:on</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='embexpr_end'>}</span><span class='tstring_content'> and mappings </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='ivar'>@orocos_process</span> <span class='op'>=</span> <span class='id identifier rubyid_process_server_config'>process_server_config</span><span class='period'>.</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span>
        <span class='id identifier rubyid_process_name'>process_name</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_orogen_model'>orogen_model</span><span class='comma'>,</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='comma'>,</span> <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='rparen'>)</span>

    <span class='const'><span class='object_link'><a href="" title="Syskit::Deployment (class)">Deployment</a></span></span><span class='period'>.</span><span class='id identifier rubyid_all_deployments'><span class='object_link'><a href="#all_deployments-class_method" title="Syskit::Deployment.all_deployments (method)">all_deployments</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_start_event'>start_event</span><span class='period'>.</span><span class='id identifier rubyid_emit'>emit</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start_configuration-instance_method">
  
    #<strong>start_configuration</strong>(orocos_name)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Declare that the given task is being configured</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


505
506
507</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 505</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_configuration'>start_configuration</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_configuring'>configuring</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start_event-instance_method">
  
    #<strong>start_event</strong>  &#x21d2; <tt>EventGenerator</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>method: start!</p>

<p>Starts the process and emits the start event immediately. The :ready event
will be emitted when the deployment is up and running.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>EventGenerator</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 260</span>

<span class='id identifier rubyid_event'>event</span> <span class='symbol'>:start</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_context'>context</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_process_name'>process_name</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>must set process_name</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_spawn_options'>spawn_options</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spawn_options'>spawn_options</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='lbracket'>[</span><span class='symbol'>:cmdline_args</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each_default_run_option'>each_default_run_option</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
        <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_spawn_options'>spawn_options</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span>
        <span class='label'>output:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%m-%p.txt</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>wait:</span> <span class='kw'>false</span><span class='comma'>,</span>
        <span class='label'>cmdline_args:</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_log_dir'>log_dir</span>
        <span class='id identifier rubyid_spawn_options'>spawn_options</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='label'>working_directory:</span> <span class='id identifier rubyid_log_dir'>log_dir</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:working_directory</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='const'><span class='object_link'><a href="" title="Syskit::Deployment (class)">Deployment</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='kw'>do</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>starting deployment </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_process_name'>process_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> using </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_deployment_name'>deployment_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> on </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arguments'>arguments</span><span class='lbracket'>[</span><span class='symbol'>:on</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='embexpr_end'>}</span><span class='tstring_content'> and mappings </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='ivar'>@orocos_process</span> <span class='op'>=</span> <span class='id identifier rubyid_process_server_config'>process_server_config</span><span class='period'>.</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span>
        <span class='id identifier rubyid_process_name'>process_name</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_orogen_model'>orogen_model</span><span class='comma'>,</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='comma'>,</span> <span class='id identifier rubyid_spawn_options'>spawn_options</span><span class='rparen'>)</span>

    <span class='const'><span class='object_link'><a href="" title="Syskit::Deployment (class)">Deployment</a></span></span><span class='period'>.</span><span class='id identifier rubyid_all_deployments'><span class='object_link'><a href="#all_deployments-class_method" title="Syskit::Deployment.all_deployments (method)">all_deployments</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_start_event'>start_event</span><span class='period'>.</span><span class='id identifier rubyid_emit'>emit</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop-instance_method">
  
    #<strong>stop</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>method: stop!</p>

<p>Stops all tasks that are running on top of this deployment, and kill the
deployment</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 650</span>

<span class='id identifier rubyid_event'>event</span> <span class='symbol'>:stop</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_context'>context</span><span class='op'>|</span>
    <span class='id identifier rubyid_quit_ready_event_monitor'>quit_ready_event_monitor</span><span class='period'>.</span><span class='id identifier rubyid_set'>set</span>
    <span class='id identifier rubyid_promise'>promise</span> <span class='op'>=</span> <span class='id identifier rubyid_execution_engine'>execution_engine</span><span class='period'>.</span><span class='id identifier rubyid_promise'>promise</span><span class='lparen'>(</span><span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>.stop_event.on</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_remote_task'>remote_task</span><span class='op'>|</span>
                <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_state_getter'>state_getter</span><span class='period'>.</span><span class='id identifier rubyid_disconnect'>disconnect</span>
                <span class='kw'>if</span> <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='period'>.</span><span class='id identifier rubyid_rtt_state'>rtt_state</span> <span class='op'>==</span> <span class='symbol'>:STOPPED</span>
                    <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='period'>.</span><span class='id identifier rubyid_cleanup'>cleanup</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
                <span class='kw'>end</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_remote_task'>remote_task</span><span class='op'>|</span>
                <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_state_getter'>state_getter</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
            <span class='kw'>end</span>
        <span class='kw'>rescue</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>ComError</span>
            <span class='comment'># Assume that the process is killed as it is not reachable
</span>        <span class='kw'>end</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_on_success'>on_success</span><span class='lparen'>(</span><span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>#stop_event#command#dead!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_ready_to_die!'>ready_to_die!</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>ComError</span>
            <span class='comment'># The underlying process server cannot be reached. Just emit
</span>            <span class='comment'># failed ourselves
</span>            <span class='id identifier rubyid_dead!'>dead!</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_stop_event'>stop_event</span><span class='period'>.</span><span class='id identifier rubyid_achieve_asynchronously'>achieve_asynchronously</span><span class='lparen'>(</span><span class='id identifier rubyid_promise'>promise</span><span class='comma'>,</span> <span class='label'>emit_on_success:</span> <span class='kw'>false</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop?-instance_method">
  
    #<strong>stop?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>method: stop!</p>

<p>Stops all tasks that are running on top of this deployment, and kill the
deployment</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 650</span>

<span class='id identifier rubyid_event'>event</span> <span class='symbol'>:stop</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_context'>context</span><span class='op'>|</span>
    <span class='id identifier rubyid_quit_ready_event_monitor'>quit_ready_event_monitor</span><span class='period'>.</span><span class='id identifier rubyid_set'>set</span>
    <span class='id identifier rubyid_promise'>promise</span> <span class='op'>=</span> <span class='id identifier rubyid_execution_engine'>execution_engine</span><span class='period'>.</span><span class='id identifier rubyid_promise'>promise</span><span class='lparen'>(</span><span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>.stop_event.on</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_remote_task'>remote_task</span><span class='op'>|</span>
                <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_state_getter'>state_getter</span><span class='period'>.</span><span class='id identifier rubyid_disconnect'>disconnect</span>
                <span class='kw'>if</span> <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='period'>.</span><span class='id identifier rubyid_rtt_state'>rtt_state</span> <span class='op'>==</span> <span class='symbol'>:STOPPED</span>
                    <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='period'>.</span><span class='id identifier rubyid_cleanup'>cleanup</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
                <span class='kw'>end</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_remote_task'>remote_task</span><span class='op'>|</span>
                <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_state_getter'>state_getter</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
            <span class='kw'>end</span>
        <span class='kw'>rescue</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>ComError</span>
            <span class='comment'># Assume that the process is killed as it is not reachable
</span>        <span class='kw'>end</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_on_success'>on_success</span><span class='lparen'>(</span><span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>#stop_event#command#dead!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_ready_to_die!'>ready_to_die!</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>ComError</span>
            <span class='comment'># The underlying process server cannot be reached. Just emit
</span>            <span class='comment'># failed ourselves
</span>            <span class='id identifier rubyid_dead!'>dead!</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_stop_event'>stop_event</span><span class='period'>.</span><span class='id identifier rubyid_achieve_asynchronously'>achieve_asynchronously</span><span class='lparen'>(</span><span class='id identifier rubyid_promise'>promise</span><span class='comma'>,</span> <span class='label'>emit_on_success:</span> <span class='kw'>false</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop_event-instance_method">
  
    #<strong>stop_event</strong>  &#x21d2; <tt>EventGenerator</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>method: stop!</p>

<p>Stops all tasks that are running on top of this deployment, and kill the
deployment</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>EventGenerator</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 650</span>

<span class='id identifier rubyid_event'>event</span> <span class='symbol'>:stop</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_context'>context</span><span class='op'>|</span>
    <span class='id identifier rubyid_quit_ready_event_monitor'>quit_ready_event_monitor</span><span class='period'>.</span><span class='id identifier rubyid_set'>set</span>
    <span class='id identifier rubyid_promise'>promise</span> <span class='op'>=</span> <span class='id identifier rubyid_execution_engine'>execution_engine</span><span class='period'>.</span><span class='id identifier rubyid_promise'>promise</span><span class='lparen'>(</span><span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>.stop_event.on</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_remote_task'>remote_task</span><span class='op'>|</span>
                <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_state_getter'>state_getter</span><span class='period'>.</span><span class='id identifier rubyid_disconnect'>disconnect</span>
                <span class='kw'>if</span> <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='period'>.</span><span class='id identifier rubyid_rtt_state'>rtt_state</span> <span class='op'>==</span> <span class='symbol'>:STOPPED</span>
                    <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='period'>.</span><span class='id identifier rubyid_cleanup'>cleanup</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
                <span class='kw'>end</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_remote_task'>remote_task</span><span class='op'>|</span>
                <span class='id identifier rubyid_remote_task'>remote_task</span><span class='period'>.</span><span class='id identifier rubyid_state_getter'>state_getter</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
            <span class='kw'>end</span>
        <span class='kw'>rescue</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>ComError</span>
            <span class='comment'># Assume that the process is killed as it is not reachable
</span>        <span class='kw'>end</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_on_success'>on_success</span><span class='lparen'>(</span><span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>#stop_event#command#dead!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_ready_to_die!'>ready_to_die!</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_orocos_process'>orocos_process</span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'>Orocos</span><span class='op'>::</span><span class='const'>ComError</span>
            <span class='comment'># The underlying process server cannot be reached. Just emit
</span>            <span class='comment'># failed ourselves
</span>            <span class='id identifier rubyid_dead!'>dead!</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_stop_event'>stop_event</span><span class='period'>.</span><span class='id identifier rubyid_achieve_asynchronously'>achieve_asynchronously</span><span class='lparen'>(</span><span class='id identifier rubyid_promise'>promise</span><span class='comma'>,</span> <span class='label'>emit_on_success:</span> <span class='kw'>false</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="task-instance_method">
  
    #<strong>task</strong>(name, syskit_task_model = nil)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an task instance that represents the given task in this deployment.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the unmapped name of the task</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>syskit_task_model</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Models/TaskContext.html" title="Syskit::Models::TaskContext (module)">Models::TaskContext</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the Syskit model that should be used to create the task, if it is not the
same as the base model. This is used for specialized models (e.g. dynamic
services)</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224
225
226
227
228
229
230
231
232
233
234
235
236</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 222</span>

<span class='kw'>def</span> <span class='id identifier rubyid_task'>task</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_syskit_task_model'>syskit_task_model</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_finishing?'>finishing?</span> <span class='op'>||</span> <span class='id identifier rubyid_finished?'>finished?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="InvalidState.html" title="Syskit::InvalidState (class)">InvalidState</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> is either finishing or already </span><span class='tstring_end'>&quot;</span></span>\
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>finished, you cannot call #task</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span> <span class='op'>=</span> <span class='id identifier rubyid_deployed_orogen_model_by_name'>deployed_orogen_model_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_orogen_master'>orogen_master</span> <span class='op'>=</span> <span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span><span class='period'>.</span><span class='id identifier rubyid_master'>master</span>
        <span class='id identifier rubyid_scheduler_task'>scheduler_task</span> <span class='op'>=</span> <span class='id identifier rubyid_find_or_create_task'>find_or_create_task</span><span class='lparen'>(</span>
            <span class='id identifier rubyid_orogen_master'>orogen_master</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>auto_conf:</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_create_deployed_task'>create_deployed_task</span><span class='lparen'>(</span><span class='id identifier rubyid_orogen_task_deployment_model'>orogen_task_deployment_model</span><span class='comma'>,</span>
        <span class='id identifier rubyid_syskit_task_model'>syskit_task_model</span><span class='comma'>,</span> <span class='id identifier rubyid_scheduler_task'>scheduler_task</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_current_configuration-instance_method">
  
    #<strong>update_current_configuration</strong>(orocos_name, model, conf, current_dynamic_services)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Update the last known configuration of a task</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


528
529
530
531
532
533</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/syskit/deployment.rb', line 528</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_current_configuration'>update_current_configuration</span><span class='lparen'>(</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_conf'>conf</span><span class='comma'>,</span> <span class='id identifier rubyid_current_dynamic_services'>current_dynamic_services</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_task_info'>task_info</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_task_handles'>remote_task_handles</span><span class='lbracket'>[</span><span class='id identifier rubyid_orocos_name'>orocos_name</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_task_info'>task_info</span><span class='period'>.</span><span class='id identifier rubyid_needs_reconfiguration'>needs_reconfiguration</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_task_info'>task_info</span><span class='period'>.</span><span class='id identifier rubyid_current_configuration'>current_configuration</span> <span class='op'>=</span>
        <span class='const'><span class='object_link'><a href="Deployment/CurrentTaskConfiguration.html" title="Syskit::Deployment::CurrentTaskConfiguration (class)">CurrentTaskConfiguration</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Syskit::Deployment#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_conf'>conf</span><span class='comma'>,</span> <span class='id identifier rubyid_current_dynamic_services'>current_dynamic_services</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 21:53:04 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>