<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Orocos::RemoteProcesses::Server
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Orocos::RemoteProcesses::Server";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../RemoteProcesses.html" title="Orocos::RemoteProcesses (module)">RemoteProcesses</a></span></span>
     &raquo; 
    <span class="title">Server</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Orocos::RemoteProcesses::Server
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Orocos::RemoteProcesses::Server</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/orocos/remote_processes/server.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A remote process management server.</p>

<p>It allows to start/stop and monitor the status of processes on a
client/server way.</p>

<p>Use <span class='object_link'><a href="../../Orocos.html#ProcessClient-constant" title="Orocos::ProcessClient (constant)">ProcessClient</a></span> to access a server</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="DEFAULT_OPTIONS-constant" class="">DEFAULT_OPTIONS =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span> <span class='symbol'>:wait</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:output</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%m-%p.txt</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span></pre></dd>
      
        <dt id="INTERNAL_SIGCHLD_TRIGGERED-constant" class="">INTERNAL_SIGCHLD_TRIGGERED =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>S</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_start_options-instance_method" title="#default_start_options (instance method)">#<strong>default_start_options</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The startup options to be passed to Orocos.run.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#loader-instance_method" title="#loader (instance method)">#<strong>loader</strong>  &#x21d2; OroGen::Loaders::Base </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The object we use to load oroGen models.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#port-instance_method" title="#port (instance method)">#<strong>port</strong>  &#x21d2; Integer<sup>?</sup> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The TCP port we are listening to.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#processes-instance_method" title="#processes (instance method)">#<strong>processes</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A mapping from the deployment names to the corresponding Process object.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#required_port-instance_method" title="#required_port (instance method)">#<strong>required_port</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The TCP port we are required to bind to.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_pkgconfig_loader-class_method" title="create_pkgconfig_loader (class method)">.<strong>create_pkgconfig_loader</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run-class_method" title="run (class method)">.<strong>run</strong>(options = DEFAULT_OPTIONS, port = DEFAULT_PORT)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Start a standalone process server using the given options and port.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unique_dirname-class_method" title="unique_dirname (class method)">.<strong>unique_dirname</strong>(base_dir, path_spec, date_tag = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a unique directory name as a subdirectory of <code>base_dir</code>,
based on <code>path_spec</code>.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_system_info-instance_method" title="#build_system_info (instance method)">#<strong>build_system_info</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_log_dir-instance_method" title="#create_log_dir (instance method)">#<strong>create_log_dir</strong>(log_dir, time_tag, metadata = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_client-instance_method" title="#each_client (instance method)">#<strong>each_client</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#end_process-instance_method" title="#end_process (instance method)">#<strong>end_process</strong>(p)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exec-instance_method" title="#exec (instance method)">#<strong>exec</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handle_command-instance_method" title="#handle_command (instance method)">#<strong>handle_command</strong>(socket)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Helper method that deals with one client request.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(default_start_options = DEFAULT_OPTIONS, port = DEFAULT_PORT, loader = self.class.create_pkgconfig_loader)  &#x21d2; Server </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#listen-instance_method" title="#listen (instance method)">#<strong>listen</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Main server loop.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#move_log_dir-instance_method" title="#move_log_dir (instance method)">#<strong>move_log_dir</strong>(log_dir, results_dir)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open-instance_method" title="#open (instance method)">#<strong>open</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#process_dead_processes-instance_method" title="#process_dead_processes (instance method)">#<strong>process_dead_processes</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#quit-instance_method" title="#quit (instance method)">#<strong>quit</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#quit_and_join-instance_method" title="#quit_and_join (instance method)">#<strong>quit_and_join</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Helper method that stops all running processes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_process-instance_method" title="#start_process (instance method)">#<strong>start_process</strong>(name, deployment_name, name_mappings, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(default_start_options = DEFAULT_OPTIONS, port = DEFAULT_PORT, loader = self.class.create_pkgconfig_loader)  &#x21d2; <tt><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Server</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104
105
106
107
108
109
110
111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 101</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_default_start_options'>default_start_options</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#DEFAULT_OPTIONS-constant" title="Orocos::RemoteProcesses::Server::DEFAULT_OPTIONS (constant)">DEFAULT_OPTIONS</a></span></span><span class='comma'>,</span>
               <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../RemoteProcesses.html#DEFAULT_PORT-constant" title="Orocos::RemoteProcesses::DEFAULT_PORT (constant)">DEFAULT_PORT</a></span></span><span class='comma'>,</span>
               <span class='id identifier rubyid_loader'>loader</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_create_pkgconfig_loader'>create_pkgconfig_loader</span><span class='rparen'>)</span>

    <span class='ivar'>@default_start_options</span> <span class='op'>=</span> <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_validate_options'>validate_options</span> <span class='id identifier rubyid_default_start_options'>default_start_options</span><span class='comma'>,</span>
        <span class='symbol'>:wait</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
        <span class='symbol'>:output</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%m-%p.txt</span><span class='tstring_end'>&#39;</span></span>

    <span class='ivar'>@loader</span> <span class='op'>=</span> <span class='id identifier rubyid_loader'>loader</span>
    <span class='ivar'>@required_port</span> <span class='op'>=</span> <span class='id identifier rubyid_port'>port</span>
    <span class='ivar'>@port</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@processes</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@all_ios</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="default_start_options-instance_method">
  
    #<strong>default_start_options</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The startup options to be passed to Orocos.run</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 69</span>

<span class='kw'>def</span> <span class='id identifier rubyid_default_start_options'>default_start_options</span>
  <span class='ivar'>@default_start_options</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="loader-instance_method">
  
    #<strong>loader</strong>  &#x21d2; <tt>OroGen::Loaders::Base</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The object we use to load oroGen models</p>

<p>It is commonly an [OroGen::Loaders::PkgConfig] loader object</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>OroGen::Loaders::Base</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_loader'>loader</span>
  <span class='ivar'>@loader</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="port-instance_method">
  
    #<strong>port</strong>  &#x21d2; <tt>Integer</tt><sup>?</sup>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The TCP port we are listening to</p>

<p>In general, it is equal to <span class='object_link'><a href="#required_port-instance_method" title="Orocos::RemoteProcesses::Server#required_port (method)">#required_port</a></span>.  Only if <span class='object_link'><a href="#required_port-instance_method" title="Orocos::RemoteProcesses::Server#required_port (method)">#required_port</a></span> is
equal to zero will <span class='object_link'><a href="#port-instance_method" title="Orocos::RemoteProcesses::Server#port (method)">#port</a></span> contain the actual used port as allocated by the
operating system</p>

<p>It is nil until the server socket is created</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 87</span>

<span class='kw'>def</span> <span class='id identifier rubyid_port'>port</span>
  <span class='ivar'>@port</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="processes-instance_method">
  
    #<strong>processes</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A mapping from the deployment names to the corresponding Process object.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 90</span>

<span class='kw'>def</span> <span class='id identifier rubyid_processes'>processes</span>
  <span class='ivar'>@processes</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="required_port-instance_method">
  
    #<strong>required_port</strong>  &#x21d2; <tt>Integer</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The TCP port we are required to bind to</p>

<p>It is the port given to <span class='object_link'><a href="#initialize-instance_method" title="Orocos::RemoteProcesses::Server#initialize (method)">#initialize</a></span>. In general, it is equal to <span class='object_link'><a href="#port-instance_method" title="Orocos::RemoteProcesses::Server#port (method)">#port</a></span>.
Only if it is equal to zero will <span class='object_link'><a href="#port-instance_method" title="Orocos::RemoteProcesses::Server#port (method)">#port</a></span> contain the actual used port as
allocated by the operating system</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_required_port'>required_port</span>
  <span class='ivar'>@required_port</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="create_pkgconfig_loader-class_method">
  
    .<strong>create_pkgconfig_loader</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 97</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_create_pkgconfig_loader'>create_pkgconfig_loader</span>
    <span class='const'>OroGen</span><span class='op'>::</span><span class='const'>Loaders</span><span class='op'>::</span><span class='const'>RTT</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_orocos_target'><span class='object_link'><a href="../../Orocos.html#orocos_target-class_method" title="Orocos.orocos_target (method)">orocos_target</a></span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run-class_method">
  
    .<strong>run</strong>(options = DEFAULT_OPTIONS, port = DEFAULT_PORT)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Start a standalone process server using the given options and port. The
options are passed to Server.run when a new deployment is started</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 60</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#DEFAULT_OPTIONS-constant" title="Orocos::RemoteProcesses::Server::DEFAULT_OPTIONS (constant)">DEFAULT_OPTIONS</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../RemoteProcesses.html#DEFAULT_PORT-constant" title="Orocos::RemoteProcesses::DEFAULT_PORT (constant)">DEFAULT_PORT</a></span></span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_disable_sigchld_handler'>disable_sigchld_handler</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_initialize'><span class='object_link'><a href="../../Orocos.html#initialize-class_method" title="Orocos.initialize (method)">initialize</a></span></span>
    <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='symbol'>:wait</span> <span class='op'>=&gt;</span> <span class='kw'>false</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_exec'>exec</span>

<span class='kw'>rescue</span> <span class='const'>Interrupt</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unique_dirname-class_method">
  
    .<strong>unique_dirname</strong>(base_dir, path_spec, date_tag = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a unique directory name as a subdirectory of <code>base_dir</code>,
based on <code>path_spec</code>. The generated name is of the form</p>

<pre class="code ruby"><code class="ruby">&lt;base_dir&gt;/a/b/c/YYYYMMDD-HHMM-basename
</code></pre>

<p>if <code>path_spec = &quot;a/b/c/basename&quot;</code>. A .&lt;number&gt;
suffix is appended if the path already exists.</p>

<p>Shamelessly taken from Roby</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 22</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_unique_dirname'>unique_dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_base_dir'>base_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_path_spec'>path_spec</span><span class='comma'>,</span> <span class='id identifier rubyid_date_tag'>date_tag</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_path_spec'>path_spec</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\/$</span><span class='regexp_end'>/</span></span>
        <span class='id identifier rubyid_basename'>basename</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_dirname'>dirname</span> <span class='op'>=</span> <span class='id identifier rubyid_path_spec'>path_spec</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_basename'>basename</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_path_spec'>path_spec</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_dirname'>dirname</span>  <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_path_spec'>path_spec</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_date_tag'>date_tag</span> <span class='op'>||=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%Y%m%d-%H%M</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_basename'>basename</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_basename'>basename</span> <span class='op'>=</span> <span class='id identifier rubyid_date_tag'>date_tag</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_basename'>basename</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_basename'>basename</span> <span class='op'>=</span> <span class='id identifier rubyid_date_tag'>date_tag</span>
    <span class='kw'>end</span>

    <span class='comment'># Check if +basename+ already exists, and if it is the case add a
</span>    <span class='comment'># .x suffix to it
</span>    <span class='id identifier rubyid_full_path'>full_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_dirname'>dirname</span><span class='comma'>,</span> <span class='id identifier rubyid_basename'>basename</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_base_dir'>base_dir</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_base_dir'>base_dir</span>  <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_full_path'>full_path</span><span class='rparen'>)</span>

    <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exists?'>exists?</span><span class='lparen'>(</span><span class='id identifier rubyid_base_dir'>base_dir</span><span class='rparen'>)</span>
        <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span><span class='lparen'>(</span><span class='id identifier rubyid_base_dir'>base_dir</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_final_path'>final_path</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_full_path'>full_path</span><span class='comma'>,</span> <span class='int'>0</span>
    <span class='kw'>while</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exists?'>exists?</span><span class='lparen'>(</span><span class='id identifier rubyid_final_path'>final_path</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_final_path'>final_path</span> <span class='op'>=</span> <span class='id identifier rubyid_full_path'>full_path</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_final_path'>final_path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="build_system_info-instance_method">
  
    #<strong>build_system_info</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


358
359
360
361
362
363
364
365
366
367
368
369
370
371
372</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 358</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_system_info'>build_system_info</span>
    <span class='id identifier rubyid_available_projects'>available_projects</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_available_typekits'>available_typekits</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_available_deployments'>available_deployments</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_loader'>loader</span><span class='period'>.</span><span class='id identifier rubyid_each_available_project_name'>each_available_project_name</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
        <span class='id identifier rubyid_available_projects'>available_projects</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_loader'>loader</span><span class='period'>.</span><span class='id identifier rubyid_project_model_text_from_name'>project_model_text_from_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_loader'>loader</span><span class='period'>.</span><span class='id identifier rubyid_each_available_typekit_name'>each_available_typekit_name</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
        <span class='id identifier rubyid_available_typekits'>available_typekits</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_loader'>loader</span><span class='period'>.</span><span class='id identifier rubyid_typekit_model_text_from_name'>typekit_model_text_from_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_loader'>loader</span><span class='period'>.</span><span class='id identifier rubyid_each_available_deployment_name'>each_available_deployment_name</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
        <span class='id identifier rubyid_available_deployments'>available_deployments</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_loader'>loader</span><span class='period'>.</span><span class='id identifier rubyid_find_project_from_deployment_name'>find_project_from_deployment_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_available_projects'>available_projects</span><span class='comma'>,</span> <span class='id identifier rubyid_available_deployments'>available_deployments</span><span class='comma'>,</span> <span class='id identifier rubyid_available_typekits'>available_typekits</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_log_dir-instance_method">
  
    #<strong>create_log_dir</strong>(log_dir, time_tag, metadata = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


337
338
339
340
341
342
343
344
345
346
347</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 337</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_log_dir'>create_log_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_time_tag'>time_tag</span><span class='comma'>,</span> <span class='id identifier rubyid_metadata'>metadata</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_log_dir'>log_dir</span>     <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>, time: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_time_tag'>time_tag</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='rparen'>)</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>time_tag</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
        <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_time_tag'>time_tag</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>info.yml</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
        <span class='const'>YAML</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>time</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_time_tag'>time_tag</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_metadata'>metadata</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_io'>io</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_client-instance_method">
  
    #<strong>each_client</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


116
117
118
119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 116</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_client'>each_client</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_clients'>clients</span> <span class='op'>=</span> <span class='ivar'>@all_ios</span><span class='lbracket'>[</span><span class='int'>2</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_clients'>clients</span>
        <span class='id identifier rubyid_clients'>clients</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="end_process-instance_method">
  
    #<strong>end_process</strong>(p)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


382
383
384</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 382</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_process'>end_process</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exec-instance_method">
  
    #<strong>exec</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 123</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exec'>exec</span>
    <span class='id identifier rubyid_open'>open</span>
    <span class='id identifier rubyid_listen'>listen</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handle_command-instance_method">
  
    #<strong>handle_command</strong>(socket)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Helper method that deals with one client request</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 236</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_command'>handle_command</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>    <span class='id identifier rubyid_cmd_code'>cmd_code</span> <span class='op'>=</span> <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>EOFError</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_cmd_code'>cmd_code</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_cmd_code'>cmd_code</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../RemoteProcesses.html#COMMAND_GET_PID-constant" title="Orocos::RemoteProcesses::COMMAND_GET_PID (constant)">COMMAND_GET_PID</a></span></span>
        <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_socket'>socket</span><span class='embexpr_end'>}</span><span class='tstring_content'> requested PID</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='op'>::</span><span class='const'>Process</span><span class='period'>.</span><span class='id identifier rubyid_pid'>pid</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>

    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd_code'>cmd_code</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../RemoteProcesses.html#COMMAND_GET_INFO-constant" title="Orocos::RemoteProcesses::COMMAND_GET_INFO (constant)">COMMAND_GET_INFO</a></span></span>
        <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_socket'>socket</span><span class='embexpr_end'>}</span><span class='tstring_content'> requested system information</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_build_system_info'>build_system_info</span><span class='comma'>,</span> <span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd_code'>cmd_code</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../RemoteProcesses.html#COMMAND_MOVE_LOG-constant" title="Orocos::RemoteProcesses::COMMAND_MOVE_LOG (constant)">COMMAND_MOVE_LOG</a></span></span>
        <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_socket'>socket</span><span class='embexpr_end'>}</span><span class='tstring_content'> requested moving a log directory</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_results_dir'>results_dir</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_log_dir'>log_dir</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_results_dir'>results_dir</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='id identifier rubyid_results_dir'>results_dir</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_move_log_dir'>move_log_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_results_dir'>results_dir</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'>Interrupt</span>
            <span class='id identifier rubyid_raise'>raise</span>
        <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
            <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>failed to move log directory from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_results_dir'>results_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span> <span class='op'>||</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
                <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>

    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd_code'>cmd_code</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../RemoteProcesses.html#COMMAND_CREATE_LOG-constant" title="Orocos::RemoteProcesses::COMMAND_CREATE_LOG (constant)">COMMAND_CREATE_LOG</a></span></span>
        <span class='kw'>begin</span>
            <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_socket'>socket</span><span class='embexpr_end'>}</span><span class='tstring_content'> requested creating a log directory</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_time_tag'>time_tag</span><span class='comma'>,</span> <span class='id identifier rubyid_metadata'>metadata</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_metadata'>metadata</span> <span class='op'>||=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='comment'># compatible with older clients
</span>            <span class='kw'>if</span> <span class='id identifier rubyid_log_dir'>log_dir</span>
                <span class='id identifier rubyid_log_dir'>log_dir</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_create_log_dir'>create_log_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_time_tag'>time_tag</span><span class='comma'>,</span> <span class='id identifier rubyid_metadata'>metadata</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'>Interrupt</span>
            <span class='id identifier rubyid_raise'>raise</span>
        <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
            <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>failed to create log directory </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span> <span class='op'>||</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
                <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>

    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd_code'>cmd_code</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../RemoteProcesses.html#COMMAND_START-constant" title="Orocos::RemoteProcesses::COMMAND_START (constant)">COMMAND_START</a></span></span>
        <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_deployment_name'>deployment_name</span><span class='comma'>,</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_options'>options</span> <span class='op'>||=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
        <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_socket'>socket</span><span class='embexpr_end'>}</span><span class='tstring_content'> requested startup of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='embexpr_end'>}</span><span class='tstring_content'> and mappings </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_start_process'>start_process</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_deployment_name'>deployment_name</span><span class='comma'>,</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
            <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_deployment_name'>deployment_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, is started (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_pid'>pid</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../RemoteProcesses.html#RET_STARTED_PROCESS-constant" title="Orocos::RemoteProcesses::RET_STARTED_PROCESS (constant)">RET_STARTED_PROCESS</a></span></span><span class='rparen'>)</span>
            <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_pid'>pid</span><span class='comma'>,</span> <span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'>Interrupt</span>
            <span class='id identifier rubyid_raise'>raise</span>
        <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
            <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>failed to start </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span> <span class='op'>||</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
                <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../RemoteProcesses.html#RET_NO-constant" title="Orocos::RemoteProcesses::RET_NO (constant)">RET_NO</a></span></span><span class='rparen'>)</span>
            <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd_code'>cmd_code</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../RemoteProcesses.html#COMMAND_END-constant" title="Orocos::RemoteProcesses::COMMAND_END (constant)">COMMAND_END</a></span></span>
        <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_socket'>socket</span><span class='embexpr_end'>}</span><span class='tstring_content'> requested end of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_processes'>processes</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
            <span class='kw'>begin</span>
                <span class='id identifier rubyid_end_process'>end_process</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../RemoteProcesses.html#RET_YES-constant" title="Orocos::RemoteProcesses::RET_YES (constant)">RET_YES</a></span></span><span class='rparen'>)</span>
            <span class='kw'>rescue</span> <span class='const'>Interrupt</span>
                <span class='id identifier rubyid_raise'>raise</span>
            <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
                <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>exception raised while calling </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='embexpr_end'>}</span><span class='tstring_content'>#kill(false)</span><span class='tstring_end'>&quot;</span></span>
                <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_pp'>log_pp</span><span class='lparen'>(</span><span class='symbol'>:warn</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../RemoteProcesses.html#RET_NO-constant" title="Orocos::RemoteProcesses::RET_NO (constant)">RET_NO</a></span></span><span class='rparen'>)</span>
            <span class='kw'>end</span>
        <span class='kw'>else</span>
            <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no process named </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> to end</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../RemoteProcesses.html#RET_NO-constant" title="Orocos::RemoteProcesses::RET_NO (constant)">RET_NO</a></span></span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd_code'>cmd_code</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../RemoteProcesses.html#COMMAND_QUIT-constant" title="Orocos::RemoteProcesses::COMMAND_QUIT (constant)">COMMAND_QUIT</a></span></span>
        <span class='id identifier rubyid_quit'>quit</span>
    <span class='kw'>end</span>

    <span class='kw'>true</span>
<span class='kw'>rescue</span> <span class='const'>Interrupt</span>
    <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fatal'>fatal</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>protocol error on </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_socket'>socket</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fatal'>fatal</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>while serving command </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd_code'>cmd_code</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_bt'>bt</span><span class='op'>|</span>
        <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fatal'>fatal</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bt'>bt</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>false</span>

<span class='kw'>rescue</span> <span class='const'>EOFError</span>
    <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="listen-instance_method">
  
    #<strong>listen</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Main server loop. This will block and only return when CTRL+C is hit.</p>

<p>All started processes are stopped when the server quits</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_listen'>listen</span>
    <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>process server listening on port </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_server_io'>server_io</span><span class='comma'>,</span> <span class='id identifier rubyid_com_r'>com_r</span> <span class='op'>=</span> <span class='op'>*</span><span class='ivar'>@all_ios</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>

    <span class='kw'>while</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_readable_sockets'>readable_sockets</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='ivar'>@all_ios</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_readable_sockets'>readable_sockets</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_server_io'>server_io</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_readable_sockets'>readable_sockets</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_server_io'>server_io</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_client_socket'>client_socket</span> <span class='op'>=</span> <span class='id identifier rubyid_server_io'>server_io</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span>
            <span class='id identifier rubyid_client_socket'>client_socket</span><span class='period'>.</span><span class='id identifier rubyid_setsockopt'>setsockopt</span><span class='lparen'>(</span><span class='const'>Socket</span><span class='op'>::</span><span class='const'>IPPROTO_TCP</span><span class='comma'>,</span> <span class='const'>Socket</span><span class='op'>::</span><span class='const'>TCP_NODELAY</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_client_socket'>client_socket</span><span class='period'>.</span><span class='id identifier rubyid_fcntl'>fcntl</span><span class='lparen'>(</span><span class='const'>Fcntl</span><span class='op'>::</span><span class='const'>FD_CLOEXEC</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
            <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new connection: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_client_socket'>client_socket</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='ivar'>@all_ios</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_client_socket'>client_socket</span>
        <span class='kw'>end</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_readable_sockets'>readable_sockets</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_com_r'>com_r</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_readable_sockets'>readable_sockets</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_com_r'>com_r</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='id identifier rubyid_com_r'>com_r</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="#INTERNAL_SIGCHLD_TRIGGERED-constant" title="Orocos::RemoteProcesses::Server::INTERNAL_SIGCHLD_TRIGGERED (constant)">INTERNAL_SIGCHLD_TRIGGERED</a></span></span>
                <span class='id identifier rubyid_process_dead_processes'>process_dead_processes</span>
            <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span>
                <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown internal communication code </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd'>cmd</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_readable_sockets'>readable_sockets</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_socket'>socket</span><span class='op'>|</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_handle_command'>handle_command</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
                <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_socket'>socket</span><span class='embexpr_end'>}</span><span class='tstring_content'> closed or errored</span><span class='tstring_end'>&quot;</span></span>
                <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
                <span class='ivar'>@all_ios</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

<span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>Interrupt</span> <span class='comment'># normal procedure
</span>        <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fatal'>fatal</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>process server exited normally</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>return</span>
    <span class='kw'>end</span>

    <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fatal'>fatal</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>process server exited because of unhandled exception</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fatal'>fatal</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
        <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fatal'>fatal</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

<span class='kw'>ensure</span>
    <span class='id identifier rubyid_quit_and_join'>quit_and_join</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="move_log_dir-instance_method">
  
    #<strong>move_log_dir</strong>(log_dir, results_dir)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


349
350
351
352
353
354
355
356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 349</span>

<span class='kw'>def</span> <span class='id identifier rubyid_move_log_dir'>move_log_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_results_dir'>results_dir</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_date_tag'>date_tag</span>    <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>time_tag</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>
    <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_results_dir'>results_dir</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span><span class='lparen'>(</span><span class='id identifier rubyid_log_dir'>log_dir</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_dirname'>dirname</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_unique_dirname'><span class='object_link'><a href="#unique_dirname-class_method" title="Orocos::RemoteProcesses::Server.unique_dirname (method)">unique_dirname</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_results_dir'>results_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_date_tag'>date_tag</span><span class='rparen'>)</span>
        <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mv'>mv</span> <span class='id identifier rubyid_log_dir'>log_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_dirname'>dirname</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="open-instance_method">
  
    #<strong>open</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132
133
134
135
136
137
138
139
140
141
142
143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_open'>open</span>
    <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>starting on port </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_required_port'>required_port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_server'>server</span> <span class='op'>=</span> <span class='const'>TCPServer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_required_port'>required_port</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_server'>server</span><span class='period'>.</span><span class='id identifier rubyid_fcntl'>fcntl</span><span class='lparen'>(</span><span class='const'>Fcntl</span><span class='op'>::</span><span class='const'>FD_CLOEXEC</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='ivar'>@port</span> <span class='op'>=</span> <span class='id identifier rubyid_server'>server</span><span class='period'>.</span><span class='id identifier rubyid_addr'>addr</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>

    <span class='id identifier rubyid_com_r'>com_r</span><span class='comma'>,</span> <span class='id identifier rubyid_com_w'>com_w</span> <span class='op'>=</span> <span class='const'>IO</span><span class='period'>.</span><span class='id identifier rubyid_pipe'>pipe</span>
    <span class='ivar'>@all_ios</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='ivar'>@all_ios</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_server'>server</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_com_r'>com_r</span>

    <span class='id identifier rubyid_trap'>trap</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SIGCHLD</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
        <span class='id identifier rubyid_com_w'>com_w</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='const'><span class='object_link'><a href="#INTERNAL_SIGCHLD_TRIGGERED-constant" title="Orocos::RemoteProcesses::Server::INTERNAL_SIGCHLD_TRIGGERED (constant)">INTERNAL_SIGCHLD_TRIGGERED</a></span></span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="process_dead_processes-instance_method">
  
    #<strong>process_dead_processes</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 198</span>

<span class='kw'>def</span> <span class='id identifier rubyid_process_dead_processes'>process_dead_processes</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_exited'>exited</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>Process</span><span class='period'>.</span><span class='id identifier rubyid_wait2'>wait2</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='op'>::</span><span class='const'>Process</span><span class='op'>::</span><span class='const'>WNOHANG</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pid'>pid</span><span class='comma'>,</span> <span class='id identifier rubyid_exit_status'>exit_status</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_exited'>exited</span>
        <span class='id identifier rubyid_process_name'>process_name</span><span class='comma'>,</span> <span class='id identifier rubyid_process'>process</span> <span class='op'>=</span> <span class='id identifier rubyid_processes'>processes</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>==</span> <span class='id identifier rubyid_pid'>pid</span> <span class='rbrace'>}</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_process_name'>process_name</span>

        <span class='id identifier rubyid_process'>process</span><span class='period'>.</span><span class='id identifier rubyid_dead!'>dead!</span><span class='lparen'>(</span><span class='id identifier rubyid_exit_status'>exit_status</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_processes'>processes</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_process_name'>process_name</span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>announcing death: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_process_name'>process_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_each_client'>each_client</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_socket'>socket</span><span class='op'>|</span>
            <span class='kw'>begin</span>
                <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  announcing to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_socket'>socket</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../RemoteProcesses.html#EVENT_DEAD_PROCESS-constant" title="Orocos::RemoteProcesses::EVENT_DEAD_PROCESS (constant)">EVENT_DEAD_PROCESS</a></span></span><span class='rparen'>)</span>
                <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_process_name'>process_name</span><span class='comma'>,</span> <span class='id identifier rubyid_exit_status'>exit_status</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
            <span class='kw'>rescue</span> <span class='const'>IOError</span>
                <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_socket'>socket</span><span class='embexpr_end'>}</span><span class='tstring_content'>: IOError</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECHILD</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="quit-instance_method">
  
    #<strong>quit</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Interrupt</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


386
387
388</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 386</span>

<span class='kw'>def</span> <span class='id identifier rubyid_quit'>quit</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Interrupt</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="quit_and_join-instance_method">
  
    #<strong>quit_and_join</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Helper method that stops all running processes</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


221
222
223
224
225
226
227
228
229
230
231
232
233</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 221</span>

<span class='kw'>def</span> <span class='id identifier rubyid_quit_and_join'>quit_and_join</span> <span class='comment'># :nodoc:
</span>    <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stopping process server</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_processes'>processes</span><span class='period'>.</span><span class='id identifier rubyid_each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
        <span class='const'><span class='object_link'><a href="" title="Orocos::RemoteProcesses::Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>killing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_each_client'>each_client</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_socket'>socket</span><span class='op'>|</span>
        <span class='kw'>begin</span> <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
        <span class='kw'>rescue</span> <span class='const'>IOError</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start_process-instance_method">
  
    #<strong>start_process</strong>(name, deployment_name, name_mappings, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


374
375
376
377
378
379
380</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/remote_processes/server.rb', line 374</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_process'>start_process</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_deployment_name'>deployment_name</span><span class='comma'>,</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Process.html" title="Orocos::Process (class)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Process.html#initialize-instance_method" title="Orocos::Process#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_deployment_name'>deployment_name</span><span class='comma'>,</span>
        <span class='label'>loader:</span> <span class='ivar'>@loader</span><span class='comma'>,</span>
        <span class='label'>name_mappings:</span> <span class='id identifier rubyid_name_mappings'>name_mappings</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='op'>**</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_start_options'>default_start_options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_processes'>processes</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 22:10:33 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>