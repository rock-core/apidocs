<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Orocos::OutputPort
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Orocos::OutputPort";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (O)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span>
     &raquo; 
    <span class="title">OutputPort</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Orocos::OutputPort
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Port.html" title="Orocos::Port (class)">Port</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Port.html" title="Orocos::Port (class)">Port</a></span></li>
          
            <li class="next">Orocos::OutputPort</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="OutputPortBase.html" title="Orocos::OutputPortBase (module)">OutputPortBase</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/orocos/output_port.rb<span class="defines">,<br />
  lib/orocos/ros/ports.rb,<br /> lib/orocos/async/orocos.rb,<br /> ext/rorocos/rorocos.cc</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This class represents output ports on remote task contexts.</p>

<p>They are obtained from TaskContext#port or TaskContext#each_port</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="RubyTasks/LocalOutputPort.html" title="Orocos::RubyTasks::LocalOutputPort (class)">RubyTasks::LocalOutputPort</a></span></p>
</div>



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants inherited
     from <span class='object_link'><a href="Port.html" title="Orocos::Port (class)">Port</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Port.html#CONNECTION_POLICY_OPTIONS-constant" title="Orocos::Port::CONNECTION_POLICY_OPTIONS (constant)">Port::CONNECTION_POLICY_OPTIONS</a></span>, <span class='object_link'><a href="Port.html#DEFAULT_CONNECTION_POLICY-constant" title="Orocos::Port::DEFAULT_CONNECTION_POLICY (constant)">Port::DEFAULT_CONNECTION_POLICY</a></span>, <span class='object_link'><a href="Port.html#MQ_RTT_DEFAULT_QUEUE_LENGTH-constant" title="Orocos::Port::MQ_RTT_DEFAULT_QUEUE_LENGTH (constant)">Port::MQ_RTT_DEFAULT_QUEUE_LENGTH</a></span></p>

  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="PortBase.html" title="Orocos::PortBase (module)">PortBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="PortBase.html#D_DIFFERENT_HOSTS-constant" title="Orocos::PortBase::D_DIFFERENT_HOSTS (constant)">PortBase::D_DIFFERENT_HOSTS</a></span>, <span class='object_link'><a href="PortBase.html#D_SAME_HOST-constant" title="Orocos::PortBase::D_SAME_HOST (constant)">PortBase::D_SAME_HOST</a></span>, <span class='object_link'><a href="PortBase.html#D_SAME_PROCESS-constant" title="Orocos::PortBase::D_SAME_PROCESS (constant)">PortBase::D_SAME_PROCESS</a></span>, <span class='object_link'><a href="PortBase.html#D_UNKNOWN-constant" title="Orocos::PortBase::D_UNKNOWN (constant)">PortBase::D_UNKNOWN</a></span></p>




  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="PortBase.html" title="Orocos::PortBase (module)">PortBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="PortBase.html#model-instance_method" title="Orocos::PortBase#model (method)">#model</a></span>, <span class='object_link'><a href="PortBase.html#name-instance_method" title="Orocos::PortBase#name (method)">#name</a></span>, <span class='object_link'><a href="PortBase.html#orocos_type_name-instance_method" title="Orocos::PortBase#orocos_type_name (method)">#orocos_type_name</a></span>, <span class='object_link'><a href="PortBase.html#task-instance_method" title="Orocos::PortBase#task (method)">#task</a></span>, <span class='object_link'><a href="PortBase.html#type-instance_method" title="Orocos::PortBase#type (method)">#type</a></span></p>


  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reader_class-class_method" title="reader_class (class method)">.<strong>reader_class</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Used by OutputPortReadAccess to determine which output reader class should
be used.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#connect_to-instance_method" title="#connect_to (instance method)">#<strong>connect_to</strong>(input_port, distance: D_UNKNOWN, **options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Connect this output port to an input port.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disconnect_from-instance_method" title="#disconnect_from (instance method)">#<strong>disconnect_from</strong>(input)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Require this port to disconnect from the provided input port.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_connect_to-instance_method" title="#do_connect_to (instance method)">#<strong>do_connect_to</strong>(rinput_port, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Actual implementation of #connect_to.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pretty_print-instance_method" title="#pretty_print (instance method)">#<strong>pretty_print</strong>(pp)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#publish_on_ros-instance_method" title="#publish_on_ros (instance method)">#<strong>publish_on_ros</strong>(topic_name = default_ros_topic_name, policy = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Publishes this port on a ROS topic.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_async-instance_method" title="#to_async (instance method)">#<strong>to_async</strong>(options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_proxy-instance_method" title="#to_proxy (instance method)">#<strong>to_proxy</strong>(options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unpublish_from_ros-instance_method" title="#unpublish_from_ros (instance method)">#<strong>unpublish_from_ros</strong>(topic_name = &quot;#{task.name}/#{self.name}&quot;)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Unpublishes this port from a ROS topic.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="OutputPortBase.html" title="Orocos::OutputPortBase (module)">OutputPortBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="OutputPortBase.html#reader-instance_method" title="Orocos::OutputPortBase#reader (method)">#reader</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Port.html" title="Orocos::Port (class)">Port</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Port.html#connected%3F-instance_method" title="Orocos::Port#connected? (method)">#connected?</a></span>, <span class='object_link'><a href="Port.html#create_stream-instance_method" title="Orocos::Port#create_stream (method)">#create_stream</a></span>, <span class='object_link'><a href="Port.html#default_ros_topic_name-instance_method" title="Orocos::Port#default_ros_topic_name (method)">#default_ros_topic_name</a></span>, <span class='object_link'><a href="Port.html#disconnect_all-instance_method" title="Orocos::Port#disconnect_all (method)">#disconnect_all</a></span>, <span class='object_link'><a href="Port.html#do_create_stream-instance_method" title="Orocos::Port#do_create_stream (method)">#do_create_stream</a></span>, <span class='object_link'><a href="Port.html#do_disconnect_all-instance_method" title="Orocos::Port#do_disconnect_all (method)">#do_disconnect_all</a></span>, <span class='object_link'><a href="Port.html#do_disconnect_from-instance_method" title="Orocos::Port#do_disconnect_from (method)">#do_disconnect_from</a></span>, <span class='object_link'><a href="Port.html#do_remove_stream-instance_method" title="Orocos::Port#do_remove_stream (method)">#do_remove_stream</a></span>, <span class='object_link'><a href="Port.html#doc-instance_method" title="Orocos::Port#doc (method)">#doc</a></span>, <span class='object_link'><a href="Port.html#doc%3F-instance_method" title="Orocos::Port#doc? (method)">#doc?</a></span>, <span class='object_link'><a href="Port.html#handle_mq_transport-instance_method" title="Orocos::Port#handle_mq_transport (method)">#handle_mq_transport</a></span>, <span class='object_link'><a href="Port.html#prepare_policy-class_method" title="Orocos::Port.prepare_policy (method)">prepare_policy</a></span>, <span class='object_link'><a href="Port.html#refine_exceptions-instance_method" title="Orocos::Port#refine_exceptions (method)">#refine_exceptions</a></span>, <span class='object_link'><a href="Port.html#remove_stream-instance_method" title="Orocos::Port#remove_stream (method)">#remove_stream</a></span>, <span class='object_link'><a href="Port.html#to_orocos_port-instance_method" title="Orocos::Port#to_orocos_port (method)">#to_orocos_port</a></span>, <span class='object_link'><a href="Port.html#transient_local_port_name-class_method" title="Orocos::Port.transient_local_port_name (method)">transient_local_port_name</a></span>, <span class='object_link'><a href="Port.html#transport_name-class_method" title="Orocos::Port.transport_name (method)">transport_name</a></span>, <span class='object_link'><a href="Port.html#type_name-instance_method" title="Orocos::Port#type_name (method)">#type_name</a></span>, <span class='object_link'><a href="Port.html#validate_policy-class_method" title="Orocos::Port.validate_policy (method)">validate_policy</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="PortBase.html" title="Orocos::PortBase (module)">PortBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="PortBase.html#==-instance_method" title="Orocos::PortBase#== (method)">#==</a></span>, <span class='object_link'><a href="PortBase.html#distance_to-instance_method" title="Orocos::PortBase#distance_to (method)">#distance_to</a></span>, <span class='object_link'><a href="PortBase.html#ensure_type_available-instance_method" title="Orocos::PortBase#ensure_type_available (method)">#ensure_type_available</a></span>, <span class='object_link'><a href="PortBase.html#full_name-instance_method" title="Orocos::PortBase#full_name (method)">#full_name</a></span>, <span class='object_link'><a href="PortBase.html#initialize-instance_method" title="Orocos::PortBase#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="PortBase.html#log_metadata-instance_method" title="Orocos::PortBase#log_metadata (method)">#log_metadata</a></span>, <span class='object_link'><a href="PortBase.html#max_marshalling_size-instance_method" title="Orocos::PortBase#max_marshalling_size (method)">#max_marshalling_size</a></span>, <span class='object_link'><a href="PortBase.html#max_sizes-instance_method" title="Orocos::PortBase#max_sizes (method)">#max_sizes</a></span>, <span class='object_link'><a href="PortBase.html#new_sample-instance_method" title="Orocos::PortBase#new_sample (method)">#new_sample</a></span>, <span class='object_link'><a href="PortBase.html#to_s-instance_method" title="Orocos::PortBase#to_s (method)">#to_s</a></span></p>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="reader_class-class_method">
  
    .<strong>reader_class</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Used by OutputPortReadAccess to determine which output reader class should
be used</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/output_port.rb', line 15</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_reader_class'>reader_class</span><span class='semicolon'>;</span> <span class='const'><span class='object_link'><a href="OutputReader.html" title="Orocos::OutputReader (class)">OutputReader</a></span></span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="connect_to-instance_method">
  
    #<strong>connect_to</strong>(input_port, distance: D_UNKNOWN, **options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Connect this output port to an input port. <code>options</code> defines the
connection policy for the connection. If a task is given instead of an
input port the method will try to find the right input port by type and
will raise an error if there are none or more than one matching input ports</p>

<p>The following options are available:</p>

<p>Data connections. In that connection, the reader will see only the last
sample he received. Such a connection is set up with</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_input_port'>input_port</span><span class='period'>.</span><span class='id identifier rubyid_connect_to'>connect_to</span> <span class='id identifier rubyid_output_port'>output_port</span><span class='comma'>,</span> <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='symbol'>:data</span>
</code></pre>

<p>Buffered connections. In that case, the reader will be able to read all the
samples received since the last read. A buffer in between the output and
input port will keep the samples that have not been read already.  Such a
connection is set up with:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_output_port'>output_port</span><span class='period'>.</span><span class='id identifier rubyid_connect_to'>connect_to</span> <span class='id identifier rubyid_input_port'>input_port</span><span class='comma'>,</span> <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='symbol'>:buffer</span><span class='comma'>,</span> <span class='symbol'>:size</span> <span class='op'>=&gt;</span> <span class='int'>10</span>
</code></pre>

<p>Where the <code>size</code> option gives the size of the intermediate
buffer. Note that new samples will be lost if they are received when the
buffer is full.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/output_port.rb', line 40</span>

<span class='kw'>def</span> <span class='id identifier rubyid_connect_to'>connect_to</span><span class='lparen'>(</span><span class='id identifier rubyid_input_port'>input_port</span><span class='comma'>,</span> <span class='label'>distance:</span> <span class='const'><span class='object_link'><a href="PortBase.html#D_UNKNOWN-constant" title="Orocos::PortBase::D_UNKNOWN (constant)">D_UNKNOWN</a></span></span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_input_port'>input_port</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_orocos_port</span><span class='rparen'>)</span>
        <span class='kw'>return</span> <span class='kw'>super</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_input_port'>input_port</span> <span class='op'>=</span> <span class='id identifier rubyid_input_port'>input_port</span><span class='period'>.</span><span class='id identifier rubyid_to_orocos_port'>to_orocos_port</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_input_port'>input_port</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="InputPort.html" title="Orocos::InputPort (class)">InputPort</a></span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>an output port can only connect to an input port (got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input_port'>input_port</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_input_port'>input_port</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>!=</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>trying to connect </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>, an output port of type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input_port'>input_port</span><span class='embexpr_end'>}</span><span class='tstring_content'>, an input port of type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input_port'>input_port</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_policy'>policy</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Port.html" title="Orocos::Port (class)">Port</a></span></span><span class='period'>.</span><span class='id identifier rubyid_prepare_policy'><span class='object_link'><a href="Port.html#prepare_policy-class_method" title="Orocos::Port.prepare_policy (method)">prepare_policy</a></span></span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_distance'>distance</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="PortBase.html#D_UNKNOWN-constant" title="Orocos::PortBase::D_UNKNOWN (constant)">D_UNKNOWN</a></span></span>
        <span class='id identifier rubyid_distance'>distance</span> <span class='op'>=</span> <span class='id identifier rubyid_distance_to'>distance_to</span><span class='lparen'>(</span><span class='id identifier rubyid_input_port'>input_port</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_distance'>distance</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="PortBase.html#D_SAME_HOST-constant" title="Orocos::PortBase::D_SAME_HOST (constant)">D_SAME_HOST</a></span></span>
        <span class='id identifier rubyid_policy'>policy</span> <span class='op'>=</span> <span class='id identifier rubyid_handle_mq_transport'>handle_mq_transport</span><span class='lparen'>(</span><span class='id identifier rubyid_input_port'>input_port</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_policy'>policy</span><span class='lbracket'>[</span><span class='symbol'>:pull</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_input_port'>input_port</span><span class='period'>.</span><span class='id identifier rubyid_blocking_read'>blocking_read</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>

    <span class='kw'>begin</span>
        <span class='id identifier rubyid_refine_exceptions'>refine_exceptions</span><span class='lparen'>(</span><span class='id identifier rubyid_input_port'>input_port</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_do_connect_to'>do_connect_to</span><span class='lparen'>(</span><span class='id identifier rubyid_input_port'>input_port</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ConnectionFailed.html" title="Orocos::ConnectionFailed (class)">ConnectionFailed</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_policy'>policy</span><span class='lbracket'>[</span><span class='symbol'>:transport</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../Orocos.html#TRANSPORT_MQ-constant" title="Orocos::TRANSPORT_MQ (constant)">TRANSPORT_MQ</a></span></span> <span class='op'>&amp;&amp;</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="MQueue.html" title="Orocos::MQueue (module)">MQueue</a></span></span><span class='period'>.</span><span class='id identifier rubyid_auto_fallback_to_corba?'><span class='object_link'><a href="MQueue.html#auto_fallback_to_corba%3F-class_method" title="Orocos::MQueue.auto_fallback_to_corba? (method)">auto_fallback_to_corba?</a></span></span>
            <span class='id identifier rubyid_policy'>policy</span><span class='lbracket'>[</span><span class='symbol'>:transport</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>TRANSPORT_CORBA</span>
            <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>failed to create a connection from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input_port'>input_port</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> using the MQ transport, falling back to CORBA</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>retry</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_raise'>raise</span>
    <span class='kw'>end</span>
            
    <span class='kw'>self</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ConnectionFailed.html" title="Orocos::ConnectionFailed (class)">ConnectionFailed</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>failed to connect </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input_port'>input_port</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> with policy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_policy'>policy</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disconnect_from-instance_method">
  
    #<strong>disconnect_from</strong>(input)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Require this port to disconnect from the provided input port</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84
85
86
87
88
89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/output_port.rb', line 82</span>

<span class='kw'>def</span> <span class='id identifier rubyid_disconnect_from'>disconnect_from</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_orocos_port</span><span class='rparen'>)</span>
        <span class='kw'>return</span> <span class='kw'>super</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_input'>input</span> <span class='op'>=</span> <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_to_orocos_port'>to_orocos_port</span>
    <span class='id identifier rubyid_refine_exceptions'>refine_exceptions</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_do_disconnect_from'>do_disconnect_from</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_connect_to-instance_method">
  
    #<strong>do_connect_to</strong>(rinput_port, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Actual implementation of #connect_to. Sanity checks are done in Ruby. Just
create the connection.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


439
440
441
442
443
444
445
446
447
448
449
450
451
452</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 439</span>

static VALUE do_port_connect_to(VALUE routput_port, VALUE rinput_port, VALUE options)
{
    RTaskContext* out_task; VALUE out_name;
    tie(out_task, tuples::ignore, out_name) = getPortReference(routput_port);
    RTaskContext* in_task; VALUE in_name;
    tie(in_task, tuples::ignore, in_name) = getPortReference(rinput_port);

    RTT::corba::CConnPolicy policy = policyFromHash(options);
    bool result = corba_blocking_fct_call_with_result(bind(&amp;_objref_CDataFlowInterface::createConnection,(_objref_CDataFlowInterface*)out_task-&gt;ports,
                StringValuePtr(out_name),in_task-&gt;ports,StringValuePtr(in_name),policy));
    if(!result)
        rb_raise(eConnectionFailed, &quot;failed to connect ports&quot;);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pretty_print-instance_method">
  
    #<strong>pretty_print</strong>(pp)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/output_port.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pretty_print'>pretty_print</span><span class='lparen'>(</span><span class='id identifier rubyid_pp'>pp</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>    <span class='id identifier rubyid_pp'>pp</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>out </span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="publish_on_ros-instance_method">
  
    #<strong>publish_on_ros</strong>(topic_name = default_ros_topic_name, policy = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Publishes this port on a ROS topic</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/ros/ports.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_publish_on_ros'>publish_on_ros</span><span class='lparen'>(</span><span class='id identifier rubyid_topic_name'>topic_name</span> <span class='op'>=</span> <span class='id identifier rubyid_default_ros_topic_name'>default_ros_topic_name</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_topic_name'>topic_name</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_topic_name'>topic_name</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span> <span class='op'>=</span> <span class='id identifier rubyid_default_ros_topic_name'>default_ros_topic_name</span><span class='comma'>,</span> <span class='id identifier rubyid_topic_name'>topic_name</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_create_stream'>create_stream</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'>TRANSPORT_ROS</span><span class='comma'>,</span> <span class='id identifier rubyid_topic_name'>topic_name</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_async-instance_method">
  
    #<strong>to_async</strong>(options = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/orocos.rb', line 66</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_async'>to_async</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_use'>use</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:use</span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Async.html" title="Orocos::Async (module)">Async</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Async/CORBA.html" title="Orocos::Async::CORBA (module)">CORBA</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Async/CORBA/OutputPort.html" title="Orocos::Async::CORBA::OutputPort (class)">OutputPort</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Async/CORBA/OutputPort.html#initialize-instance_method" title="Orocos::Async::CORBA::OutputPort#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_use'>use</span><span class='comma'>,</span><span class='kw'>self</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>else</span> <span class='id identifier rubyid_to_async'>to_async</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='lbracket'>[</span><span class='symbol'>:use</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_to_async'>to_async</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_proxy-instance_method">
  
    #<strong>to_proxy</strong>(options = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/orocos.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_proxy'>to_proxy</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_to_proxy'>to_proxy</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unpublish_from_ros-instance_method">
  
    #<strong>unpublish_from_ros</strong>(topic_name = &quot;#{task.name}/#{self.name}&quot;)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Unpublishes this port from a ROS topic</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/ros/ports.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unpublish_from_ros'>unpublish_from_ros</span><span class='lparen'>(</span><span class='id identifier rubyid_topic_name'>topic_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_remove_stream'>remove_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_topic_name'>topic_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 22:10:23 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>