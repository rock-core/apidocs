<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Orocos::TaskContext
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Orocos::TaskContext";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span>
     &raquo; 
    <span class="title">TaskContext</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Orocos::TaskContext
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="TaskContextBase.html" title="Orocos::TaskContextBase (class)">TaskContextBase</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="TaskContextBase.html" title="Orocos::TaskContextBase (class)">TaskContextBase</a></span></li>
          
            <li class="next">Orocos::TaskContext</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/orocos/task_context.rb<span class="defines">,<br />
  lib/orocos/async/orocos.rb,<br /> ext/rorocos/rorocos.cc</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A proxy for a remote task context. The communication between Ruby and the
RTT component is done through the CORBA transport.</p>

<p>See README.txt for information on how you can manipulate a task context
through this class.</p>

<p>The available information about this task context can be displayed using
Ruby&#39;s pretty print library:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pp</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_task_object'>task_object</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="RubyTasks/RemoteTaskContext.html" title="Orocos::RubyTasks::RemoteTaskContext (class)">RubyTasks::RemoteTaskContext</a></span>, <span class='object_link'><a href="RubyTasks/TaskContext.html" title="Orocos::RubyTasks::TaskContext (class)">RubyTasks::TaskContext</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="TaskContext/StateReader.html" title="Orocos::TaskContext::StateReader (module)">StateReader</a></span>
    
  
    
  
</p>



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants inherited
     from <span class='object_link'><a href="TaskContextBase.html" title="Orocos::TaskContextBase (class)">TaskContextBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="TaskContextBase.html#RUNNING_STATES-constant" title="Orocos::TaskContextBase::RUNNING_STATES (constant)">Orocos::TaskContextBase::RUNNING_STATES</a></span></p>

  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Namespace.html" title="Orocos::Namespace (module)">Namespace</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Namespace.html#DELIMATOR-constant" title="Orocos::Namespace::DELIMATOR (constant)">Namespace::DELIMATOR</a></span></p>


  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#logger-instance_method" title="#logger (instance method)">#<strong>logger</strong>  &#x21d2; #log </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The logger task that should be used to log data that concerns this task.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="TaskContextBase.html" title="Orocos::TaskContextBase (class)">TaskContextBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="TaskContextBase.html#attributes-instance_method" title="Orocos::TaskContextBase#attributes (method)">#attributes</a></span>, <span class='object_link'><a href="TaskContextBase.html#configuration_log-instance_method" title="Orocos::TaskContextBase#configuration_log (method)">#configuration_log</a></span>, <span class='object_link'><a href="TaskContextBase.html#current_state-instance_method" title="Orocos::TaskContextBase#current_state (method)">#current_state</a></span>, <span class='object_link'><a href="TaskContextBase.html#ior-instance_method" title="Orocos::TaskContextBase#ior (method)">#ior</a></span>, <span class='object_link'><a href="TaskContextBase.html#process-instance_method" title="Orocos::TaskContextBase#process (method)">#process</a></span>, <span class='object_link'><a href="TaskContextBase.html#properties-instance_method" title="Orocos::TaskContextBase#properties (method)">#properties</a></span>, <span class='object_link'><a href="TaskContextBase.html#state_symbols-instance_method" title="Orocos::TaskContextBase#state_symbols (method)">#state_symbols</a></span></p>


  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#corba_wrap-class_method" title="corba_wrap (class method)">.<strong>corba_wrap</strong>(m, *args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Automated wrapper to handle CORBA exceptions coming from the C extension.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>/.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#state_transition_call-class_method" title="state_transition_call (class method)">.<strong>state_transition_call</strong>(m, expected_state, target_state)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#apply_conf-instance_method" title="#apply_conf (instance method)">#<strong>apply_conf</strong>(section_names = Array.new, override = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Applies the TaskContext configuration stored by the main  configuration
manager to the TaskContext.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#apply_conf_file-instance_method" title="#apply_conf_file (instance method)">#<strong>apply_conf_file</strong>(file, section_names = Array.new, override = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Loads the configuration for the TaskContext from a file, into the main
configuration manager and applies it to the TaskContext.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attribute-instance_method" title="#attribute (instance method)">#<strong>attribute</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an Attribute object representing the given attribute.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attribute_names-instance_method" title="#attribute_names (instance method)">#<strong>attribute_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the array of the names of available attributes on this task
context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#callop-instance_method" title="#callop (instance method)">#<strong>callop</strong>(name, *args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Calls the required operation with the given argument.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cleanup-instance_method" title="#cleanup (instance method)">#<strong>cleanup</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:method: cleanup.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#configure-instance_method" title="#configure (instance method)">#<strong>configure</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:method: configure.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#connect_to-instance_method" title="#connect_to (instance method)">#<strong>connect_to</strong>(sink, policy = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_property_log_stream-instance_method" title="#create_property_log_stream (instance method)">#<strong>create_property_log_stream</strong>(p)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disconnect_from-instance_method" title="#disconnect_from (instance method)">#<strong>disconnect_from</strong>(sink, policy = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_attribute_names-instance_method" title="#do_attribute_names (instance method)">#<strong>do_attribute_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_attribute_read-instance_method" title="#do_attribute_read (instance method)">#<strong>do_attribute_read</strong>(property_name, type_name, rb_typelib_value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_attribute_read_string-instance_method" title="#do_attribute_read_string (instance method)">#<strong>do_attribute_read_string</strong>(property_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_attribute_type_name-instance_method" title="#do_attribute_type_name (instance method)">#<strong>do_attribute_type_name</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_attribute_write-instance_method" title="#do_attribute_write (instance method)">#<strong>do_attribute_write</strong>(property_name, type_name, rb_typelib_value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_attribute_write_string-instance_method" title="#do_attribute_write_string (instance method)">#<strong>do_attribute_write_string</strong>(property_name, rb_value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_cleanup-instance_method" title="#do_cleanup (instance method)">#<strong>do_cleanup</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Do the transition between STATE_STOPPED and STATE_PRE_OPERATIONAL.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_configure-instance_method" title="#do_configure (instance method)">#<strong>do_configure</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Do the transition between STATE_PRE_OPERATIONAL and STATE_STOPPED.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_has_operation%3F-instance_method" title="#do_has_operation? (instance method)">#<strong>do_has_operation?</strong>(name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_has_port%3F-instance_method" title="#do_has_port? (instance method)">#<strong>do_has_port?</strong>(name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_operation_call-instance_method" title="#do_operation_call (instance method)">#<strong>do_operation_call</strong>(name, result_type_name, result, args_type_names, args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_operation_names-instance_method" title="#do_operation_names (instance method)">#<strong>do_operation_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_operation_send-instance_method" title="#do_operation_send (instance method)">#<strong>do_operation_send</strong>(name, args_type_names, args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_port-instance_method" title="#do_port (instance method)">#<strong>do_port</strong>(name, model)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>/.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_port_names-instance_method" title="#do_port_names (instance method)">#<strong>do_port_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_property_names-instance_method" title="#do_property_names (instance method)">#<strong>do_property_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_property_read-instance_method" title="#do_property_read (instance method)">#<strong>do_property_read</strong>(property_name, type_name, rb_typelib_value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_property_read_string-instance_method" title="#do_property_read_string (instance method)">#<strong>do_property_read_string</strong>(property_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_property_type_name-instance_method" title="#do_property_type_name (instance method)">#<strong>do_property_type_name</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_property_write-instance_method" title="#do_property_write (instance method)">#<strong>do_property_write</strong>(property_name, type_name, rb_typelib_value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_property_write_string-instance_method" title="#do_property_write_string (instance method)">#<strong>do_property_write_string</strong>(property_name, rb_value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_real_name-instance_method" title="#do_real_name (instance method)">#<strong>do_real_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_reset_exception-instance_method" title="#do_reset_exception (instance method)">#<strong>do_reset_exception</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Do the transition between STATE_EXCEPTION and STATE_STOPPED.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_start-instance_method" title="#do_start (instance method)">#<strong>do_start</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Do the transition between STATE_STOPPED and STATE_RUNNING.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_state-instance_method" title="#do_state (instance method)">#<strong>do_state</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>/.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_stop-instance_method" title="#do_stop (instance method)">#<strong>do_stop</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Do the transition between STATE_RUNNING and STATE_STOPPED.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_operation%3F-instance_method" title="#has_operation? (instance method)">#<strong>has_operation?</strong>(name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if this task context has a command with the given name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_port%3F-instance_method" title="#has_port? (instance method)">#<strong>has_port?</strong>(name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if this task context has a port with the given name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(ior, name: do_real_name, model: nil, **other_options)  &#x21d2; TaskContext </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new TaskContext instance representing the remote task context with the
given IOR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#log_all_configuration-instance_method" title="#log_all_configuration (instance method)">#<strong>log_all_configuration</strong>(logfile)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tell the task to use the given Pocolog::Logfile object to log all changes
to its properties.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#log_all_ports-instance_method" title="#log_all_ports (instance method)">#<strong>log_all_ports</strong>(options = Hash.new)  &#x21d2; Set&lt;String,String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Connects all ports of the task with the logger of the deployment 
task.log_all_ports(:exclude_ports =&gt; “frame”).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#model-instance_method" title="#model (instance method)">#<strong>model</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the Orogen specification object for this task&#39;s model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#operation-instance_method" title="#operation (instance method)">#<strong>operation</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an Operation object that represents the given method on the remote
component.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#operation_argument_types-instance_method" title="#operation_argument_types (instance method)">#<strong>operation_argument_types</strong>(opname)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#operation_names-instance_method" title="#operation_names (instance method)">#<strong>operation_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the array of the names of available operations on this task
context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#operation_return_types-instance_method" title="#operation_return_types (instance method)">#<strong>operation_return_types</strong>(opname)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#peek_state-instance_method" title="#peek_state (instance method)">#<strong>peek_state</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Reads all state transitions that have been announced by the task and pushes
them to @state_queue.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ping-instance_method" title="#ping (instance method)">#<strong>ping</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#port-instance_method" title="#port (instance method)">#<strong>port</strong>(name, verify = true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an object that represents the given port on the remote task
context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#port_names-instance_method" title="#port_names (instance method)">#<strong>port_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the names of all the ports defined on this task context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#property-instance_method" title="#property (instance method)">#<strong>property</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a Property object representing the given property.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#property_names-instance_method" title="#property_names (instance method)">#<strong>property_names</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the array of the names of available properties on this task
context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#raw_port-instance_method" title="#raw_port (instance method)">#<strong>raw_port</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Resolve a Port object for the given port name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#raw_property-instance_method" title="#raw_property (instance method)">#<strong>raw_property</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the property object without caching nor validation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset_exception-instance_method" title="#reset_exception (instance method)">#<strong>reset_exception</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:method: reset_exception.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_connection_from-instance_method" title="#resolve_connection_from (instance method)">#<strong>resolve_connection_from</strong>(source, policy = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_disconnection_from-instance_method" title="#resolve_disconnection_from (instance method)">#<strong>resolve_disconnection_from</strong>(source)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rtt_state-instance_method" title="#rtt_state (instance method)">#<strong>rtt_state</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Reads the state announced by the task&#39;s getState() operation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save_conf-instance_method" title="#save_conf (instance method)">#<strong>save_conf</strong>(file, section_names = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Saves the current configuration into a file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sendop-instance_method" title="#sendop (instance method)">#<strong>sendop</strong>(name, *args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sends the required operation with the given argument.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start-instance_method" title="#start (instance method)">#<strong>start</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:method: start.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#state_reader-instance_method" title="#state_reader (instance method)">#<strong>state_reader</strong>(policy = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a StateReader object that allows to flexibly monitor the task&#39;s
state.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop-instance_method" title="#stop (instance method)">#<strong>stop</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:method: stop.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tid-instance_method" title="#tid (instance method)">#<strong>tid</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the PID of the thread this task runs on.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_async-instance_method" title="#to_async (instance method)">#<strong>to_async</strong>(options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_proxy-instance_method" title="#to_proxy (instance method)">#<strong>to_proxy</strong>(options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wait_for_state-instance_method" title="#wait_for_state (instance method)">#<strong>wait_for_state</strong>(state_name, timeout = nil, polling = 0.1)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Waits for the task to be in state <code>state_name</code> for the specified
amount of time.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="TaskContextBase.html" title="Orocos::TaskContextBase (class)">TaskContextBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="TaskContextBase.html#add_default_states-instance_method" title="Orocos::TaskContextBase#add_default_states (method)">#add_default_states</a></span>, <span class='object_link'><a href="TaskContextBase.html#available_states-instance_method" title="Orocos::TaskContextBase#available_states (method)">#available_states</a></span>, <span class='object_link'><a href="TaskContextBase.html#basename-instance_method" title="Orocos::TaskContextBase#basename (method)">#basename</a></span>, <span class='object_link'><a href="TaskContextBase.html#connect_to-class_method" title="Orocos::TaskContextBase.connect_to (method)">connect_to</a></span>, <span class='object_link'><a href="TaskContextBase.html#doc-instance_method" title="Orocos::TaskContextBase#doc (method)">#doc</a></span>, <span class='object_link'><a href="TaskContextBase.html#doc%3F-instance_method" title="Orocos::TaskContextBase#doc? (method)">#doc?</a></span>, <span class='object_link'><a href="TaskContextBase.html#each_attribute-instance_method" title="Orocos::TaskContextBase#each_attribute (method)">#each_attribute</a></span>, <span class='object_link'><a href="TaskContextBase.html#each_input_port-instance_method" title="Orocos::TaskContextBase#each_input_port (method)">#each_input_port</a></span>, <span class='object_link'><a href="TaskContextBase.html#each_operation-instance_method" title="Orocos::TaskContextBase#each_operation (method)">#each_operation</a></span>, <span class='object_link'><a href="TaskContextBase.html#each_output_port-instance_method" title="Orocos::TaskContextBase#each_output_port (method)">#each_output_port</a></span>, <span class='object_link'><a href="TaskContextBase.html#each_port-instance_method" title="Orocos::TaskContextBase#each_port (method)">#each_port</a></span>, <span class='object_link'><a href="TaskContextBase.html#each_property-instance_method" title="Orocos::TaskContextBase#each_property (method)">#each_property</a></span>, <span class='object_link'><a href="TaskContextBase.html#error%3F-instance_method" title="Orocos::TaskContextBase#error? (method)">#error?</a></span>, <span class='object_link'><a href="TaskContextBase.html#error_state%3F-instance_method" title="Orocos::TaskContextBase#error_state? (method)">#error_state?</a></span>, <span class='object_link'><a href="TaskContextBase.html#exception%3F-instance_method" title="Orocos::TaskContextBase#exception? (method)">#exception?</a></span>, <span class='object_link'><a href="TaskContextBase.html#exception_state%3F-instance_method" title="Orocos::TaskContextBase#exception_state? (method)">#exception_state?</a></span>, <span class='object_link'><a href="TaskContextBase.html#fatal_error%3F-instance_method" title="Orocos::TaskContextBase#fatal_error? (method)">#fatal_error?</a></span>, <span class='object_link'><a href="TaskContextBase.html#fatal_error_state%3F-instance_method" title="Orocos::TaskContextBase#fatal_error_state? (method)">#fatal_error_state?</a></span>, <span class='object_link'><a href="TaskContextBase.html#find_one_running-class_method" title="Orocos::TaskContextBase.find_one_running (method)">find_one_running</a></span>, <span class='object_link'><a href="TaskContextBase.html#get-class_method" title="Orocos::TaskContextBase.get (method)">get</a></span>, <span class='object_link'><a href="TaskContextBase.html#get_provides-class_method" title="Orocos::TaskContextBase.get_provides (method)">get_provides</a></span>, <span class='object_link'><a href="TaskContextBase.html#has_attribute%3F-instance_method" title="Orocos::TaskContextBase#has_attribute? (method)">#has_attribute?</a></span>, <span class='object_link'><a href="TaskContextBase.html#has_property%3F-instance_method" title="Orocos::TaskContextBase#has_property? (method)">#has_property?</a></span>, <span class='object_link'><a href="TaskContextBase.html#implements%3F-instance_method" title="Orocos::TaskContextBase#implements? (method)">#implements?</a></span>, <span class='object_link'><a href="TaskContextBase.html#info-instance_method" title="Orocos::TaskContextBase#info (method)">#info</a></span>, <span class='object_link'><a href="TaskContextBase.html#input_port-instance_method" title="Orocos::TaskContextBase#input_port (method)">#input_port</a></span>, <span class='object_link'><a href="TaskContextBase.html#input_port_model-instance_method" title="Orocos::TaskContextBase#input_port_model (method)">#input_port_model</a></span>, <span class='object_link'><a href="TaskContextBase.html#inspect-instance_method" title="Orocos::TaskContextBase#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="TaskContextBase.html#method_missing-instance_method" title="Orocos::TaskContextBase#method_missing (method)">#method_missing</a></span>, <span class='object_link'><a href="TaskContextBase.html#model=-instance_method" title="Orocos::TaskContextBase#model= (method)">#model=</a></span>, <span class='object_link'><a href="TaskContextBase.html#name-instance_method" title="Orocos::TaskContextBase#name (method)">#name</a></span>, <span class='object_link'><a href="TaskContextBase.html#on_localhost%3F-instance_method" title="Orocos::TaskContextBase#on_localhost? (method)">#on_localhost?</a></span>, <span class='object_link'><a href="TaskContextBase.html#output_port-instance_method" title="Orocos::TaskContextBase#output_port (method)">#output_port</a></span>, <span class='object_link'><a href="TaskContextBase.html#output_port_model-instance_method" title="Orocos::TaskContextBase#output_port_model (method)">#output_port_model</a></span>, <span class='object_link'><a href="TaskContextBase.html#peek_current_state-instance_method" title="Orocos::TaskContextBase#peek_current_state (method)">#peek_current_state</a></span>, <span class='object_link'><a href="TaskContextBase.html#ports-instance_method" title="Orocos::TaskContextBase#ports (method)">#ports</a></span>, <span class='object_link'><a href="TaskContextBase.html#pre_operational%3F-instance_method" title="Orocos::TaskContextBase#pre_operational? (method)">#pre_operational?</a></span>, <span class='object_link'><a href="TaskContextBase.html#pretty_print-instance_method" title="Orocos::TaskContextBase#pretty_print (method)">#pretty_print</a></span>, <span class='object_link'><a href="TaskContextBase.html#reachable%3F-class_method" title="Orocos::TaskContextBase.reachable? (method)">reachable?</a></span>, <span class='object_link'><a href="TaskContextBase.html#reachable%3F-instance_method" title="Orocos::TaskContextBase#reachable? (method)">#reachable?</a></span>, <span class='object_link'><a href="TaskContextBase.html#ready%3F-instance_method" title="Orocos::TaskContextBase#ready? (method)">#ready?</a></span>, <span class='object_link'><a href="TaskContextBase.html#running%3F-instance_method" title="Orocos::TaskContextBase#running? (method)">#running?</a></span>, <span class='object_link'><a href="TaskContextBase.html#runtime_error%3F-instance_method" title="Orocos::TaskContextBase#runtime_error? (method)">#runtime_error?</a></span>, <span class='object_link'><a href="TaskContextBase.html#runtime_state%3F-instance_method" title="Orocos::TaskContextBase#runtime_state? (method)">#runtime_state?</a></span>, <span class='object_link'><a href="TaskContextBase.html#state-instance_method" title="Orocos::TaskContextBase#state (method)">#state</a></span>, <span class='object_link'><a href="TaskContextBase.html#state_changed%3F-instance_method" title="Orocos::TaskContextBase#state_changed? (method)">#state_changed?</a></span>, <span class='object_link'><a href="TaskContextBase.html#states-instance_method" title="Orocos::TaskContextBase#states (method)">#states</a></span>, <span class='object_link'><a href="TaskContextBase.html#to_h-instance_method" title="Orocos::TaskContextBase#to_h (method)">#to_h</a></span>, <span class='object_link'><a href="TaskContextBase.html#toplevel_state-instance_method" title="Orocos::TaskContextBase#toplevel_state (method)">#toplevel_state</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Namespace.html" title="Orocos::Namespace (module)">Namespace</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Namespace.html#basename-instance_method" title="Orocos::Namespace#basename (method)">#basename</a></span>, <span class='object_link'><a href="Namespace.html#map_to_namespace-instance_method" title="Orocos::Namespace#map_to_namespace (method)">#map_to_namespace</a></span>, <span class='object_link'><a href="Namespace.html#namespace-instance_method" title="Orocos::Namespace#namespace (method)">#namespace</a></span>, <span class='object_link'><a href="Namespace.html#namespace=-instance_method" title="Orocos::Namespace#namespace= (method)">#namespace=</a></span>, <span class='object_link'><a href="Namespace.html#same_namespace%3F-instance_method" title="Orocos::Namespace#same_namespace? (method)">#same_namespace?</a></span>, <span class='object_link'><a href="Namespace.html#split_name-instance_method" title="Orocos::Namespace#split_name (method)">#split_name</a></span>, <span class='object_link'><a href="Namespace.html#split_name-class_method" title="Orocos::Namespace.split_name (method)">split_name</a></span>, <span class='object_link'><a href="Namespace.html#validate_namespace_name-class_method" title="Orocos::Namespace.validate_namespace_name (method)">validate_namespace_name</a></span>, <span class='object_link'><a href="Namespace.html#verify_same_namespace-instance_method" title="Orocos::Namespace#verify_same_namespace (method)">#verify_same_namespace</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="PortsSearchable.html" title="Orocos::PortsSearchable (module)">PortsSearchable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="PortsSearchable.html#find_all_input_ports-instance_method" title="Orocos::PortsSearchable#find_all_input_ports (method)">#find_all_input_ports</a></span>, <span class='object_link'><a href="PortsSearchable.html#find_all_output_ports-instance_method" title="Orocos::PortsSearchable#find_all_output_ports (method)">#find_all_output_ports</a></span>, <span class='object_link'><a href="PortsSearchable.html#find_all_ports-instance_method" title="Orocos::PortsSearchable#find_all_ports (method)">#find_all_ports</a></span>, <span class='object_link'><a href="PortsSearchable.html#find_input_port-instance_method" title="Orocos::PortsSearchable#find_input_port (method)">#find_input_port</a></span>, <span class='object_link'><a href="PortsSearchable.html#find_output_port-instance_method" title="Orocos::PortsSearchable#find_output_port (method)">#find_output_port</a></span>, <span class='object_link'><a href="PortsSearchable.html#find_port-instance_method" title="Orocos::PortsSearchable#find_port (method)">#find_port</a></span></p>

  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(ior, name: do_real_name, model: nil, **other_options)  &#x21d2; <tt><span class='object_link'><a href="" title="Orocos::TaskContext (class)">TaskContext</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A new TaskContext instance representing the remote task context with the
given IOR</p>

<p>If a remote task is only known by its name use <span class='object_link'><a href="../Orocos.html#name_service-class_method" title="Orocos.name_service (method)">Orocos.name_service</a></span> to
create an handle to the remote task.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ior</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The IOR of the remote task.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The options.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    
    


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


135
136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 135</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_ior'>ior</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='id identifier rubyid_do_real_name'>do_real_name</span><span class='comma'>,</span> <span class='label'>model:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_other_options'>other_options</span><span class='rparen'>)</span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>model:</span> <span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_other_options'>other_options</span><span class='rparen'>)</span>
    <span class='ivar'>@ior</span> <span class='op'>=</span> <span class='id identifier rubyid_ior'>ior</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_process'>process</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_process'>process</span><span class='period'>.</span><span class='id identifier rubyid_default_logger_name'>default_logger_name</span> <span class='op'>!=</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_logger'>logger</span> <span class='op'>=</span> <span class='id identifier rubyid_process'>process</span><span class='period'>.</span><span class='id identifier rubyid_default_logger'>default_logger</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>
<div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <span class='object_link'><a href="TaskContextBase.html#method_missing-instance_method" title="Orocos::TaskContextBase#method_missing (method)">Orocos::TaskContextBase</a></span>
    
  </p>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="logger=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="logger-instance_method">
  
    #<strong>logger</strong>  &#x21d2; <tt>#log</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The logger task that should be used to log data that concerns this task</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>#log</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 122</span>

<span class='kw'>def</span> <span class='id identifier rubyid_logger'>logger</span>
  <span class='ivar'>@logger</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="corba_wrap-class_method">
  
    .<strong>corba_wrap</strong>(m, *args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Automated wrapper to handle CORBA exceptions coming from the C extension</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78
79
80
81
82
83
84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 78</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_corba_wrap'>corba_wrap</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>    <span class='id identifier rubyid_class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-EOD</span>
<span class='tstring_content'>    def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_m'>m</span><span class='embexpr_end'>}</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>. </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)
        CORBA.refine_exceptions(self) { do_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_m'>m</span><span class='embexpr_end'>}</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>) }
    end
</span><span class='heredoc_end'>    EOD
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new-class_method">
  
    .<strong>new</strong>(*args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>/</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129
130
131
132
133
134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 123</span>

VALUE task_context_create(int argc, VALUE *argv,VALUE klass)
{
    corba_must_be_initialized();

    // all parametes are forwarded to ruby initialize
    if(argc &lt; 1)
        rb_raise(rb_eArgError, &quot;no ior given&quot;);
    std::string ior(StringValueCStr(argv[0]));

    RTaskContext *context =  corba_blocking_fct_call_with_result(boost::bind(&amp;CorbaAccess::createRTaskContext,CorbaAccess::instance(),ior));
    VALUE obj = simple_wrap(klass, context);
    rb_obj_call_init(obj,argc,argv);
    return obj;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="state_transition_call-class_method">
  
    .<strong>state_transition_call</strong>(m, expected_state, target_state)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 86</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_state_transition_call'>state_transition_call</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_expected_state'>expected_state</span><span class='comma'>,</span> <span class='id identifier rubyid_target_state'>target_state</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-EOD</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
<span class='tstring_content'>    def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_m'>m</span><span class='embexpr_end'>}</span><span class='tstring_content'>(wait_for_completion = true, polling = 0.05)
        if wait_for_completion
            current_state = peek_current_state
        end
        CORBA.refine_exceptions(self) do
            begin
                do_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_m'>m</span><span class='embexpr_end'>}</span><span class='tstring_content'>
            rescue Orocos::StateTransitionFailed =&gt; e
                current_state = rtt_state
                reason =
                    if current_state == :EXCEPTION
                        &quot;. The task is in an exception state. You must call #reset_exception before trying again&quot;
                    elsif current_state == :PRE_OPERATIONAL &amp;&amp; &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_m'>m</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; == &#39;start&#39;
                        &quot;. The Task must be configured before it could started. Did you forgot to call configure on the task?&quot;
                    elsif current_state != :</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expected_state'>expected_state</span><span class='embexpr_end'>}</span><span class='tstring_content'>
                        &quot;. Tasks must be in </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expected_state'>expected_state</span><span class='embexpr_end'>}</span><span class='tstring_content'> state before calling </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_m'>m</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but was in \#{current_state}&quot;
                    end

                raise e, &quot;\#{e.message} the &#39;\#{self.name}&#39; task\#{ &quot; of type \#{self.model.name}&quot; if self.model}\#{reason}&quot;, e.backtrace
            end
        end
        if wait_for_completion
            while current_state == peek_current_state</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> &amp;&amp; current_state != :</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_target_state'>target_state</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_target_state'>target_state</span><span class='embexpr_end'>}</span><span class='tstring_content'>
                sleep polling
            end
        end
    end
</span><span class='heredoc_end'>    EOD
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="==-instance_method">
  
    #<strong>==</strong>(other)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142
143
144
145
146</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 138</span>

static VALUE task_context_equal_p(VALUE self, VALUE other)
{
    if (!rb_obj_is_kind_of(other, cTaskContext))
        return Qfalse;

    RTaskContext&amp; self_  = get_wrapped&lt;RTaskContext&gt;(self);
    RTaskContext&amp; other_ = get_wrapped&lt;RTaskContext&gt;(other);
    return self_.task-&gt;_is_equivalent(other_.task) ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="apply_conf-instance_method">
  
    #<strong>apply_conf</strong>(section_names = Array.new, override = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Applies the TaskContext configuration stored by the main  configuration
manager to the TaskContext</p>

<p>See also #load_conf and #Orocos.load_config_dir</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


305
306
307</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 305</span>

<span class='kw'>def</span> <span class='id identifier rubyid_apply_conf'>apply_conf</span><span class='lparen'>(</span><span class='id identifier rubyid_section_names'>section_names</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='id identifier rubyid_override'>override</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_conf'><span class='object_link'><a href="../Orocos.html#conf-class_method" title="Orocos.conf (method)">conf</a></span></span><span class='period'>.</span><span class='id identifier rubyid_apply'>apply</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_section_names'>section_names</span><span class='comma'>,</span> <span class='id identifier rubyid_override'>override</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="apply_conf_file-instance_method">
  
    #<strong>apply_conf_file</strong>(file, section_names = Array.new, override = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Loads the configuration for the TaskContext from a file, into the main
configuration manager and applies it to the TaskContext</p>

<p>See also #apply_conf and #Orocos.load_config_dir</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


292
293
294
295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 292</span>

<span class='kw'>def</span> <span class='id identifier rubyid_apply_conf_file'>apply_conf_file</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span><span class='id identifier rubyid_section_names'>section_names</span><span class='op'>=</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span><span class='id identifier rubyid_override'>override</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_conf'><span class='object_link'><a href="../Orocos.html#conf-class_method" title="Orocos.conf (method)">conf</a></span></span><span class='period'>.</span><span class='id identifier rubyid_load_file'>load_file</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_apply_conf'>apply_conf</span><span class='lparen'>(</span><span class='id identifier rubyid_section_names'>section_names</span><span class='comma'>,</span><span class='id identifier rubyid_override'>override</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="attribute-instance_method">
  
    #<strong>attribute</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an Attribute object representing the given attribute</p>

<p>Raises NotFound if no such attribute exists.</p>

<p>Attributes can also be read and written by calling directly the relevant
method on the task context:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_attribute'>attribute</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>myProperty</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
<span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_attribute'>attribute</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>myProperty</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_myProperty'>myProperty</span>
<span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_myProperty'>myProperty</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 436</span>

<span class='kw'>def</span> <span class='id identifier rubyid_attribute'>attribute</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_attributes'>attributes</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_has_attribute?'>has_attribute?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
            <span class='kw'>return</span> <span class='id identifier rubyid_a'>a</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_attributes'>attributes</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="InterfaceObjectNotFound.html" title="Orocos::InterfaceObjectNotFound (class)">InterfaceObjectNotFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InterfaceObjectNotFound.html#initialize-instance_method" title="Orocos::InterfaceObjectNotFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>task </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not have an attribute named </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_type_name'>type_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_do_attribute_type_name'>do_attribute_type_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'>ArgumentError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="InterfaceObjectNotFound.html" title="Orocos::InterfaceObjectNotFound (class)">InterfaceObjectNotFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InterfaceObjectNotFound.html#initialize-instance_method" title="Orocos::InterfaceObjectNotFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>task </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not have an attribute named </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Attribute.html" title="Orocos::Attribute (class)">Attribute</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="TaskContextAttribute.html#initialize-instance_method" title="Orocos::TaskContextAttribute#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type_name'>type_name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_configuration_log'>configuration_log</span>
        <span class='id identifier rubyid_create_property_log_stream'>create_property_log_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_log_current_value'>log_current_value</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_attributes'>attributes</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="attribute_names-instance_method">
  
    #<strong>attribute_names</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the array of the names of available attributes on this task context</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


415
416
417
418
419</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 415</span>

<span class='kw'>def</span> <span class='id identifier rubyid_attribute_names'>attribute_names</span>
    <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_do_attribute_names'>do_attribute_names</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="callop-instance_method">
  
    #<strong>callop</strong>(name, *args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Calls the required operation with the given argument</p>

<p>This is a shortcut for operation(name).calldop(*arguments)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


579
580
581</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 579</span>

<span class='kw'>def</span> <span class='id identifier rubyid_callop'>callop</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_operation'>operation</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_callop'>callop</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cleanup-instance_method">
  
    #<strong>cleanup</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:method: cleanup</p>

<p>Cleans the component, i.e. do the transition from STATE_STOPPED into
STATE_PRE_OPERATIONAL.</p>

<p>Raises StateTransitionFailed if the component was not in STATE_STOPPED
state before the call. The component cannot refuse to perform the
transition (but can take an arbitrarily long time to do it).</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 367</span>

<span class='id identifier rubyid_state_transition_call'>state_transition_call</span> <span class='symbol'>:cleanup</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>STOPPED</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PRE_OPERATIONAL</span><span class='tstring_end'>&#39;</span></span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="configure-instance_method">
  
    #<strong>configure</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:method: configure</p>

<p>Configures the component, i.e. do the transition from STATE_PRE_OPERATIONAL
into STATE_STOPPED.</p>

<p>Raises StateTransitionFailed if the component was not in
STATE_PRE_OPERATIONAL state before the call, or if the component refused to
do the transition (startHook() returned false)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 323</span>

<span class='id identifier rubyid_state_transition_call'>state_transition_call</span> <span class='symbol'>:configure</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PRE_OPERATIONAL</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>STOPPED</span><span class='tstring_end'>&#39;</span></span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="connect_to-instance_method">
  
    #<strong>connect_to</strong>(sink, policy = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


625
626
627
628
629
630
631</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 625</span>

<span class='kw'>def</span> <span class='id identifier rubyid_connect_to'>connect_to</span><span class='lparen'>(</span><span class='id identifier rubyid_sink'>sink</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_find_output_port'>find_output_port</span><span class='lparen'>(</span><span class='id identifier rubyid_sink'>sink</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_port'>port</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>port </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sink'>sink</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not match any output port of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_connect_to'>connect_to</span><span class='lparen'>(</span><span class='id identifier rubyid_sink'>sink</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_property_log_stream-instance_method">
  
    #<strong>create_property_log_stream</strong>(p)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


251
252
253
254
255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 251</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_property_log_stream'>create_property_log_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_stream_name'>stream_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_configuration_log'>configuration_log</span><span class='period'>.</span><span class='id identifier rubyid_has_stream?'>has_stream?</span><span class='lparen'>(</span><span class='id identifier rubyid_stream_name'>stream_name</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_log_stream'>log_stream</span> <span class='op'>=</span> <span class='id identifier rubyid_configuration_log'>configuration_log</span><span class='period'>.</span><span class='id identifier rubyid_create_stream'>create_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_stream_name'>stream_name</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_log_metadata'>log_metadata</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_log_stream'>log_stream</span> <span class='op'>=</span> <span class='id identifier rubyid_configuration_log'>configuration_log</span><span class='period'>.</span><span class='id identifier rubyid_stream'>stream</span><span class='lparen'>(</span><span class='id identifier rubyid_stream_name'>stream_name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disconnect_from-instance_method">
  
    #<strong>disconnect_from</strong>(sink, policy = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


633
634
635
636
637
638
639
640</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 633</span>

<span class='kw'>def</span> <span class='id identifier rubyid_disconnect_from'>disconnect_from</span><span class='lparen'>(</span><span class='id identifier rubyid_sink'>sink</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_each_output_port'>each_output_port</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_out_port'>out_port</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_out_port'>out_port</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='id identifier rubyid_sink'>sink</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
            <span class='id identifier rubyid_out_port'>out_port</span><span class='period'>.</span><span class='id identifier rubyid_disconnect_from'>disconnect_from</span><span class='lparen'>(</span><span class='id identifier rubyid_sink'>sink</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_attribute_names-instance_method">
  
    #<strong>do_attribute_names</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 217</span>

static VALUE task_context_attribute_names(VALUE self)
{
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(self);

    VALUE result = rb_ary_new();
    RTT::corba::CConfigurationInterface::CAttributeNames_var names =
        corba_blocking_fct_call_with_result(bind(&amp;_objref_CConfigurationInterface::getAttributeList,(_objref_CConfigurationInterface*)context.main_service));
    for (unsigned int i = 0; i != names-&gt;length(); ++i)
    {
        #if RTT_VERSION_GTE(2,9,0)
            CORBA::String_var name = names[i].name;
        #else
            CORBA::String_var name = names[i];
        #endif
        rb_ary_push(result, rb_str_new2(name));
    }
    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_attribute_read-instance_method">
  
    #<strong>do_attribute_read</strong>(property_name, type_name, rb_typelib_value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160
161
162
163
164
165
166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/datahandling.cc', line 158</span>

static VALUE attribute_do_read(VALUE rbtask, VALUE property_name, VALUE type_name, VALUE rb_typelib_value)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(rbtask);
    Typelib::Value value = typelib_get(rb_typelib_value);

    CORBA::Any_var corba_value = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_CConfigurationInterface::getAttribute,
                (_objref_CConfigurationInterface*)task.main_service,
                StringValuePtr(property_name)));
    corba_to_ruby(StringValuePtr(type_name), value, corba_value);
    return rb_typelib_value;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_attribute_read_string-instance_method">
  
    #<strong>do_attribute_read_string</strong>(property_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150
151
152
153
154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/datahandling.cc', line 144</span>

static VALUE attribute_do_read_string(VALUE rbtask, VALUE property_name)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(rbtask);

    CORBA::Any_var corba_value = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_CConfigurationInterface::getAttribute,
                                                                    (_objref_CConfigurationInterface*)task.main_service,
                                                                    StringValuePtr(property_name)));
    char const* result = 0;
    if (!(corba_value &gt;&gt;= result))
        rb_raise(rb_eArgError, &quot;no such attribute&quot;);
    VALUE rb_result = rb_str_new2(result);
    return rb_result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_attribute_type_name-instance_method">
  
    #<strong>do_attribute_type_name</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


174
175
176
177
178
179
180
181
182
183
184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 174</span>

static VALUE task_context_attribute_type_name(VALUE self, VALUE name)
{
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(self);
    std::string const expected_name = StringValuePtr(name);
    CORBA::String_var attribute_type_name =
        corba_blocking_fct_call_with_result(bind(&amp;_objref_CConfigurationInterface::getAttributeTypeName,(_objref_CConfigurationInterface*)context.main_service,StringValuePtr(name)));
    std::string type_name = std::string(attribute_type_name);
    if (type_name != &quot;na&quot;)
        return rb_str_new(type_name.c_str(), type_name.length());

    rb_raise(rb_eArgError, &quot;no such attribute %s&quot;, StringValuePtr(name));
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_attribute_write-instance_method">
  
    #<strong>do_attribute_write</strong>(property_name, type_name, rb_typelib_value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


184
185
186
187
188
189
190
191
192
193
194
195
196</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/datahandling.cc', line 184</span>

static VALUE attribute_do_write(VALUE rbtask, VALUE property_name, VALUE type_name, VALUE rb_typelib_value)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(rbtask);
    Typelib::Value value = typelib_get(rb_typelib_value);

    CORBA::Any_var corba_value = ruby_to_corba(StringValuePtr(type_name), value);
    bool result = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_CConfigurationInterface::setAttribute,
                (_objref_CConfigurationInterface*)task.main_service,
                StringValuePtr(property_name),corba_value));
    if(!result)
        rb_raise(rb_eArgError, &quot;failed to write the attribute&quot;);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_attribute_write_string-instance_method">
  
    #<strong>do_attribute_write_string</strong>(property_name, rb_value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172
173
174
175
176
177
178
179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/datahandling.cc', line 170</span>

static VALUE attribute_do_write_string(VALUE rbtask, VALUE property_name, VALUE rb_value)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(rbtask);

    CORBA::Any_var corba_value = new CORBA::Any;
    corba_value &lt;&lt;= StringValuePtr(rb_value);
    bool result = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_CConfigurationInterface::setAttribute,
                (_objref_CConfigurationInterface*)task.main_service,
                StringValuePtr(property_name),corba_value));
    if(!result)
        rb_raise(rb_eArgError, &quot;failed to write the attribute&quot;);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_cleanup-instance_method">
  
    #<strong>do_cleanup</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Do the transition between STATE_STOPPED and STATE_PRE_OPERATIONAL</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


371
372
373
374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 371</span>

static VALUE task_context_cleanup(VALUE task)
{
    return call_checked_state_change(task, &quot;failed to cleanup&quot;, &amp;RTT::corba::_objref_CTaskContext::cleanup);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_configure-instance_method">
  
    #<strong>do_configure</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Do the transition between STATE_PRE_OPERATIONAL and STATE_STOPPED</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


353
354
355
356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 353</span>

static VALUE task_context_configure(VALUE task)
{
    return call_checked_state_change(task, &quot;failed to configure&quot;, &amp;RTT::corba::_objref_CTaskContext::configure);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_has_operation?-instance_method">
  
    #<strong>do_has_operation?</strong>(name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167
168
169
170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 167</span>

static VALUE task_context_has_operation_p(VALUE self, VALUE name)
{
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(self);
    corba_blocking_fct_call(bind(&amp;_objref_COperationInterface::getResultType,(_objref_COperationInterface*)context.main_service,StringValuePtr(name)));
    return Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_has_port?-instance_method">
  
    #<strong>do_has_port?</strong>(name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 154</span>

static VALUE task_context_has_port_p(VALUE self, VALUE name)
{
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(self);
    corba_blocking_fct_call(bind(&amp;_objref_CDataFlowInterface::getPortType,(CDataFlowInterface_ptr)context.ports,StringValuePtr(name)));
    return Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_operation_call-instance_method">
  
    #<strong>do_operation_call</strong>(name, result_type_name, result, args_type_names, args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/operations.cc', line 69</span>

static VALUE operation_call(VALUE task_, VALUE name, VALUE result_type_name, VALUE result, VALUE args_type_names, VALUE args)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(task_);
    CAnyArguments_var corba_args = corba_args_from_ruby(args_type_names, args);

    CORBA::Any_var corba_result = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_COperationInterface::callOperation,
                (_objref_COperationInterface*)task.main_service,
                StringValuePtr(name),corba_args));

    if (!NIL_P(result))
    {
        Typelib::Value v = typelib_get(result);
        corba_to_ruby(StringValuePtr(result_type_name), v, corba_result);
    }
    corba_args_to_ruby(args_type_names, args, corba_args);
    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_operation_names-instance_method">
  
    #<strong>do_operation_names</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 236</span>

static VALUE task_context_operation_names(VALUE self)
{
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(self);

    VALUE result = rb_ary_new();
    #if RTT_VERSION_GTE(2,9,0)
        RTT::corba::COperationInterface::COperationDescriptions_var names =
                corba_blocking_fct_call_with_result(bind(&amp;_objref_COperationInterface::getOperations,(_objref_COperationInterface*)context.main_service));
    #else
        RTT::corba::COperationInterface::COperationList_var names =
                corba_blocking_fct_call_with_result(bind(&amp;_objref_COperationInterface::getOperations,(_objref_COperationInterface*)context.main_service));
    #endif

    for (unsigned int i = 0; i != names-&gt;length(); ++i)
    {
        #if RTT_VERSION_GTE(2,9,0)
            CORBA::String_var name = names[i].name;
        #else
            CORBA::String_var name = names[i];
        #endif
        rb_ary_push(result, rb_str_new2(name));
    }
    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_operation_send-instance_method">
  
    #<strong>do_operation_send</strong>(name, args_type_names, args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107
108
109
110
111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/operations.cc', line 105</span>

static VALUE operation_send(VALUE task_, VALUE name, VALUE args_type_names, VALUE args)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(task_);
    CAnyArguments_var corba_args = corba_args_from_ruby(args_type_names, args);

    RTT::corba::CSendHandle_var corba_result = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_COperationInterface::sendOperation,
                (_objref_COperationInterface*)task.main_service,
                StringValuePtr(name),corba_args));
    return simple_wrap(cSendHandle, new RSendHandle(corba_result));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_port-instance_method">
  
    #<strong>do_port</strong>(name, model)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>/</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 268</span>

static VALUE task_context_do_port(VALUE self, VALUE name, VALUE model)
{
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(self);
    RTT::corba::CPortType port_type;
    CORBA::String_var    type_name;
    port_type = corba_blocking_fct_call_with_result(bind(&amp;_objref_CDataFlowInterface::getPortType,(_objref_CDataFlowInterface*)context.ports,StringValuePtr(name)));
    type_name = corba_blocking_fct_call_with_result(bind(&amp;_objref_CDataFlowInterface::getDataType,(_objref_CDataFlowInterface*)context.ports,StringValuePtr(name)));

    VALUE obj = Qnil;
    VALUE args[4] = { self, rb_str_dup(name), rb_str_new2(type_name), model };
    if (port_type == RTT::corba::CInput)
        obj = rb_class_new_instance(4, args, cInputPort);
    else if (port_type == RTT::corba::COutput)
        obj = rb_class_new_instance(4, args, cOutputPort);

    return obj;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_port_names-instance_method">
  
    #<strong>do_port_names</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


308
309
310
311
312
313
314
315
316
317
318
319</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 308</span>

static VALUE task_context_port_names(VALUE self)
{
    VALUE result = rb_ary_new();
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(self);
    RTT::corba::CDataFlowInterface::CPortNames_var ports =
        corba_blocking_fct_call_with_result(bind(&amp;_objref_CDataFlowInterface::getPorts,(_objref_CDataFlowInterface*)context.ports));

    for (unsigned int i = 0; i &lt; ports-&gt;length(); ++i)
        rb_ary_push(result, rb_str_new2(ports[i]));

    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_property_names-instance_method">
  
    #<strong>do_property_names</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 202</span>

static VALUE task_context_property_names(VALUE self)
{
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(self);

    VALUE result = rb_ary_new();
    RTT::corba::CConfigurationInterface::CPropertyNames_var names =
        corba_blocking_fct_call_with_result(bind(&amp;_objref_CConfigurationInterface::getPropertyList,(_objref_CConfigurationInterface*)context.main_service));
    for (unsigned int i = 0; i != names-&gt;length(); ++i)
    {
        CORBA::String_var name = names[i].name;
        rb_ary_push(result, rb_str_new2(name));
    }
    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_property_read-instance_method">
  
    #<strong>do_property_read</strong>(property_name, type_name, rb_typelib_value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


104
105
106
107
108
109
110
111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/datahandling.cc', line 104</span>

static VALUE property_do_read(VALUE rbtask, VALUE property_name, VALUE type_name, VALUE rb_typelib_value)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(rbtask);
    Typelib::Value value = typelib_get(rb_typelib_value);

    CORBA::Any_var corba_value = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_CConfigurationInterface::getProperty,
                (_objref_CConfigurationInterface*)task.main_service,
                StringValuePtr(property_name)));
    corba_to_ruby(StringValuePtr(type_name), value, corba_value);
    return rb_typelib_value;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_property_read_string-instance_method">
  
    #<strong>do_property_read_string</strong>(property_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92
93
94
95
96
97
98
99
100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/datahandling.cc', line 90</span>

static VALUE property_do_read_string(VALUE rbtask, VALUE property_name)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(rbtask);

    CORBA::Any_var corba_value = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_CConfigurationInterface::getProperty,
                                                                    (_objref_CConfigurationInterface*)task.main_service,
                                                                    StringValuePtr(property_name)));
    char const* result = 0;
    if (!(corba_value &gt;&gt;= result))
        rb_raise(rb_eArgError, &quot;no such property&quot;);
    VALUE rb_result = rb_str_new2(result);
    return rb_result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_property_type_name-instance_method">
  
    #<strong>do_property_type_name</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


188
189
190
191
192
193
194
195
196
197
198
199
200</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 188</span>

static VALUE task_context_property_type_name(VALUE self, VALUE name)
{
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(self);
    std::string const expected_name = StringValuePtr(name);
    CORBA::String_var attribute_type_name =
        corba_blocking_fct_call_with_result(bind(&amp;_objref_CConfigurationInterface::getPropertyTypeName,(_objref_CConfigurationInterface*)context.main_service,StringValuePtr(name)));
    std::string type_name = std::string(attribute_type_name);
    if (type_name != &quot;na&quot;)
        return rb_str_new(type_name.c_str(), type_name.length());

    rb_raise(rb_eArgError, &quot;no such property %s&quot;, StringValuePtr(name));
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_property_write-instance_method">
  
    #<strong>do_property_write</strong>(property_name, type_name, rb_typelib_value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132
133
134
135
136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/datahandling.cc', line 130</span>

static VALUE property_do_write(VALUE rbtask, VALUE property_name, VALUE type_name, VALUE rb_typelib_value)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(rbtask);
    Typelib::Value value = typelib_get(rb_typelib_value);

    CORBA::Any_var corba_value = ruby_to_corba(StringValuePtr(type_name), value);
    bool result = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_CConfigurationInterface::setProperty,
                (_objref_CConfigurationInterface*)task.main_service,
                StringValuePtr(property_name),corba_value));
    if(!result)
        rb_raise(rb_eArgError, &quot;failed to write the property&quot;);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_property_write_string-instance_method">
  
    #<strong>do_property_write_string</strong>(property_name, rb_value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


116
117
118
119
120
121
122
123
124
125
126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/datahandling.cc', line 116</span>

static VALUE property_do_write_string(VALUE rbtask, VALUE property_name, VALUE rb_value)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(rbtask);

    CORBA::Any_var corba_value = new CORBA::Any;
    corba_value &lt;&lt;= StringValuePtr(rb_value);
    bool result = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_CConfigurationInterface::setProperty,
                (_objref_CConfigurationInterface*)task.main_service,
                StringValuePtr(property_name),corba_value));
    if(!result)
        rb_raise(rb_eArgError, &quot;failed to write the property&quot;);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_real_name-instance_method">
  
    #<strong>do_real_name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 161</span>

static VALUE task_context_real_name(VALUE self)
{
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(self);
    return rb_str_new2(context.name.c_str());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_reset_exception-instance_method">
  
    #<strong>do_reset_exception</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Do the transition between STATE_EXCEPTION and STATE_STOPPED</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


377
378
379
380</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 377</span>

static VALUE task_context_reset_exception(VALUE task)
{
    return call_checked_state_change(task, &quot;failed to transition from the Exception state to Stopped&quot;, &amp;RTT::corba::_objref_CTaskContext::resetException);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_start-instance_method">
  
    #<strong>do_start</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Do the transition between STATE_STOPPED and STATE_RUNNING</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


359
360
361
362</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 359</span>

static VALUE task_context_start(VALUE task)
{
    return call_checked_state_change(task, &quot;failed to start&quot;, &amp;RTT::corba::_objref_CTaskContext::start);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_state-instance_method">
  
    #<strong>do_state</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>/</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


337
338
339
340
341</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 337</span>

static VALUE task_context_state(VALUE task)
{
    RTaskContext&amp; context = get_wrapped&lt;RTaskContext&gt;(task);
    return INT2FIX(corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_CTaskContext::getTaskState,(CTaskContext_ptr)context.task)));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_stop-instance_method">
  
    #<strong>do_stop</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Do the transition between STATE_RUNNING and STATE_STOPPED</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


365
366
367
368</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/rorocos.cc', line 365</span>

static VALUE task_context_stop(VALUE task)
{
    return call_checked_state_change(task, &quot;failed to stop&quot;, &amp;RTT::corba::_objref_CTaskContext::stop);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_operation?-instance_method">
  
    #<strong>has_operation?</strong>(name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if this task context has a command with the given name</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


370
371
372
373
374
375
376
377
378
379</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 370</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_operation?'>has_operation?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_do_has_operation?'>do_has_operation?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NotFound.html" title="Orocos::NotFound (class)">NotFound</a></span></span>
            <span class='kw'>false</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_port?-instance_method">
  
    #<strong>has_port?</strong>(name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if this task context has a port with the given name</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


382
383
384
385
386
387
388
389
390
391</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 382</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_port?'>has_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_do_has_port?'>do_has_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NotFound.html" title="Orocos::NotFound (class)">NotFound</a></span></span>
            <span class='kw'>false</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="log_all_configuration-instance_method">
  
    #<strong>log_all_configuration</strong>(logfile)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tell the task to use the given Pocolog::Logfile object to log all changes
to its properties</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


262
263
264
265
266
267
268</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 262</span>

<span class='kw'>def</span> <span class='id identifier rubyid_log_all_configuration'>log_all_configuration</span><span class='lparen'>(</span><span class='id identifier rubyid_logfile'>logfile</span><span class='rparen'>)</span>
    <span class='ivar'>@configuration_log</span> <span class='op'>=</span> <span class='id identifier rubyid_logfile'>logfile</span>
    <span class='id identifier rubyid_each_property'>each_property</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span>
        <span class='id identifier rubyid_create_property_log_stream'>create_property_log_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_log_current_value'>log_current_value</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="log_all_ports-instance_method">
  
    #<strong>log_all_ports</strong>(options = Hash.new)  &#x21d2; <tt>Set&lt;String,String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Connects all ports of the task with the logger of the deployment 
task.log_all_ports(:exclude_ports =&gt; “frame”)</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>logging all ports beside a port called frame</p>
</div></p>
      
      <pre class="example code"><code></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Hash.new</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>option hash to exclude specific ports</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:exclude_ports</span>
          <span class="type">(<tt>String</tt>, <tt>Array&lt;String&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>The name of the excluded ports</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Set&lt;String,String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Sets of task and port names</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240
241
242
243
244
245
246
247
248
249</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 238</span>

<span class='kw'>def</span> <span class='id identifier rubyid_log_all_ports'>log_all_ports</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='comment'># Right now, the only allowed option is :exclude_ports
</span>    <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_logger_options'>logger_options</span> <span class='op'>=</span> <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_filter_options'>filter_options</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span><span class='symbol'>:exclude_ports</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_exclude_ports'>exclude_ports</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:exclude_ports</span><span class='rbracket'>]</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_logger_options'>logger_options</span><span class='lbracket'>[</span><span class='symbol'>:tasks</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_basename'>basename</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ports'>ports</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_all_process_ports'><span class='object_link'><a href="../Orocos.html#log_all_process_ports-class_method" title="Orocos.log_all_process_ports (method)">log_all_process_ports</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_process'>process</span><span class='comma'>,</span><span class='id identifier rubyid_logger_options'>logger_options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_port'>port</span><span class='op'>|</span>
        <span class='op'>!</span><span class='id identifier rubyid_exclude_ports'>exclude_ports</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: no ports were selected for logging</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_ports'>ports</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_ports'>ports</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="model-instance_method">
  
    #<strong>model</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the Orogen specification object for this task&#39;s model. It will
return a default model if the remote task does not respond to getModelName
or the description file cannot be found.</p>

<p>See also #info</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 595</span>

<span class='kw'>def</span> <span class='id identifier rubyid_model'>model</span>
    <span class='id identifier rubyid_model'>model</span> <span class='op'>=</span> <span class='kw'>super</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_model'>model</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_model_name'>model_name</span> <span class='op'>=</span> <span class='kw'>begin</span>
                     <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_getModelName'>getModelName</span>
                 <span class='kw'>rescue</span> <span class='const'>NoMethodError</span>
                     <span class='kw'>nil</span>
                 <span class='kw'>end</span>

    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span> <span class='op'>=</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_model_name'>model_name</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>!~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.*orocosrb_(\d+)$</span><span class='regexp_end'>/</span></span>
                <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is a task context not generated by orogen, using default task model</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
            <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_orogen_task_context_model'><span class='object_link'><a href="../Orocos.html#create_orogen_task_context_model-class_method" title="Orocos.create_orogen_task_context_model (method)">create_orogen_task_context_model</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_model_name'>model_name</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
            <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_orogen_task_context_model'><span class='object_link'><a href="../Orocos.html#create_orogen_task_context_model-class_method" title="Orocos.create_orogen_task_context_model (method)">create_orogen_task_context_model</a></span></span>
        <span class='kw'>else</span>
            <span class='kw'>begin</span>
                <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_loader'><span class='object_link'><a href="../Orocos.html#default_loader-class_method" title="Orocos.default_loader (method)">default_loader</a></span></span><span class='period'>.</span><span class='id identifier rubyid_task_model_from_name'>task_model_from_name</span><span class='lparen'>(</span><span class='id identifier rubyid_model_name'>model_name</span><span class='rparen'>)</span>
            <span class='kw'>rescue</span> <span class='const'>OroGen</span><span class='op'>::</span><span class='const'>NotFound</span>
                <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is a task context of class </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model_name'>model_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, but I cannot find the description for it, falling back</span><span class='tstring_end'>&quot;</span></span>
                <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_orogen_task_context_model'><span class='object_link'><a href="../Orocos.html#create_orogen_task_context_model-class_method" title="Orocos.create_orogen_task_context_model (method)">create_orogen_task_context_model</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_model_name'>model_name</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="operation-instance_method">
  
    #<strong>operation</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an Operation object that represents the given method on the remote
component.</p>

<p>Raises NotFound if no such operation exists.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


564
565
566
567
568
569
570
571
572
573
574</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 564</span>

<span class='kw'>def</span> <span class='id identifier rubyid_operation'>operation</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_return_types'>return_types</span> <span class='op'>=</span> <span class='id identifier rubyid_operation_return_types'>operation_return_types</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_arguments'>arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_operation_argument_types'>operation_argument_types</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="Operation.html" title="Orocos::Operation (class)">Operation</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Operation.html#initialize-instance_method" title="Orocos::Operation#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_return_types'>return_types</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NotFound.html" title="Orocos::NotFound (class)">NotFound</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="InterfaceObjectNotFound.html" title="Orocos::InterfaceObjectNotFound (class)">InterfaceObjectNotFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InterfaceObjectNotFound.html#initialize-instance_method" title="Orocos::InterfaceObjectNotFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>task </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not have an operation named </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="operation_argument_types-instance_method">
  
    #<strong>operation_argument_types</strong>(opname)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/operations.cc', line 161</span>

static VALUE operation_argument_types(VALUE task_, VALUE opname)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(task_);

    VALUE result = rb_ary_new();

    #if RTT_VERSION_GTE(2,9,0)
        RTT::corba::CArgumentDescriptions_var args = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_COperationInterface::getArguments,
                (_objref_COperationInterface*)task.main_service,StringValuePtr(opname)));
    #else
        RTT::corba::CDescriptions_var args = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_COperationInterface::getArguments,
                (_objref_COperationInterface*)task.main_service,StringValuePtr(opname)));
    #endif

    for (unsigned int i = 0; i &lt; args-&gt;length(); ++i)
    {
        RTT::corba::CArgumentDescription arg =
            args[i];
        VALUE tuple = rb_ary_new();
        rb_ary_push(tuple, rb_str_new2(arg.name));
        rb_ary_push(tuple, rb_str_new2(arg.description));
        rb_ary_push(tuple, rb_str_new2(arg.type));
        rb_ary_push(result, tuple);
    }
    return result;
    return Qnil; // never reached
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="operation_names-instance_method">
  
    #<strong>operation_names</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the array of the names of available operations on this task context</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


395
396
397
398
399
400
401</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 395</span>

<span class='kw'>def</span> <span class='id identifier rubyid_operation_names'>operation_names</span>
    <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_do_operation_names'>do_operation_names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_str'>str</span><span class='op'>|</span>
            <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ASCII</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:force_encoding</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="operation_return_types-instance_method">
  
    #<strong>operation_return_types</strong>(opname)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/rorocos/operations.cc', line 140</span>

static VALUE operation_return_types(VALUE task_, VALUE opname)
{
    RTaskContext&amp; task = get_wrapped&lt;RTaskContext&gt;(task_);

    VALUE result = rb_ary_new();
        int retcount = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_COperationInterface::getCollectArity,
                (_objref_COperationInterface*)task.main_service,StringValuePtr(opname)));

        CORBA::String_var type_name = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_COperationInterface::getResultType,
                (_objref_COperationInterface*)task.main_service,StringValuePtr(opname)));
        rb_ary_push(result, rb_str_new2(type_name));

        for (int i = 0; i &lt; retcount - 1; ++i)
        {
            type_name = corba_blocking_fct_call_with_result(boost::bind(&amp;_objref_COperationInterface::getCollectType,
                (_objref_COperationInterface*)task.main_service,StringValuePtr(opname),i+1));
            rb_ary_push(result, rb_str_new2(type_name));
        }
        return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="peek_state-instance_method">
  
    #<strong>peek_state</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Reads all state transitions that have been announced by the task and pushes
them to @state_queue</p>

<p>The following call to #state will first look at @state_queue before
accessing the task context</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197
198
199
200
201
202
203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 195</span>

<span class='kw'>def</span> <span class='id identifier rubyid_peek_state'>peek_state</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_model'>model</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_extended_state_support?'>extended_state_support?</span>
	    	<span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@state_reader</span> <span class='op'>||</span> <span class='op'>!</span><span class='ivar'>@state_reader</span><span class='period'>.</span><span class='id identifier rubyid_connected?'>connected?</span>
            <span class='ivar'>@state_reader</span> <span class='op'>=</span> <span class='id identifier rubyid_state_reader'>state_reader</span>
            <span class='ivar'>@state_queue</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_rtt_state'>rtt_state</span>
		<span class='kw'>end</span>
        <span class='kw'>while</span> <span class='id identifier rubyid_new_state'>new_state</span> <span class='op'>=</span> <span class='ivar'>@state_reader</span><span class='period'>.</span><span class='id identifier rubyid_read_new'>read_new</span>
            <span class='ivar'>@state_queue</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_new_state'>new_state</span>
        <span class='kw'>end</span>
    <span class='kw'>else</span>
        <span class='kw'>super</span>
    <span class='kw'>end</span>
    <span class='ivar'>@state_queue</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ping-instance_method">
  
    #<strong>ping</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 144</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ping'>ping</span>
    <span class='id identifier rubyid_rtt_state'>rtt_state</span>
    <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="port-instance_method">
  
    #<strong>port</strong>(name, verify = true)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an object that represents the given port on the remote task
context. The returned object is either an InputPort or an OutputPort</p>

<p>Raises NotFound if no such port exists.</p>

<p>Ports can also be accessed by calling directly the relevant method on the
task context:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>myPort</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_myPort'>myPort</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


534
535
536
537
538
539
540
541
542
543
544
545
546
547
548</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 534</span>

<span class='kw'>def</span> <span class='id identifier rubyid_port'>port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_verify'>verify</span> <span class='op'>=</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_str'>to_str</span>
    <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>if</span> <span class='ivar'>@ports</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_verify'>verify</span> <span class='op'>||</span> <span class='id identifier rubyid_has_port?'>has_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='comment'># Check that this port is still valid
</span>                <span class='ivar'>@ports</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
            <span class='kw'>else</span>
                <span class='ivar'>@ports</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NotFound.html" title="Orocos::NotFound (class)">NotFound</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no port named &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; on task &#39;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='kw'>else</span>
            <span class='ivar'>@ports</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_port'>raw_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="port_names-instance_method">
  
    #<strong>port_names</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the names of all the ports defined on this task context</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


552
553
554
555
556
557
558</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 552</span>

<span class='kw'>def</span> <span class='id identifier rubyid_port_names'>port_names</span>
    <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_do_port_names'>do_port_names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_str'>str</span><span class='op'>|</span>
            <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ASCII</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:force_encoding</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="property-instance_method">
  
    #<strong>property</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a Property object representing the given property</p>

<p>Raises NotFound if no such property exists.</p>

<p>Ports can also be accessed by calling directly the relevant method on the
task context:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_property'>property</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>myProperty</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
<span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_property'>property</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>myProperty</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_myProperty'>myProperty</span>
<span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_myProperty'>myProperty</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 490</span>

<span class='kw'>def</span> <span class='id identifier rubyid_property'>property</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_has_property?'>has_property?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
            <span class='kw'>return</span> <span class='id identifier rubyid_p'>p</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_properties'>properties</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="InterfaceObjectNotFound.html" title="Orocos::InterfaceObjectNotFound (class)">InterfaceObjectNotFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InterfaceObjectNotFound.html#initialize-instance_method" title="Orocos::InterfaceObjectNotFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>task </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not have a property named </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_property'>raw_property</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_configuration_log'>configuration_log</span>
        <span class='id identifier rubyid_create_property_log_stream'>create_property_log_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_log_current_value'>log_current_value</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_properties'>properties</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="property_names-instance_method">
  
    #<strong>property_names</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the array of the names of available properties on this task context</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


405
406
407
408
409
410
411</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 405</span>

<span class='kw'>def</span> <span class='id identifier rubyid_property_names'>property_names</span>
    <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_do_property_names'>do_property_names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_str'>str</span><span class='op'>|</span>
            <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ASCII</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:force_encoding</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="raw_port-instance_method">
  
    #<strong>raw_port</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Resolve a Port object for the given port name</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


512
513
514
515
516
517
518</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 512</span>

<span class='kw'>def</span> <span class='id identifier rubyid_raw_port'>raw_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_port_model'>port_model</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_find_port'>find_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_do_port'>do_port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_port_model'>port_model</span><span class='rparen'>)</span>

<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NotFound.html" title="Orocos::NotFound (class)">NotFound</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="InterfaceObjectNotFound.html" title="Orocos::InterfaceObjectNotFound (class)">InterfaceObjectNotFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InterfaceObjectNotFound.html#initialize-instance_method" title="Orocos::InterfaceObjectNotFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>task </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not have a port named </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="raw_property-instance_method">
  
    #<strong>raw_property</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the property object without caching nor validation</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


464
465
466
467
468
469
470
471
472
473</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 464</span>

<span class='kw'>def</span> <span class='id identifier rubyid_raw_property'>raw_property</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_type_name'>type_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>begin</span>
            <span class='id identifier rubyid_do_property_type_name'>do_property_type_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='kw'>rescue</span> <span class='const'>ArgumentError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="InterfaceObjectNotFound.html" title="Orocos::InterfaceObjectNotFound (class)">InterfaceObjectNotFound</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="InterfaceObjectNotFound.html#initialize-instance_method" title="Orocos::InterfaceObjectNotFound#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>task </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not have a property named </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='const'><span class='object_link'><a href="Property.html" title="Orocos::Property (class)">Property</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="TaskContextAttribute.html#initialize-instance_method" title="Orocos::TaskContextAttribute#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_type_name'>type_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reset_exception-instance_method">
  
    #<strong>reset_exception</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:method: reset_exception</p>

<p>Recover from the exception state. It does the transition from
STATE_EXCEPTION to either STATE_STOPPED if the component does not need any
configuration or STATE_PRE_OPERATIONAL otherwise</p>

<p>Raises StateTransitionFailed if the component was not in a proper state
before the call.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 345</span>

<span class='id identifier rubyid_state_transition_call'>state_transition_call</span> <span class='symbol'>:reset_exception</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EXCEPTION</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>nil</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve_connection_from-instance_method">
  
    #<strong>resolve_connection_from</strong>(source, policy = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


642
643
644
645
646
647
648</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 642</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_connection_from'>resolve_connection_from</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_find_input_port'>find_input_port</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span><span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_port'>port</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>port </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not match any input port of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_connect_to'>connect_to</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='id identifier rubyid_policy'>policy</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve_disconnection_from-instance_method">
  
    #<strong>resolve_disconnection_from</strong>(source)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


650
651
652
653
654
655
656
657</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 650</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_disconnection_from'>resolve_disconnection_from</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_each_input_port'>each_input_port</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_in_port'>in_port</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_in_port'>in_port</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
            <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_disconnect_from'>disconnect_from</span><span class='lparen'>(</span><span class='id identifier rubyid_in_port'>in_port</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rtt_state-instance_method">
  
    #<strong>rtt_state</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Reads the state announced by the task&#39;s getState() operation</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


226
227
228
229</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 226</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rtt_state'>rtt_state</span>
    <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refine_exceptions'><span class='object_link'><a href="CORBA.html#refine_exceptions-class_method" title="Orocos::CORBA.refine_exceptions (method)">refine_exceptions</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_do_state'>do_state</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='ivar'>@state_symbols</span><span class='lbracket'>[</span><span class='id identifier rubyid_value'>value</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="save_conf-instance_method">
  
    #<strong>save_conf</strong>(file, section_names = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Saves the current configuration into a file</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 310</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save_conf'>save_conf</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_section_names'>section_names</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='period'>.</span><span class='id identifier rubyid_conf'><span class='object_link'><a href="../Orocos.html#conf-class_method" title="Orocos.conf (method)">conf</a></span></span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span><span class='id identifier rubyid_section_names'>section_names</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sendop-instance_method">
  
    #<strong>sendop</strong>(name, *args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sends the required operation with the given argument</p>

<p>This is a shortcut for operation(name).sendop(*arguments)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


586
587
588</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 586</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sendop'>sendop</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_operation'>operation</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sendop'>sendop</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start-instance_method">
  
    #<strong>start</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:method: start</p>

<p>Starts the component, i.e. do the transition from STATE_STOPPED into
STATE_RUNNING.</p>

<p>Raises StateTransitionFailed if the component was not in STATE_STOPPED
state before the call, or if the component refused to do the transition
(startHook() returned false)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


334</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 334</span>

<span class='id identifier rubyid_state_transition_call'>state_transition_call</span> <span class='symbol'>:start</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>STOPPED</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RUNNING</span><span class='tstring_end'>&#39;</span></span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="state_reader-instance_method">
  
    #<strong>state_reader</strong>(policy = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a StateReader object that allows to flexibly monitor the task&#39;s
state</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


181
182
183
184
185
186
187
188</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 181</span>

<span class='kw'>def</span> <span class='id identifier rubyid_state_reader'>state_reader</span><span class='lparen'>(</span><span class='id identifier rubyid_policy'>policy</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_policy'>policy</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Port.html" title="Orocos::Port (class)">Port</a></span></span><span class='period'>.</span><span class='id identifier rubyid_prepare_policy'><span class='object_link'><a href="Port.html#prepare_policy-class_method" title="Orocos::Port.prepare_policy (method)">prepare_policy</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='symbol'>:init</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='symbol'>:buffer</span><span class='comma'>,</span> <span class='symbol'>:size</span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_policy'>policy</span><span class='rparen'>)</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_reader'>reader</span> <span class='op'>=</span> <span class='id identifier rubyid_port'>port</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>state</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_reader'>reader</span><span class='lparen'>(</span><span class='id identifier rubyid_policy'>policy</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_reader'>reader</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span> <span class='const'><span class='object_link'><a href="TaskContext/StateReader.html" title="Orocos::TaskContext::StateReader (module)">StateReader</a></span></span>
    <span class='id identifier rubyid_reader'>reader</span><span class='period'>.</span><span class='id identifier rubyid_state_symbols'>state_symbols</span> <span class='op'>=</span> <span class='ivar'>@state_symbols</span>
    <span class='id identifier rubyid_reader'>reader</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop-instance_method">
  
    #<strong>stop</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:method: stop</p>

<p>Stops the component, i.e. do the transition from STATE_RUNNING into
STATE_STOPPED.</p>

<p>Raises StateTransitionFailed if the component was not in STATE_RUNNING
state before the call. The component cannot refuse to perform the
transition (but can take an arbitrarily long time to do it).</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 356</span>

<span class='id identifier rubyid_state_transition_call'>state_transition_call</span> <span class='symbol'>:stop</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RUNNING</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>STOPPED</span><span class='tstring_end'>&#39;</span></span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tid-instance_method">
  
    #<strong>tid</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the PID of the thread this task runs on</p>

<p>This is available only on oroGen task, for which oroGen adds an
orogen_getPID operation that returns this information</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


214
215
216
217
218
219
220
221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 214</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tid'>tid</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@tid</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_has_operation?'>has_operation?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>__orogen_getTID</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
            <span class='ivar'>@tid</span> <span class='op'>=</span> <span class='id identifier rubyid_operation'>operation</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>__orogen_getTID</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_callop'>callop</span><span class='lparen'>(</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#tid is available only on oroGen tasks, not </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='ivar'>@tid</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_async-instance_method">
  
    #<strong>to_async</strong>(options = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/orocos.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_async'>to_async</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:ior</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_ior'>ior</span>
    <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Async.html" title="Orocos::Async (module)">Async</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Async/CORBA.html" title="Orocos::Async::CORBA (module)">CORBA</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Async/CORBA/TaskContext.html" title="Orocos::Async::CORBA::TaskContext (class)">TaskContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Async/CORBA/TaskContext.html#initialize-instance_method" title="Orocos::Async::CORBA::TaskContext#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_proxy-instance_method">
  
    #<strong>to_proxy</strong>(options = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/orocos.rb', line 85</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_proxy'>to_proxy</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:use</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_to_async'>to_async</span>
    <span class='comment'># use name service to check if there is already 
</span>    <span class='comment'># a proxy for the task
</span>    <span class='const'><span class='object_link'><a href="../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Async.html" title="Orocos::Async (module)">Async</a></span></span><span class='period'>.</span><span class='id identifier rubyid_proxy'><span class='object_link'><a href="Async.html#proxy-class_method" title="Orocos::Async.proxy (method)">proxy</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


297
298
299</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 297</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;TaskContext: </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="wait_for_state-instance_method">
  
    #<strong>wait_for_state</strong>(state_name, timeout = nil, polling = 0.1)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Waits for the task to be in state <code>state_name</code> for the specified
amount of time</p>

<p>Raises RuntimeError on timeout</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


274
275
276
277
278
279
280
281
282
283
284
285
286</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/task_context.rb', line 274</span>

<span class='kw'>def</span> <span class='id identifier rubyid_wait_for_state'>wait_for_state</span><span class='lparen'>(</span><span class='id identifier rubyid_state_name'>state_name</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_polling'>polling</span> <span class='op'>=</span> <span class='float'>0.1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_state_name'>state_name</span> <span class='op'>=</span> <span class='id identifier rubyid_state_name'>state_name</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>

    <span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
    <span class='id identifier rubyid_peek_state'>peek_state</span>
    <span class='kw'>while</span> <span class='op'>!</span><span class='ivar'>@state_queue</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_state_name'>state_name</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='op'>-</span> <span class='id identifier rubyid_start'>start</span><span class='rparen'>)</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_timeout'>timeout</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>timing out while waiting for </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'> to be in state </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_state_name'>state_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>. It currently is in state </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_state'>current_state</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_sleep'>sleep</span> <span class='id identifier rubyid_polling'>polling</span>
        <span class='id identifier rubyid_peek_state'>peek_state</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 22:10:26 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>