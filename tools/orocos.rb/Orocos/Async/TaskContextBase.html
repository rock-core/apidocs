<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Orocos::Async::TaskContextBase
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Orocos::Async::TaskContextBase";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Async.html" title="Orocos::Async (module)">Async</a></span></span>
     &raquo; 
    <span class="title">TaskContextBase</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Orocos::Async::TaskContextBase
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="ObjectBase.html" title="Orocos::Async::ObjectBase (class)">ObjectBase</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="ObjectBase.html" title="Orocos::Async::ObjectBase (class)">ObjectBase</a></span></li>
          
            <li class="next">Orocos::Async::TaskContextBase</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd><span class='object_link'><a href="ObjectBase/Periodic/ClassMethods.html" title="Orocos::Async::ObjectBase::Periodic::ClassMethods (module)">ObjectBase::Periodic::ClassMethods</a></span>, Utilrb::EventLoop::Forwardable</dd>
  </dl>
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="ObjectBase/Periodic.html" title="Orocos::Async::ObjectBase::Periodic (module)">ObjectBase::Periodic</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/orocos/async/task_context_base.rb</dd>
  </dl>
  
</div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="CORBA/TaskContext.html" title="Orocos::Async::CORBA::TaskContext (class)">CORBA::TaskContext</a></span>, <span class='object_link'><a href="ROS/Node.html" title="Orocos::Async::ROS::Node (class)">ROS::Node</a></span></p>
</div>




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#raise_on_access_error%3F-instance_method" title="#raise_on_access_error? (instance method)">#<strong>raise_on_access_error?</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If set to true, #task_context will raise whenever the access to the remote
task context failed.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="ObjectBase/Periodic/ClassMethods.html" title="Orocos::Async::ObjectBase::Periodic::ClassMethods (module)">ObjectBase::Periodic::ClassMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ObjectBase/Periodic/ClassMethods.html#default_period-instance_method" title="Orocos::Async::ObjectBase::Periodic::ClassMethods#default_period (method)">#default_period</a></span></p>

  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="ObjectBase.html" title="Orocos::Async::ObjectBase (class)">ObjectBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ObjectBase.html#emitting-instance_method" title="Orocos::Async::ObjectBase#emitting (method)">#emitting</a></span>, <span class='object_link'><a href="ObjectBase.html#event_loop-instance_method" title="Orocos::Async::ObjectBase#event_loop (method)">#event_loop</a></span>, <span class='object_link'><a href="ObjectBase.html#options-instance_method" title="Orocos::Async::ObjectBase#options (method)">#options</a></span>, <span class='object_link'><a href="ObjectBase.html#pending_adds-instance_method" title="Orocos::Async::ObjectBase#pending_adds (method)">#pending_adds</a></span></p>


  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_ruby-class_method" title="to_ruby (class method)">.<strong>to_ruby</strong>(task)  &#x21d2; RubyTasks::TaskContext </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a <span class='object_link'><a href="../RubyTasks/TaskContext.html" title="Orocos::RubyTasks::TaskContext (class)">RubyTasks::TaskContext</a></span> on which all values passed to the given
task should be mirrored.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attribute-instance_method" title="#attribute (instance method)">#<strong>attribute</strong>(name, options = Hash.new, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call_with_async-instance_method" title="#call_with_async (instance method)">#<strong>call_with_async</strong>(method_name, user_callback, to_async_options, *args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Helper method to setup async calls.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear_interface-instance_method" title="#clear_interface (instance method)">#<strong>clear_interface</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#configure_delegation-instance_method" title="#configure_delegation (instance method)">#<strong>configure_delegation</strong>(configure_options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called by #reachable! to do subclass-specific configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_attribute-instance_method" title="#each_attribute (instance method)">#<strong>each_attribute</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>call-seq:  task.each_attribute { |a| … } =&gt; task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_port-instance_method" title="#each_port (instance method)">#<strong>each_port</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>call-seq:  task.each_port { |p| … } =&gt; task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_property-instance_method" title="#each_property (instance method)">#<strong>each_property</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>call-seq:  task.each_property { |a| … } =&gt; task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(name, options = Hash.new)  &#x21d2; TaskContextBase </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of TaskContextBase.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#port-instance_method" title="#port (instance method)">#<strong>port</strong>(name, verify = true, options = Hash.new, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#property-instance_method" title="#property (instance method)">#<strong>property</strong>(name, options = Hash.new, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reachable!-instance_method" title="#reachable! (instance method)">#<strong>reachable!</strong>(options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initiates the binding of the underlying sychronous access object to this
async object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reachable%3F-instance_method" title="#reachable? (instance method)">#<strong>reachable?</strong>(&amp;block)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#really_add_listener-instance_method" title="#really_add_listener (instance method)">#<strong>really_add_listener</strong>(listener)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ruby_task_context%3F-instance_method" title="#ruby_task_context? (instance method)">#<strong>ruby_task_context?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tests whether a mirroring task has been created with ruby_task_context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_async-instance_method" title="#to_async (instance method)">#<strong>to_async</strong>(options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_proxy-instance_method" title="#to_proxy (instance method)">#<strong>to_proxy</strong>(options = Hash.new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_ruby-instance_method" title="#to_ruby (instance method)">#<strong>to_ruby</strong>  &#x21d2; RubyTasks::TaskContext </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a ruby task on which all received data is mirrored.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unreachable!-instance_method" title="#unreachable! (instance method)">#<strong>unreachable!</strong>(options = Hash.new)  &#x21d2; Orocos::TaskContext, ... </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Disconnectes self from the remote task context and returns its underlying
object used to communicate with the remote task (designated object).</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ObjectBase/Periodic.html" title="Orocos::Async::ObjectBase::Periodic (module)">ObjectBase::Periodic</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ObjectBase/Periodic.html#default_period-instance_method" title="Orocos::Async::ObjectBase::Periodic#default_period (method)">#default_period</a></span>, <span class='object_link'><a href="ObjectBase/Periodic.html#period-instance_method" title="Orocos::Async::ObjectBase::Periodic#period (method)">#period</a></span>, <span class='object_link'><a href="ObjectBase/Periodic.html#period=-instance_method" title="Orocos::Async::ObjectBase::Periodic#period= (method)">#period=</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="ObjectBase.html" title="Orocos::Async::ObjectBase (class)">ObjectBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ObjectBase.html#add_listener-instance_method" title="Orocos::Async::ObjectBase#add_listener (method)">#add_listener</a></span>, <span class='object_link'><a href="ObjectBase.html#define_event-class_method" title="Orocos::Async::ObjectBase.define_event (method)">define_event</a></span>, <span class='object_link'><a href="ObjectBase.html#define_events-class_method" title="Orocos::Async::ObjectBase.define_events (method)">define_events</a></span>, <span class='object_link'><a href="ObjectBase.html#disable_emitting-instance_method" title="Orocos::Async::ObjectBase#disable_emitting (method)">#disable_emitting</a></span>, <span class='object_link'><a href="ObjectBase.html#event-instance_method" title="Orocos::Async::ObjectBase#event (method)">#event</a></span>, <span class='object_link'><a href="ObjectBase.html#event_names-class_method" title="Orocos::Async::ObjectBase.event_names (method)">event_names</a></span>, <span class='object_link'><a href="ObjectBase.html#event_names-instance_method" title="Orocos::Async::ObjectBase#event_names (method)">#event_names</a></span>, <span class='object_link'><a href="ObjectBase.html#invalidate_delegator!-instance_method" title="Orocos::Async::ObjectBase#invalidate_delegator! (method)">#invalidate_delegator!</a></span>, <span class='object_link'><a href="ObjectBase.html#listener%3F-instance_method" title="Orocos::Async::ObjectBase#listener? (method)">#listener?</a></span>, <span class='object_link'><a href="ObjectBase.html#listeners-instance_method" title="Orocos::Async::ObjectBase#listeners (method)">#listeners</a></span>, <span class='object_link'><a href="ObjectBase.html#number_of_listeners-instance_method" title="Orocos::Async::ObjectBase#number_of_listeners (method)">#number_of_listeners</a></span>, <span class='object_link'><a href="ObjectBase.html#on_event-instance_method" title="Orocos::Async::ObjectBase#on_event (method)">#on_event</a></span>, <span class='object_link'><a href="ObjectBase.html#proxy_event-instance_method" title="Orocos::Async::ObjectBase#proxy_event (method)">#proxy_event</a></span>, <span class='object_link'><a href="ObjectBase.html#remove_all_listeners-instance_method" title="Orocos::Async::ObjectBase#remove_all_listeners (method)">#remove_all_listeners</a></span>, <span class='object_link'><a href="ObjectBase.html#remove_listener-instance_method" title="Orocos::Async::ObjectBase#remove_listener (method)">#remove_listener</a></span>, <span class='object_link'><a href="ObjectBase.html#remove_proxy_event-instance_method" title="Orocos::Async::ObjectBase#remove_proxy_event (method)">#remove_proxy_event</a></span>, <span class='object_link'><a href="ObjectBase.html#valid_delegator%3F-instance_method" title="Orocos::Async::ObjectBase#valid_delegator? (method)">#valid_delegator?</a></span>, <span class='object_link'><a href="ObjectBase.html#valid_event%3F-class_method" title="Orocos::Async::ObjectBase.valid_event? (method)">valid_event?</a></span>, <span class='object_link'><a href="ObjectBase.html#valid_event%3F-instance_method" title="Orocos::Async::ObjectBase#valid_event? (method)">#valid_event?</a></span>, <span class='object_link'><a href="ObjectBase.html#validate_event-class_method" title="Orocos::Async::ObjectBase.validate_event (method)">validate_event</a></span>, <span class='object_link'><a href="ObjectBase.html#validate_event-instance_method" title="Orocos::Async::ObjectBase#validate_event (method)">#validate_event</a></span>, <span class='object_link'><a href="ObjectBase.html#wait-instance_method" title="Orocos::Async::ObjectBase#wait (method)">#wait</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(name, options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="" title="Orocos::Async::TaskContextBase (class)">TaskContextBase</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of TaskContextBase</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_event_loop'>event_loop</span><span class='comma'>,</span><span class='id identifier rubyid_reachable_options'>reachable_options</span> <span class='op'>=</span> <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_filter_options'>filter_options</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span><span class='symbol'>:event_loop</span> <span class='op'>=&gt;</span> <span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Async.html" title="Orocos::Async (module)">Async</a></span></span><span class='period'>.</span><span class='id identifier rubyid_event_loop'><span class='object_link'><a href="../Async.html#event_loop-class_method" title="Orocos::Async.event_loop (method)">event_loop</a></span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_event_loop'>event_loop</span><span class='lbracket'>[</span><span class='symbol'>:event_loop</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='ivar'>@mutex</span> <span class='op'>=</span> <span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@last_state</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@port_names</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@property_names</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='ivar'>@attribute_names</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

    <span class='id identifier rubyid_watchdog_proc'>watchdog_proc</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_ping'>ping</span> <span class='comment'># call a method which raises ComError if the connection died
</span>        <span class='comment'># this is used to disconnect the task by an error handler
</span>        <span class='lbracket'>[</span><span class='id identifier rubyid_states'>states</span><span class='comma'>,</span><span class='id identifier rubyid_port_names'>port_names</span><span class='comma'>,</span><span class='id identifier rubyid_property_names'>property_names</span><span class='comma'>,</span><span class='id identifier rubyid_attribute_names'>attribute_names</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>

    <span class='ivar'>@watchdog_timer</span> <span class='op'>=</span> <span class='ivar'>@event_loop</span><span class='period'>.</span><span class='id identifier rubyid_async_every'>async_every</span><span class='lparen'>(</span><span class='id identifier rubyid_watchdog_proc'>watchdog_proc</span><span class='comma'>,</span><span class='lbrace'>{</span><span class='symbol'>:period</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_default_period'>default_period</span><span class='comma'>,</span>
                                              <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='comma'>,</span>
                                              <span class='symbol'>:start</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
                                              <span class='symbol'>:sync_key</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='comment'>#is blocked by the methods call ping, states, etc
</span>                                              <span class='symbol'>:known_errors</span> <span class='op'>=&gt;</span> <span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Async.html" title="Orocos::Async (module)">Async</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Async.html#KNOWN_ERRORS-constant" title="Orocos::Async::KNOWN_ERRORS (constant)">KNOWN_ERRORS</a></span></span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data'>data</span><span class='comma'>,</span><span class='id identifier rubyid_error'>error</span><span class='op'>|</span>
                                                    <span class='id identifier rubyid_process_states'>process_states</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span>
                                                    <span class='id identifier rubyid_process_port_names'>process_port_names</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
                                                    <span class='id identifier rubyid_process_property_names'>process_property_names</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
                                                    <span class='id identifier rubyid_process_attribute_names'>process_attribute_names</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='rparen'>)</span>
                                              <span class='kw'>end</span>
    <span class='ivar'>@watchdog_timer</span><span class='period'>.</span><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_reachable!'>reachable!</span><span class='lparen'>(</span><span class='id identifier rubyid_reachable_options'>reachable_options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="raise_on_access_error?=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="raise_on_access_error?-instance_method">
  
    #<strong>raise_on_access_error?</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If set to true, #task_context will raise whenever the access to the remote
task context failed. Otherwise, the exception will  be returned by the
method</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 58</span>

<span class='id identifier rubyid_attr_predicate'>attr_predicate</span> <span class='symbol'>:raise_on_access_error?</span><span class='comma'>,</span> <span class='kw'>true</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="to_ruby-class_method">
  
    .<strong>to_ruby</strong>(task)  &#x21d2; <tt><span class='object_link'><a href="../RubyTasks/TaskContext.html" title="Orocos::RubyTasks::TaskContext (class)">RubyTasks::TaskContext</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a <span class='object_link'><a href="../RubyTasks/TaskContext.html" title="Orocos::RubyTasks::TaskContext (class)">RubyTasks::TaskContext</a></span> on which all values passed to the given
task should be mirrored</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../RubyTasks/TaskContext.html" title="Orocos::RubyTasks::TaskContext (class)">RubyTasks::TaskContext</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 21</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_ruby'>to_ruby</span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
    <span class='kw'>begin</span>
        <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../CORBA.html" title="Orocos::CORBA (module)">CORBA</a></span></span><span class='period'>.</span><span class='id identifier rubyid_name_service'><span class='object_link'><a href="../CORBA.html#name_service-class_method" title="Orocos::CORBA.name_service (method)">name_service</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get'><span class='object_link'><a href="../CORBA/NameService.html#get-instance_method" title="Orocos::CORBA::NameService#get (method)">get</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot create ruby task for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>\
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>because there is already a task </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>\
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>registered on the main CORBA name service.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../NotFound.html" title="Orocos::NotFound (class)">NotFound</a></span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../RubyTasks.html" title="Orocos::RubyTasks (module)">RubyTasks</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../RubyTasks/TaskContext.html" title="Orocos::RubyTasks::TaskContext (class)">TaskContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../RubyTasks/TaskContext.html#new-class_method" title="Orocos::RubyTasks::TaskContext.new (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_on_port_reachable'>on_port_reachable</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_port'>port</span><span class='op'>|</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_has_port?'>has_port?</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_wait'>wait</span>
        <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_create_output_port'>create_output_port</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_on_data'>on_data</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data'>data</span><span class='op'>|</span>
            <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_data'>data</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_on_property_reachable'>on_property_reachable</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_prop'>prop</span><span class='op'>|</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_has_property?'>has_property?</span><span class='lparen'>(</span><span class='id identifier rubyid_prop'>prop</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_prop'>prop</span> <span class='op'>=</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_property'>property</span><span class='lparen'>(</span><span class='id identifier rubyid_prop'>prop</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_prop'>prop</span><span class='period'>.</span><span class='id identifier rubyid_wait'>wait</span>
        <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='ivar'>@ruby_task_context</span><span class='period'>.</span><span class='id identifier rubyid_create_property'>create_property</span><span class='lparen'>(</span><span class='id identifier rubyid_prop'>prop</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_prop'>prop</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_new_sample'>new_sample</span><span class='period'>.</span><span class='id identifier rubyid_zero!'>zero!</span>
        <span class='id identifier rubyid_prop'>prop</span><span class='period'>.</span><span class='id identifier rubyid_on_change'>on_change</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data'>data</span><span class='op'>|</span>
            <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_data'>data</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_configure'>configure</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>
    <span class='id identifier rubyid_t'>t</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="attribute-instance_method">
  
    #<strong>attribute</strong>(name, options = Hash.new, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 294</span>

<span class='kw'>def</span> <span class='id identifier rubyid_attribute'>attribute</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_call_with_async'>call_with_async</span><span class='lparen'>(</span><span class='symbol'>:orig_attribute</span><span class='comma'>,</span><span class='id identifier rubyid_block'>block</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call_with_async-instance_method">
  
    #<strong>call_with_async</strong>(method_name, user_callback, to_async_options, *args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Helper method to setup async calls</p>

<p>Asynchronous calls can be called either with a callback or without. In the
first case, the callback gets called later and the method returns right
aways, otherwise the method get synchronously called. For synchronization
reasons, even the synchronous call goes through the event loop (since the
event loop avoids reentrant calls using the sync key).</p>

<p>This method is the common setup for this scheme. It uses the fact that all
non-async objects must provide a #to_async call to create a corresponding
asynchronous-access object.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>method_name</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the method that should be called</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>user_callback</span>
      
      
        <span class='type'>(<tt>Proc</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the user-provided callback if there is one</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>to_async_options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the options that should be passed to to_async</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>arguments that should be forwarded to the underlying method</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>in the synchronous case, the method returns the underlying method&#39;s
return value. In the asynchronous case TODO</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 273</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call_with_async'>call_with_async</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span><span class='id identifier rubyid_user_callback'>user_callback</span><span class='comma'>,</span><span class='id identifier rubyid_to_async_options'>to_async_options</span><span class='comma'>,</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span><span class='id identifier rubyid_error'>error</span><span class='op'>|</span>
        <span class='id identifier rubyid_async_object'>async_object</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_to_async'>to_async</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='lbracket'>[</span><span class='symbol'>:use</span> <span class='op'>=&gt;</span> <span class='kw'>self</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_to_async_options'>to_async_options</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_user_callback'>user_callback</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_user_callback'>user_callback</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>==</span> <span class='int'>2</span>
                <span class='id identifier rubyid_user_callback'>user_callback</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_async_object'>async_object</span><span class='comma'>,</span><span class='id identifier rubyid_error'>error</span><span class='rparen'>)</span>
            <span class='kw'>else</span>
                <span class='id identifier rubyid_user_callback'>user_callback</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_async_object'>async_object</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_async_object'>async_object</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_user_callback'>user_callback</span>
        <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span><span class='op'>&amp;</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_async_object'>async_object</span> <span class='op'>=</span> <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_async_object'>async_object</span><span class='comma'>,</span><span class='kw'>nil</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear_interface-instance_method">
  
    #<strong>clear_interface</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


232
233
234
235
236</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 232</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clear_interface'>clear_interface</span>
    <span class='id identifier rubyid_process_port_names'>process_port_names</span>
    <span class='id identifier rubyid_process_attribute_names'>process_attribute_names</span>
    <span class='id identifier rubyid_process_property_names'>process_property_names</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="configure_delegation-instance_method">
  
    #<strong>configure_delegation</strong>(configure_options = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called by #reachable! to do subclass-specific configuration</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>configure_options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Hash.new</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>all options passed to #reachable! that are not understood by #reachable!</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 200</span>

<span class='kw'>def</span> <span class='id identifier rubyid_configure_delegation'>configure_delegation</span><span class='lparen'>(</span><span class='id identifier rubyid_configure_options'>configure_options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_attribute-instance_method">
  
    #<strong>each_attribute</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">task.each_attribute { |a| ... } =&gt; task
</code></pre>

<p>Enumerates the attributes that are available on this task, as instances of
Orocos::Attribute</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


326
327
328
329
330
331
332
333
334</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 326</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_attribute'>each_attribute</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_attribute</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_attribute_names'>attribute_names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_attribute'>attribute</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_port-instance_method">
  
    #<strong>each_port</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">task.each_port { |p| ... } =&gt; task
</code></pre>

<p>Enumerates the ports that are available on this task, as instances of
either Orocos::InputPort or Orocos::OutputPort</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


341
342
343
344
345
346
347
348
349</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 341</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_port'>each_port</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_port</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_port_names'>port_names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_property-instance_method">
  
    #<strong>each_property</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">task.each_property { |a| ... } =&gt; task
</code></pre>

<p>Enumerates the properties that are available on this task, as instances of
Orocos::Attribute</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


311
312
313
314
315
316
317
318
319</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 311</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_property'>each_property</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_property</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_property_names'>property_names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_property'>property</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
    <span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
        <span class='ivar'>@name</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span> <span class='kw'>if</span> <span class='ivar'>@name</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="port-instance_method">
  
    #<strong>port</strong>(name, verify = true, options = Hash.new, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


302
303
304</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 302</span>

<span class='kw'>def</span> <span class='id identifier rubyid_port'>port</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_verify'>verify</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_call_with_async'>call_with_async</span><span class='lparen'>(</span><span class='symbol'>:orig_port</span><span class='comma'>,</span><span class='id identifier rubyid_block'>block</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_verify'>verify</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="property-instance_method">
  
    #<strong>property</strong>(name, options = Hash.new, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


298
299
300</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 298</span>

<span class='kw'>def</span> <span class='id identifier rubyid_property'>property</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_call_with_async'>call_with_async</span><span class='lparen'>(</span><span class='symbol'>:orig_property</span><span class='comma'>,</span><span class='id identifier rubyid_block'>block</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reachable!-instance_method">
  
    #<strong>reachable!</strong>(options = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initiates the binding of the underlying sychronous access object to this
async object.</p>

<p>It can either be directly given an object, or be asked to (asynchronously)
query it.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Hash.new</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>a customizable set of options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">watchdog</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>if true, start a watchdog timer that monitors the availability of the task
context</p>
</div>
          
        </li>
      
        <li>
          <span class="name">period</span>
          <span class="type">(<tt>Float</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>default_period</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>the period for the watchdog (if enabled)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">wait</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>if true, reachable! will return only when the task has successfully been
found</p>
</div>
          
        </li>
      
        <li>
          <span class="name">use</span>
          <span class="type">(<tt>Object</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>if set, this is the object we will use as underlying sychronous object.
Otherwise, #task_context is going to be used to find it.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">raise</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>if set, the #task_context method will raise if the task context cannot be
accessed on first try. Otherwise, it will try to access it forever until it
finds it.</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 170</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reachable!'>reachable!</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_configure_options'>configure_options</span> <span class='op'>=</span> <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_filter_options'>filter_options</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
            <span class='symbol'>:watchdog</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span>
            <span class='symbol'>:period</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_default_period'>default_period</span><span class='comma'>,</span>
            <span class='symbol'>:wait</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
            <span class='symbol'>:use</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
            <span class='symbol'>:raise</span> <span class='op'>=&gt;</span> <span class='kw'>false</span>

        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_raise_on_access_error'>raise_on_access_error</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:raise</span><span class='rbracket'>]</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:use</span><span class='rbracket'>]</span>
            <span class='ivar'>@delegator_obj</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:use</span><span class='rbracket'>]</span>
            <span class='ivar'>@watchdog_timer</span><span class='period'>.</span><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='ivar'>@delegator_obj</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
        <span class='kw'>else</span>
            <span class='id identifier rubyid_invalidate_delegator!'>invalidate_delegator!</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_configure_delegation'>configure_delegation</span><span class='lparen'>(</span><span class='id identifier rubyid_configure_options'>configure_options</span><span class='rparen'>)</span>

        <span class='ivar'>@watchdog_timer</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:period</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:watchdog</span><span class='rbracket'>]</span>
        <span class='ivar'>@event_loop</span><span class='period'>.</span><span class='id identifier rubyid_async'>async</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:task_context</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_wait'>wait</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:wait</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reachable?-instance_method">
  
    #<strong>reachable?</strong>(&amp;block)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240
241
242
243
244
245
246
247
248</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 238</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reachable?'>reachable?</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
        <span class='id identifier rubyid_ping'>ping</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_ping'>ping</span>
    <span class='kw'>end</span>
    <span class='kw'>true</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../NotFound.html" title="Orocos::NotFound (class)">NotFound</a></span></span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../ComError.html" title="Orocos::ComError (class)">ComError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_unreachable!'>unreachable!</span><span class='lparen'>(</span><span class='symbol'>:error</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
    <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="really_add_listener-instance_method">
  
    #<strong>really_add_listener</strong>(listener)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 115</span>

<span class='kw'>def</span> <span class='id identifier rubyid_really_add_listener'>really_add_listener</span><span class='lparen'>(</span><span class='id identifier rubyid_listener'>listener</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>super</span> <span class='kw'>unless</span> <span class='id identifier rubyid_listener'>listener</span><span class='period'>.</span><span class='id identifier rubyid_use_last_value?'>use_last_value?</span>

    <span class='comment'># call new listeners with the current value
</span>    <span class='comment'># to prevent different behaviors depending on
</span>    <span class='comment'># the calling order
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_listener'>listener</span><span class='period'>.</span><span class='id identifier rubyid_event'>event</span> <span class='op'>==</span> <span class='symbol'>:port_reachable</span>
        <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span> <span class='ivar'>@port_names</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
        <span class='id identifier rubyid_event_loop'>event_loop</span><span class='period'>.</span><span class='id identifier rubyid_once'>once</span> <span class='kw'>do</span> 
            <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
                <span class='id identifier rubyid_listener'>listener</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_name'>name</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_listener'>listener</span><span class='period'>.</span><span class='id identifier rubyid_event'>event</span> <span class='op'>==</span> <span class='symbol'>:property_reachable</span>
        <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span> <span class='ivar'>@property_names</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
        <span class='id identifier rubyid_event_loop'>event_loop</span><span class='period'>.</span><span class='id identifier rubyid_once'>once</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
                <span class='id identifier rubyid_listener'>listener</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_name'>name</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_listener'>listener</span><span class='period'>.</span><span class='id identifier rubyid_event'>event</span> <span class='op'>==</span> <span class='symbol'>:attribute_reachable</span>
        <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span> <span class='ivar'>@attribute_names</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
        <span class='id identifier rubyid_event_loop'>event_loop</span><span class='period'>.</span><span class='id identifier rubyid_once'>once</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
                <span class='id identifier rubyid_listener'>listener</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_name'>name</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ruby_task_context?-instance_method">
  
    #<strong>ruby_task_context?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tests whether a mirroring task has been created with ruby_task_context</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ruby_task_context?'>ruby_task_context?</span>
    <span class='op'>!</span><span class='op'>!</span><span class='ivar'>@ruby_task_context</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_async-instance_method">
  
    #<strong>to_async</strong>(options = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 89</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_async'>to_async</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_proxy-instance_method">
  
    #<strong>to_proxy</strong>(options = Hash.new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 93</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_proxy'>to_proxy</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../Orocos.html" title="Orocos (module)">Orocos</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Async.html" title="Orocos::Async (module)">Async</a></span></span><span class='period'>.</span><span class='id identifier rubyid_proxy'><span class='object_link'><a href="../Async.html#proxy-class_method" title="Orocos::Async.proxy (method)">proxy</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_ruby-instance_method">
  
    #<strong>to_ruby</strong>  &#x21d2; <tt><span class='object_link'><a href="../RubyTasks/TaskContext.html" title="Orocos::RubyTasks::TaskContext (class)">RubyTasks::TaskContext</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a ruby task on which all received data is mirrored</p>

<p>This task context is unique, i.e. the same object will be returned by
subsequent calls to this method.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../RubyTasks/TaskContext.html" title="Orocos::RubyTasks::TaskContext (class)">RubyTasks::TaskContext</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 103</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_ruby'>to_ruby</span>
    <span class='ivar'>@ruby_task_context</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="" title="Orocos::Async::TaskContextBase (class)">TaskContextBase</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_ruby'><span class='object_link'><a href="#to_ruby-class_method" title="Orocos::Async::TaskContextBase.to_ruby (method)">to_ruby</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unreachable!-instance_method">
  
    #<strong>unreachable!</strong>(options = Hash.new)  &#x21d2; <tt><span class='object_link'><a href="../TaskContext.html" title="Orocos::TaskContext (class)">Orocos::TaskContext</a></span></tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Disconnectes self from the remote task context and returns its underlying
object used to communicate with the remote task (designated object).</p>

<p>Returns nil if the TaskContext is not connected. Returns an EventLoop Event
if not called from the event loop thread.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>reason</span>
      
      
        <span class='type'>(<tt>Exception</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The reason for the disconnect</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../TaskContext.html" title="Orocos::TaskContext (class)">Orocos::TaskContext</a></span></tt>, <tt>nil</tt>, <tt>Utilrb::EventLoop::Event</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orocos/async/task_context_base.rb', line 211</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unreachable!'>unreachable!</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_validate_options'>validate_options</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='symbol'>:error</span>
    <span class='comment'># ensure that this is always called from the
</span>    <span class='comment'># event loop thread
</span>    <span class='ivar'>@event_loop</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_old_task'>old_task</span> <span class='op'>=</span> <span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_valid_delegator?'>valid_delegator?</span>
                <span class='ivar'>@access_error</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:error</span><span class='rparen'>)</span> <span class='op'>||</span>
                    <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cannot access the remote task context for an unknown reason</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
                <span class='id identifier rubyid_task'>task</span> <span class='op'>=</span> <span class='ivar'>@delegator_obj</span>
                <span class='id identifier rubyid_invalidate_delegator!'>invalidate_delegator!</span>
                <span class='ivar'>@watchdog_timer</span><span class='period'>.</span><span class='id identifier rubyid_cancel'>cancel</span> <span class='kw'>if</span> <span class='ivar'>@watchdog_timer</span>
                <span class='id identifier rubyid_task'>task</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_clear_interface'>clear_interface</span>
        <span class='id identifier rubyid_event'>event</span> <span class='symbol'>:unreachable</span> <span class='kw'>if</span> <span class='id identifier rubyid_old_task'>old_task</span>
        <span class='id identifier rubyid_old_task'>old_task</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 10 22:10:32 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>